var x1=Object.defineProperty;var o=(ae,d)=>x1(ae,"name",{value:d,configurable:!0});(()=>{var __webpack_modules__={3850:(ae,d,T)=>{"use strict";T.r(d),T.d(d,{AppInsightsCore:()=>je,BaseCore:()=>Ye,BaseTelemetryPlugin:()=>re.i,CoreUtils:()=>Ce.Tr,DiagnosticLogger:()=>M.AQ,ESPromise:()=>St,ESPromiseScheduler:()=>F,EventHelper:()=>ue.zB,EventLatency:()=>h,EventPersistence:()=>x,EventPropertyType:()=>_,EventsDiscardedReason:()=>K.h,FullVersionString:()=>Ce.vs,InternalAppInsightsCore:()=>ye,InternalBaseCore:()=>ze,LoggingSeverity:()=>k,MinChannelPriorty:()=>p,NotificationManager:()=>ie,PerfEvent:()=>I.zn,PerfManager:()=>I.Jk,ProcessTelemetryContext:()=>L.Vi,TraceLevel:()=>m,Undefined:()=>qt.jA,Utils:()=>Ce.cQ,ValueKind:()=>A,ValueSanitizer:()=>g,Version:()=>Ce.Gf,_ExtendedInternalMessageId:()=>C,_InternalLogMessage:()=>M.lQ,_InternalMessageId:()=>z,__getRegisteredEvents:()=>Ee.um,_throwInternal:()=>M.kP,addEventHandler:()=>Ee.Ib,addEventListeners:()=>Ee.yw,addPageHideEventListener:()=>Ee.TJ,addPageShowEventListener:()=>Ee.nD,addPageUnloadEventListener:()=>Ee.c9,areCookiesSupported:()=>P.p7,arrForEach:()=>w.tO,arrIndexOf:()=>w.UA,arrMap:()=>w.Mr,arrReduce:()=>w.Xz,attachEvent:()=>Ee.pZ,cookieAvailable:()=>P.p7,createCookieMgr:()=>P.Nz,createEnumStyle:()=>b.By,createGuid:()=>Ce.cm,createProcessTelemetryContext:()=>L.CD,createTraceParent:()=>ln.SU,createUniqueNamespace:()=>le.J,createUnloadHandlerContainer:()=>oe.Y,dateNow:()=>w.m6,deleteCookie:()=>Ce.kT,detachEvent:()=>Ee.pD,disableCookies:()=>Ce.oF,disallowsSameSiteNone:()=>P.UY,doPerf:()=>I.Lm,dumpObj:()=>$.eU,eventOff:()=>Ee.QY,eventOn:()=>Ee.XO,extend:()=>Ce.l7,findW3cTraceParent:()=>ln.lq,formatTraceParent:()=>ln.aR,generateW3CId:()=>ue.DO,getCommonSchemaMetaData:()=>Ce.Vv,getConsole:()=>$.dr,getCookie:()=>Ce.ej,getCookieValue:()=>Ce.Do,getCrypto:()=>$.MX,getDocument:()=>$.Me,getExceptionName:()=>w.jj,getFieldValueType:()=>Ce.Sy,getGlobal:()=>Q.Rd,getGlobalInst:()=>$.a8,getHistory:()=>$.s1,getIEVersion:()=>$.sA,getISOString:()=>w.Y6,getJSON:()=>$.xA,getLocation:()=>$.k$,getMsCrypto:()=>$.gz,getNavigator:()=>$.jW,getPerformance:()=>$.r,getSetValue:()=>w.qK,getTenantId:()=>Ce.jM,getTime:()=>Ce.hK,getWindow:()=>$.Jj,hasDocument:()=>$.Nv,hasHistory:()=>$.fE,hasJSON:()=>$.nS,hasNavigator:()=>$.d6,hasOwnProperty:()=>w.nr,hasWindow:()=>$.Ym,isArray:()=>w.kJ,isArrayValid:()=>Ce.JT,isBeaconsSupported:()=>$.MF,isBoolean:()=>w.jn,isChromium:()=>Ce.mJ,isDate:()=>w.J_,isDocumentObjectAvailable:()=>Ce.x9,isError:()=>w.VZ,isFetchSupported:()=>$.JO,isFunction:()=>w.mf,isIE:()=>$.w1,isLatency:()=>Ce.r7,isNotTruthy:()=>w.F,isNullOrUndefined:()=>w.le,isNumber:()=>w.hj,isObject:()=>w.Kn,isReactNative:()=>$.b$,isSampledFlag:()=>ln.Pn,isString:()=>w.HD,isTruthy:()=>w.fQ,isTypeof:()=>w.Ym,isUint8ArrayAvailable:()=>Ce.IZ,isUndefined:()=>w.o8,isValidSpanId:()=>ln.Lc,isValidTraceId:()=>ln.jN,isValidTraceParent:()=>ln.J6,isValueAssigned:()=>Ce.Sn,isValueKind:()=>Ce.oS,isWindowObjectAvailable:()=>Ce.dH,isXhrSupported:()=>$.Z3,mergeEvtNamespace:()=>Ee.jU,newGuid:()=>ue.GW,newId:()=>Pe.pZ,normalizeJsName:()=>w.Gf,objCreate:()=>Q.pu,objDefineAccessors:()=>w.l_,objForEachKey:()=>w.rW,objFreeze:()=>w.FL,objKeys:()=>w.FY,objSeal:()=>w.Xi,openXhr:()=>Ce.ot,optimizeObject:()=>w.Ax,parseTraceParent:()=>ln.j_,perfNow:()=>ue.Jj,proxyAssign:()=>w.cf,proxyFunctionAs:()=>w.Oi,proxyFunctions:()=>w.Vb,random32:()=>Pe._l,randomValue:()=>Pe.az,removeEventHandler:()=>Ee.C1,removeEventListeners:()=>Ee.nJ,removePageHideEventListener:()=>Ee.C9,removePageShowEventListener:()=>Ee.Yl,removePageUnloadEventListener:()=>Ee.JA,safeGetCookieMgr:()=>P.JP,safeGetLogger:()=>M.vH,sanitizeProperty:()=>Ce.yj,setCookie:()=>Ce.d8,setEnableEnvMocks:()=>$.dI,setProcessTelemetryTimings:()=>Ce.if,setValue:()=>w.sO,strContains:()=>w._Q,strEndsWith:()=>w.Id,strFunction:()=>qt.cb,strObject:()=>qt.fK,strPrototype:()=>qt.hB,strStartsWith:()=>w.xe,strTrim:()=>w.nd,strUndefined:()=>qt.jA,throwError:()=>w._y,toISOString:()=>w.Y6,useXDomainRequest:()=>$.cp});var E=T(1088),b=T(4873),w=T(6708),k=(0,b.By)({CRITICAL:1,WARNING:2}),z=(0,b.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),A=(0,b.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),h=(0,b.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),_=(0,b.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),x=(0,b.By)({Normal:1,Critical:2}),m=(0,b.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),C=(0,w.FL)((0,E.uc)((0,E.uc)({},z),(0,b.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),M=T(5018),I=T(9288),$=T(7630),Q=T(2091),ee=T(1679),L=T(1589),B=T(3833),P=T(3242),R=T(3171),D=T(7158),O=T(6041),J=500,V="Channel has invalid priority - ";function te(et,Ge,Le,Ke){Ge&&(0,w.kJ)(Ge)&&Ge.length>0&&(Ge=Ge.sort(function(ht,ut){return ht.priority-ut.priority}),(0,w.tO)(Ge,function(ht){ht.priority<J&&(0,w._y)(V+ht.identifier)}),et.push({queue:(0,w.FL)(Ge),chain:(0,L.jV)(Ge,Le,Ke)}))}o(te,"_addChannelQueue");function he(et,Ge){var Le;function Ke(){return(0,L.CD)(null,Ge.config,Ge,null)}o(Ke,"_getTelCtx");function ht(Ve,gt,it,Tt){var kt=Ve?Ve.length+1:1;function un(){kt--,kt===0&&(Tt&&Tt(),Tt=null)}o(un,"_runChainOnComplete"),kt>0&&(0,w.tO)(Ve,function(Y){if(Y&&Y.queue.length>0){var Be=Y.chain,Qe=gt.createNew(Be);Qe.onComplete(un),it(Qe)}else kt--}),un()}o(ht,"_processChannelQueue");function ut(Ve,gt){var it=gt||{reason:0};return ht(et,Ve,function(Tt){Tt[O.Z_](it)},function(){Ve[O.Z_](it)}),!0}o(ut,"_doUpdate");function st(Ve,gt){var it=gt||{reason:0,isAsync:!1};return ht(et,Ve,function(Tt){Tt[O.Z_](it)},function(){Ve[O.Z_](it),Kt=!1}),!0}o(st,"_doTeardown");function Lt(Ve){var gt=null;return et&&et.length>0&&(0,w.tO)(et,function(it){if(it&&it.queue.length>0&&((0,w.tO)(it.queue,function(Tt){if(Tt.identifier===Ve)return gt=Tt,-1}),gt))return-1}),gt}o(Lt,"_getChannel");var Kt=!1,Zt=(Le={identifier:"ChannelControllerPlugin",priority:J,initialize:function(Ve,gt,it,Tt){Kt=!0,(0,w.tO)(et,function(kt){kt&&kt.queue.length>0&&(0,B.bP)((0,L.CD)(kt.chain,Ve,gt),it)})},isInitialized:function(){return Kt},processTelemetry:function(Ve,gt){ht(et,gt||Ke(),function(it){it[O.Z_](Ve)},function(){gt[O.Z_](Ve)})},update:ut},Le[O.nE]=function(){ht(et,Ke(),function(Ve){Ve.iterate(function(gt){gt[O.nE]&&gt[O.nE]()})},null)},Le[O.Mf]=function(){ht(et,Ke(),function(Ve){Ve.iterate(function(gt){gt[O.Mf]&&gt[O.Mf]()})},null)},Le[O.vE]=st,Le.getChannel=Lt,Le.flush=function(Ve,gt,it,Tt){var kt=1,un=!1,Y=null;Tt=Tt||5e3;function Be(){kt--,un&&kt===0&&(Y&&(clearTimeout(Y),Y=null),gt&&gt(un),gt=null)}return o(Be,"doCallback"),ht(et,Ke(),function(Qe){Qe.iterate(function(vt){if(vt.flush){kt++;var Bt=!1;vt.flush(Ve,function(){Bt=!0,Be()},it)||Bt||(Ve&&Y==null?Y=setTimeout(function(){Y=null,Be()},Tt):Be())}})},function(){un=!0,Be()}),!0},Le._setQueue=function(Ve){et=Ve},Le);return Zt}o(he,"createChannelControllerPlugin");function ge(et,Ge,Le,Ke){var ht=[];if(et&&(0,w.tO)(et,function(st){return te(ht,st,Le,Ke)}),Ge){var ut=[];(0,w.tO)(Ge,function(st){st.priority>J&&ut.push(st)}),te(ht,ut,Le,Ke)}return ht}o(ge,"createChannelQueues");var re=T(4063),G=function(et){(0,E.ne)(Ge,et);function Ge(){var Le=et.call(this)||this;Le.identifier="TelemetryInitializerPlugin",Le.priority=199;var Ke,ht;ut(),(0,ee.Z)(Ge,Le,function(st,Lt){st.addTelemetryInitializer=function(Kt){var Zt={id:Ke++,fn:Kt};ht.push(Zt);var Ve={remove:function(){(0,w.tO)(ht,function(gt,it){if(gt.id===Zt.id)return ht.splice(it,1),-1})}};return Ve},st.processTelemetry=function(Kt,Zt){for(var Ve=!1,gt=ht.length,it=0;it<gt;++it){var Tt=ht[it];if(Tt)try{if(Tt.fn.apply(null,[Kt])===!1){Ve=!0;break}}catch(kt){(0,M.kP)(Zt.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,w.jj)(kt),{exception:(0,$.eU)(kt)},!0)}}Ve||st.processNext(Kt,Zt)},st[O.Ho]=function(){ut()}});function ut(){Ke=0,ht=[]}return o(ut,"_initDefaults"),Le}return o(Ge,"TelemetryInitializerPlugin"),Ge}(re.i),le=T(5883),oe=T(310),de="Plugins must provide initialize method",pe="_notificationManager",me="SDK is still unloading...",Me="SDK is not initialized",_t={loggingLevelConsole:1};function qe(et,Ge){return new I.Jk(Ge)}o(qe,"_createPerfManager");function W(et,Ge,Le){var Ke=[],ht={};return(0,w.tO)(Le,function(ut){((0,w.le)(ut)||(0,w.le)(ut.initialize))&&(0,w._y)(de);var st=ut.priority,Lt=ut.identifier;ut&&st&&((0,w.le)(ht[st])?ht[st]=Lt:(0,M.jV)(et,"Two extensions have same priority #"+st+" - "+ht[st]+", "+Lt)),(!st||st<Ge)&&Ke.push(ut)}),{all:Le,core:Ke}}o(W,"_validateExtensions");function Oe(et,Ge){var Le=!1;return(0,w.tO)(Ge,function(Ke){if(Ke===et)return Le=!0,-1}),Le}o(Oe,"_isPluginPresent");function Ie(){var et;return(0,Q.pu)((et={},et[O.dV]=function(Ge){},et[O.XP]=function(Ge){},et[O.eO]=function(Ge){},et[O.H4]=function(Ge,Le){},et[O.rX]=function(Ge,Le){},et))}o(Ie,"_createDummyNotificationManager");var ze=function(){function et(){var Ge,Le,Ke,ht,ut,st,Lt,Kt,Zt,Ve,gt,it,Tt,kt,un,Y,Be,Qe,vt,Bt=0;(0,ee.Z)(et,this,function(De){mt(),De.isInitialized=function(){return Ge},De.initialize=function(tt,Wt,Ft,pt){Tt&&(0,w._y)(me),De.isInitialized()&&(0,w._y)("Core should not be initialized more than once"),(!tt||(0,w.le)(tt.instrumentationKey))&&(0,w._y)("Please provide instrumentation key"),Ke=pt,De[pe]=pt,De.config=tt||{},Jt(tt),hn(tt),tt.extensions=(0,w.le)(tt.extensions)?[]:tt.extensions,Fn(tt),Ft&&(De.logger=Ft),Kt=[],Kt.push.apply(Kt,(0,E.$h)((0,E.$h)([],Wt,!1),tt.extensions,!1)),gt=(tt||{}).channels,dt(tt,null),(!it||it.length===0)&&(0,w._y)("No channels available"),Ge=!0,De.releaseQueue()},De.getTransmissionControls=function(){var tt=[];return it&&(0,w.tO)(it,function(Wt){tt.push(Wt.queue)}),(0,w.FL)(tt)},De.track=function(tt){(0,w.sO)(tt,R.z,De.config.instrumentationKey,null,w.F),(0,w.sO)(tt,"time",(0,w.Y6)(new Date),null,w.F),(0,w.sO)(tt,"ver","4.0",null,w.le),!Tt&&De.isInitialized()?Mt().processNext(tt):Le.push(tt)},De.getProcessTelContext=Mt,De.getNotifyMgr=function(){return Ke||(Ke=Ie(),De[pe]=Ke),Ke},De[O.dV]=function(tt){Ke&&Ke[O.dV](tt)},De[O.XP]=function(tt){Ke&&Ke[O.XP](tt)},De.getCookieMgr=function(){return st||(st=(0,P.Nz)(De.config,De.logger)),st},De.setCookieMgr=function(tt){st=tt},De.getPerfMgr=function(){return!ht&&!ut&&De.config&&De.config.enablePerfMgr&&(0,w.mf)(De.config.createPerfMgr)&&(ut=De.config.createPerfMgr(De,De.getNotifyMgr())),ht||ut||(0,I.j5)()},De.setPerfMgr=function(tt){ht=tt},De.eventCnt=function(){return Le.length},De.releaseQueue=function(){if(Ge&&Le.length>0){var tt=Le;Le=[],(0,w.tO)(tt,function(Wt){Mt().processNext(Wt)})}},De.pollInternalLogs=function(tt){un=tt||null;var Wt=De.config.diagnosticLogInterval;return(!Wt||!(Wt>0))&&(Wt=1e4),Bt&&clearInterval(Bt),Bt=setInterval(function(){yt()},Wt),Bt},De.stopPollingInternalLogs=function(){Bt&&(clearInterval(Bt),Bt=0,yt())},(0,w.Vb)(De,function(){return kt},["addTelemetryInitializer"]),De.unload=function(tt,Wt,Ft){tt===void 0&&(tt=!0),Ge||(0,w._y)(Me),Tt&&(0,w._y)(me);var pt={reason:50,isAsync:tt,flushComplete:!1},Yt=(0,L.Bt)($t(),De);Yt.onComplete(function(){mt(),Wt&&Wt(pt)},De);function tn(Vt){pt.flushComplete=Vt,Tt=!0,Be.run(Yt,pt),De.stopPollingInternalLogs(),Yt.processNext(pt)}o(tn,"_doUnload"),en(tt,tn,6,Ft)||tn(!1)},De.getPlugin=Xe,De.addPlugin=function(tt,Wt,Ft,pt){if(!tt){pt&&pt(!1),xn(de);return}var Yt=Xe(tt.identifier);if(Yt&&!Wt){pt&&pt(!1),xn("Plugin ["+tt.identifier+"] is already loaded!");return}var tn={reason:16};function Vt(Cn){Kt.push(tt),tn.added=[tt],dt(De.config,tn),pt&&pt(!0)}if(o(Vt,"_addPlugin"),Yt){var gn=[Yt.plugin],kn={reason:2,isAsync:!!Ft};Ot(gn,kn,function(Cn){Cn?(tn.removed=gn,tn.reason|=32,Vt(!0)):pt&&pt(!1)})}else Vt(!1)},De.evtNamespace=function(){return Y},De.flush=en,De.getTraceCtx=function(tt){return vt||(vt=(0,B.Yn)()),vt},De.setTraceCtx=function(tt){vt=tt||null},(0,w.Oi)(De,"addUnloadCb",function(){return Be},"add");function mt(){Ge=!1,De.config=(0,w.mm)(!0,{},_t),De.logger=new M.AQ(De.config),De._extensions=[],kt=new G,Le=[],Ke=null,ht=null,ut=null,st=null,Lt=null,Zt=null,Kt=[],Ve=null,gt=null,it=null,Tt=!1,un=null,Y=(0,le.J)("AIBaseCore",!0),Be=(0,oe.Y)(),vt=null}o(mt,"_initDefaults");function Mt(){return(0,L.CD)($t(),De.config,De)}o(Mt,"_createTelCtx");function dt(tt,Wt){var Ft=W(De.logger,J,Kt);Zt=Ft.core,Lt=null;var pt=Ft.all;if(it=(0,w.FL)(ge(gt,pt,tt,De)),Ve){var Yt=(0,w.UA)(pt,Ve);Yt!==-1&&pt.splice(Yt,1),Yt=(0,w.UA)(Zt,Ve),Yt!==-1&&Zt.splice(Yt,1),Ve._setQueue(it)}else Ve=he(it,De);pt.push(Ve),Zt.push(Ve),De._extensions=(0,B.AA)(pt),Ve.initialize(tt,De,pt),(0,B.bP)(Mt(),pt),De._extensions=(0,w.FL)((0,B.AA)(Zt||[])).slice(),Wt&&er(Wt)}o(dt,"_initPluginChain");function Xe(tt){var Wt=null,Ft=null;return(0,w.tO)(De._extensions,function(pt){if(pt.identifier===tt&&pt!==Ve&&pt!==kt)return Ft=pt,-1}),!Ft&&Ve&&(Ft=Ve.getChannel(tt)),Ft&&(Wt={plugin:Ft,setEnabled:function(pt){(0,B.OY)(Ft)[O.C0]=!pt},isEnabled:function(){var pt=(0,B.OY)(Ft);return!pt[O.vE]&&!pt[O.C0]},remove:function(pt,Yt){pt===void 0&&(pt=!0);var tn=[Ft],Vt={reason:1,isAsync:pt};Ot(tn,Vt,function(gn){gn&&dt(De.config,{reason:32,removed:tn}),Yt&&Yt(gn)})}}),Wt}o(Xe,"_getPlugin");function $t(){if(!Lt){var tt=(Zt||[]).slice();(0,w.UA)(tt,kt)===-1&&tt.push(kt),Lt=(0,L.jV)((0,B.AA)(tt),De.config,De)}return Lt}o($t,"_getPluginChain");function Ot(tt,Wt,Ft){if(tt&&tt.length>0){var pt=(0,L.jV)(tt,De.config,De),Yt=(0,L.Bt)(pt,De);Yt.onComplete(function(){var tn=!1,Vt=[];(0,w.tO)(Kt,function(kn,Cn){Oe(kn,tt)?tn=!0:Vt.push(kn)}),Kt=Vt;var gn=[];gt&&((0,w.tO)(gt,function(kn,Cn){var Tn=[];(0,w.tO)(kn,function(Vn){Oe(Vn,tt)?tn=!0:Tn.push(Vn)}),gn.push(Tn)}),gt=gn),Ft&&Ft(tn)}),Yt.processNext(Wt)}else Ft(!1)}o(Ot,"_removePlugins");function yt(){var tt=De.logger?De.logger.queue:[];tt&&((0,w.tO)(tt,function(Wt){var Ft={name:un||"InternalMessageId: "+Wt.messageId,iKey:De.config.instrumentationKey,time:(0,w.Y6)(new Date),baseType:M.lQ.dataType,baseData:{message:Wt.message}};De.track(Ft)}),tt.length=0)}o(yt,"_flushInternalLogs");function en(tt,Wt,Ft,pt){return Ve?Ve.flush(tt,Wt,Ft||6,pt):(Wt&&Wt(!1),!0)}o(en,"_flushChannels");function Jt(tt){tt.disableDbgExt===!0&&Qe&&(Ke[O.XP](Qe),Qe=null),Ke&&!Qe&&tt.disableDbgExt!==!0&&(Qe=(0,D.p)(tt),Ke[O.dV](Qe))}o(Jt,"_initDebugListener");function hn(tt){!tt.enablePerfMgr&&ut&&(ut=null),tt.enablePerfMgr&&(0,w.sO)(De.config,"createPerfMgr",qe)}o(hn,"_initPerfManager");function Fn(tt){var Wt=(0,w.qK)(tt,R.F);Wt.NotificationManager=Ke}o(Fn,"_initExtConfig");function er(tt){var Wt=(0,L.xy)($t(),De);(!De._updateHook||De._updateHook(Wt,tt)!==!0)&&Wt.processNext(tt)}o(er,"_doUpdate");function xn(tt){var Wt=De.logger;Wt?(0,M.kP)(Wt,2,73,tt):(0,w._y)(tt)}o(xn,"_logOrThrowError")})}return o(et,"BaseCore"),et}();function ve(et,Ge,Le,Ke){(0,w.tO)(et,function(ht){if(ht&&ht[Ge])if(Le)setTimeout(function(){return Ke(ht)},0);else try{Ke(ht)}catch(ut){}})}o(ve,"_runListeners");var ie=function(){function et(Ge){this.listeners=[];var Le=!!(Ge||{}).perfEvtsSendAll;(0,ee.Z)(et,this,function(Ke){Ke[O.dV]=function(ht){Ke.listeners.push(ht)},Ke[O.XP]=function(ht){for(var ut=(0,w.UA)(Ke.listeners,ht);ut>-1;)Ke.listeners.splice(ut,1),ut=(0,w.UA)(Ke.listeners,ht)},Ke[O.eO]=function(ht){ve(Ke.listeners,O.eO,!0,function(ut){ut[O.eO](ht)})},Ke[O.H4]=function(ht,ut){ve(Ke.listeners,O.H4,!0,function(st){st[O.H4](ht,ut)})},Ke[O.rX]=function(ht,ut){ve(Ke.listeners,O.rX,ut,function(st){st[O.rX](ht,ut)})},Ke[O.SN]=function(ht){ht&&(Le||!ht.isChildEvt())&&ve(Ke.listeners,O.SN,!1,function(ut){ht.isAsync?setTimeout(function(){return ut[O.SN](ht)},0):ut[O.SN](ht)})}})}return o(et,"NotificationManager"),et}(),ye=function(et){(0,E.ne)(Ge,et);function Ge(){var Le=et.call(this)||this;return(0,ee.Z)(Ge,Le,function(Ke,ht){Ke.initialize=function(Lt,Kt,Zt,Ve){ht.initialize(Lt,Kt,Zt||new M.AQ(Lt),Ve||new ie(Lt))},Ke.track=function(Lt){(0,I.Lm)(Ke.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){Lt===null&&(st(Lt),(0,w._y)("Invalid telemetry item")),ut(Lt),ht.track(Lt)},function(){return{item:Lt}},!Lt.sync)};function ut(Lt){(0,w.le)(Lt.name)&&(st(Lt),(0,w._y)("telemetry name required"))}o(ut,"_validateTelemetryItem");function st(Lt){var Kt=Ke.getNotifyMgr();Kt&&Kt.eventsDiscarded([Lt],2)}o(st,"_notifyInvalidEvent")}),Le}return o(Ge,"AppInsightsCore"),Ge}(ze),Ce=T(3599),ce="version",Re="properties",Te=function(et){(0,E.ne)(Ge,et);function Ge(){var Le=et.call(this)||this;return Le.pluginVersionStringArr=[],Le.pluginVersionString="",(0,ee.Z)(Ge,Le,function(Ke,ht){(!Ke.logger||!Ke.logger.queue)&&(Ke.logger=new M.AQ({loggingLevelConsole:1})),Ke.initialize=function(ut,st,Lt,Kt){(0,I.Lm)(Ke,function(){return"AppInsightsCore.initialize"},function(){if(ut){ut.endpointUrl||(ut.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var Zt=ut.propertyStorageOverride;if(Zt&&(!Zt.getProperty||!Zt.setProperty))throw new Error("Invalid property storage override passed.");ut.channels&&(0,w.tO)(ut.channels,function(it){it&&(0,w.tO)(it,function(Tt){if(Tt.identifier&&Tt.version){var kt=Tt.identifier+"="+Tt.version;Ke.pluginVersionStringArr.push(kt)}})})}Ke.getWParam=function(){return typeof document!="undefined"?0:-1},st&&(0,w.tO)(st,function(it){if(it&&it.identifier&&it.version){var Tt=it.identifier+"="+it.version;Ke.pluginVersionStringArr.push(Tt)}}),Ke.pluginVersionString=Ke.pluginVersionStringArr.join(";");try{ht.initialize(ut,st,Lt,Kt),Ke.pollInternalLogs("InternalLog")}catch(it){var Ve=Ke.logger,gt=(0,$.eU)(it);gt.indexOf("channels")!==-1&&(gt+=`
 - Channels must be provided through config.channels only!`),Ve.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+gt)}},function(){return{config:ut,extensions:st,logger:Lt,notificationManager:Kt}})},Ke.track=function(ut){(0,I.Lm)(Ke,function(){return"AppInsightsCore.track"},function(){var st=ut;if(st){st.timings=st.timings||{},st.timings.trackStart=(0,Ce.hK)(),(0,Ce.r7)(st.latency)||(st.latency=1);var Lt=st.ext=st.ext||{};Lt.sdk=Lt.sdk||{},Lt.sdk.ver=Ce.vs;var Kt=st.baseData=st.baseData||{};Kt[Re]||(Kt[Re]={});var Zt=Kt[Re];Zt[ce]||(Zt[ce]=""),Ke.pluginVersionString!==""&&(Zt[ce]=Ke.pluginVersionString)}ht.track(st)},function(){return{item:ut}},!ut.sync)}}),Le}return o(Ge,"AppInsightsCore"),Ge}(ye);const je=Te;var ot=function(et){(0,E.ne)(Ge,et);function Ge(){var Le=et.call(this)||this;return(0,ee.Z)(Ge,Le,function(Ke,ht){Ke.initialize=function(ut,st,Lt,Kt){ut&&!ut.endpointUrl&&(ut.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),Ke.getWParam=function(){return Ce.x9?0:-1};try{ht.initialize(ut,st,Lt,Kt)}catch(Zt){(0,M.kP)(Ke.logger,1,514,"Initialization Failed: "+(0,$.eU)(Zt)+`
 - Note: Channels must be provided through config.channels only`)}},Ke.track=function(ut){var st=ut;if(st){var Lt=st.ext=st.ext||{};Lt.sdk=Lt.sdk||{},Lt.sdk.ver=Ce.vs}ht.track(st)}}),Le}return o(Ge,"BaseCore"),Ge}(ze);const Ye=ot;var jt=w.mf;function Je(et,Ge,Le){return function(Ke){et[Ge]=Ke,Le()}}o(Je,"_createPromiseAllOnResolvedFunction");var fn=function(){function et(Ge){var Le=0,Ke=null,ht=[];(0,ee.Z)(et,this,function(Zt){Zt.then=function(Ve,gt){return new et(function(it,Tt){ut(Ve,gt,it,Tt)})},Zt.catch=function(Ve){return Zt.then(null,Ve)}});function ut(Zt,Ve,gt,it){ht.push(function(){var Tt;try{Le===1?Tt=jt(Zt)?Zt(Ke):Ke:Tt=jt(Ve)?Ve(Ke):Ke,Tt instanceof et?Tt.then(gt,it):Le===2&&!jt(Ve)?it(Tt):gt(Tt)}catch(kt){it(kt);return}}),Le!==0&&st()}o(ut,"_enqueue");function st(){if(ht.length>0){var Zt=ht.slice();ht=[],setTimeout(function(){for(var Ve=0,gt=Zt.length;Ve<gt;++Ve)try{Zt[Ve]()}catch(it){}},0)}}o(st,"_processQueue");function Lt(Zt){Le===0&&(Ke=Zt,Le=1,st())}o(Lt,"_resolve");function Kt(Zt){Le===0&&(Ke=Zt,Le=2,st())}o(Kt,"_reject"),o(function(){if(!jt(Ge))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{Ge(Lt,Kt)}catch(Ve){Kt(Ve)}},"_initialize")()}return o(et,"ESPromise"),et.resolve=function(Ge){return Ge instanceof et?Ge:Ge&&jt(Ge.then)?new et(function(Le,Ke){try{Ge.then(Le,Ke)}catch(ht){Ke(ht)}}):new et(function(Le){Le(Ge)})},et.reject=function(Ge){return new et(function(Le,Ke){Ke(Ge)})},et.all=function(Ge){if(!(!Ge||!Ge.length))return new et(function(Le,Ke){try{for(var ht=[],ut=0,st=0;st<Ge.length;st++){var Lt=Ge[st];Lt&&jt(Lt.then)?(ut++,Lt.then(Je(ht,st,function(){--ut==0&&Le(ht)}),Ke)):ht[st]=Lt}ut===0&&setTimeout(function(){Le(ht)},0)}catch(Kt){Ke(Kt)}})},et.race=function(Ge){return new et(function(Le,Ke){if(!(!Ge||!Ge.length))try{for(var ht=o(function(st){var Lt=Ge[st];Lt&&jt(Lt.then)?Lt.then(Le,Ke):setTimeout(function(){Le(Lt)},0)},"_loop_1"),ut=0;ut<Ge.length;ut++)ht(ut)}catch(st){Ke(st)}})},et}();const St=fn;var Ae=6e5,xe=0,$e=[],Nt=[],Sn=[];function _n(){return new Date().getTime()}o(_n,"_getTime");var Dn=function(){function et(Ge,Le){var Ke=0,ht=(Ge||"<unnamed>")+"."+xe;xe++,(0,ee.Z)(et,this,function(Lt){var Kt=null,Zt=0;Lt.scheduleEvent=function(gt,it,Tt){var kt=ht+"."+Zt;Zt++,it&&(kt+="-("+it+")");var un=kt+"{"+Ke+"}";Ke++;var Y={evt:null,tm:_n(),id:un,isRunning:!1,isAborted:!1};return Kt?Y.evt=Mt(Y,Kt):Y.evt=mt(Y),Kt=Y,Kt.evt._schId=un,Y.evt;function Be(dt){for(var Xe=_n(),$t=Xe-Ae,Ot=dt.length,yt=0;yt<Ot;){var en=dt[yt];if(en&&en.tm<$t){var Jt=null;en.abort?(Jt="Aborting ["+en.id+"] due to Excessive runtime ("+(Xe-en.tm)+" ms)",en.abort(Jt)):Jt="Removing ["+en.id+"] due to Excessive runtime ("+(Xe-en.tm)+" ms)",st(Jt),dt.splice(yt,1),Ot--}else yt++}}o(Be,"_abortAndRemoveOldEvents");function Qe(dt,Xe){var $t=!1,Ot=Ve($e,dt);if(Ot||(Ot=Ve(Sn,dt),$t=!0),Ot){Ot.to&&(clearTimeout(Ot.to),Ot.to=null);var yt=_n()-Ot.tm;Xe?$t?st("Timed out event ["+dt+"] finally complete -- "+yt+" ms"):ut("Promise ["+dt+"] Complete -- "+yt+" ms"):(Sn.push(Ot),st("Event ["+dt+"] Timed out and removed -- "+yt+" ms"))}else ut("Failed to remove ["+dt+"] from running queue");Kt&&Kt.id===dt&&(Kt=null),Be($e),Be(Nt),Be(Sn)}o(Qe,"_cleanup");function vt(dt,Xe){return function($t){return Qe(dt,!0),Xe&&Xe($t),$t}}o(vt,"_removeScheduledEvent");function Bt(dt,Xe,$t,Ot){Xe.then(function(yt){return yt instanceof St?(ut("Event ["+dt+"] returned a promise -- waiting"),Bt(dt,yt,$t,Ot),yt):vt(dt,$t)(yt)},vt(dt,Ot))}o(Bt,"_waitForFinalResult");function De(dt,Xe){var $t=dt.id;return new St(function(Ot,yt){ut("Event ["+$t+"] Starting -- waited for "+(dt.wTm||"--")+" ms"),dt.isRunning=!0,dt.abort=function(Jt){dt.abort=null,dt.isAborted=!0,Qe($t,!1),yt(new Error(Jt))};var en=Xe($t);en instanceof St?(Tt&&(dt.to=setTimeout(function(){Qe($t,!1),yt(new Error("Timed out after ["+Tt+"] ms"))},Tt)),Bt($t,en,function(Jt){ut("Event ["+$t+"] Resolving after "+(_n()-dt.tm)+" ms"),Ot(Jt)},yt)):(ut("Promise ["+$t+"] Auto completed as the start action did not return a promise"),Ot())})}o(De,"_createScheduledEvent");function mt(dt){var Xe=_n();return dt.wTm=Xe-dt.tm,dt.tm=Xe,dt.isAborted?St.reject(new Error("["+kt+"] was aborted")):($e.push(dt),De(dt,gt))}o(mt,"_startWaitingEvent");function Mt(dt,Xe){var $t=new St(function(Ot,yt){var en=_n()-Xe.tm,Jt=Xe.id;ut("["+kt+"] is waiting for ["+Jt+":"+en+" ms] to complete before starting -- ["+Nt.length+"] waiting and ["+$e.length+"] running"),dt.abort=function(hn){dt.abort=null,Ve(Nt,kt),dt.isAborted=!0,yt(new Error(hn))},Xe.evt.then(function(hn){Ve(Nt,kt),mt(dt).then(Ot,yt)},function(hn){Ve(Nt,kt),mt(dt).then(Ot,yt)})});return Nt.push(dt),$t}o(Mt,"_waitForPreviousEvent")};function Ve(gt,it){for(var Tt=0;Tt<gt.length;Tt++)if(gt[Tt].id===it)return gt.splice(Tt,1)[0];return null}o(Ve,"_removeQueuedEvent")});function ut(Lt){var Kt=(0,Q.Rd)();Kt&&Kt.QUnit&&console&&console.log("ESPromiseScheduler["+ht+"] "+Lt)}o(ut,"_debugLog");function st(Lt){Le&&Le.warnToConsole("ESPromiseScheduler["+ht+"] "+Lt)}o(st,"_warnLog")}return o(et,"ESPromiseScheduler"),et.incomplete=function(){return $e},et.waitingToStart=function(){return Nt},et}();const F=Dn;var g=function(){function et(Ge){var Le=this,Ke={},ht=[],ut=[];Ge&&ut.push(Ge);function st(Ve,gt){var it,Tt=Ke[Ve];if(Tt&&(it=Tt[gt]),!it&&it!==null){if((0,w.HD)(Ve)&&(0,w.HD)(gt))if(ut.length>0){for(var kt=0;kt<ut.length;kt++)if(ut[kt].handleField(Ve,gt)){it={canHandle:!0,fieldHandler:ut[kt]};break}}else ht.length===0&&(it={canHandle:!0});if(!it&&it!==null){it=null;for(var kt=0;kt<ht.length;kt++)if(ht[kt].handleField(Ve,gt)){it={canHandle:!0,handler:ht[kt],fieldHandler:null};break}}Tt||(Tt=Ke[Ve]={}),Tt[gt]=it}return it}o(st,"_getFieldSanitizer"),Le.addSanitizer=function(Ve){Ve&&(ht.push(Ve),Ke={})},Le.addFieldSanitizer=function(Ve){Ve&&(ut.push(Ve),Ke={})},Le.handleField=function(Ve,gt){var it=st(Ve,gt);return it?it.canHandle:!1},Le.value=function(Ve,gt,it,Tt){var kt=st(Ve,gt);if(kt&&kt.canHandle){if(!kt||!kt.canHandle)return null;if(kt.handler)return kt.handler.value(Ve,gt,it,Tt);if(!(0,w.HD)(gt)||(0,w.le)(it)||it==="")return null;var un=null,Y=(0,Ce.Sy)(it);if((Y&8192)==8192){var Be=Y&~8192;if(un=it,!(0,Ce.Sn)(un.value)||Be!==1&&Be!==2&&Be!==3&&(Be&4096)!=4096)return null}else Y===1||Y===2||Y===3||(Y&4096)==4096?un=Kt(Ve,gt,it):Y===4&&(un=Kt(Ve,gt,Tt?JSON.stringify(it):it));if(un)return Lt(kt,Ve,gt,Y,un,Tt)}return null},Le.property=function(Ve,gt,it,Tt){var kt=st(Ve,gt);if(!kt||!kt.canHandle||!(0,w.HD)(gt)||(0,w.le)(it)||!(0,Ce.Sn)(it.value))return null;var un=(0,Ce.Sy)(it.value);return un===0?null:Lt(kt,Ve,gt,un,it,Tt)};function Lt(Ve,gt,it,Tt,kt,un){if(Ve.handler)return Ve.handler.property(gt,it,kt,un);if(!(0,w.le)(kt.kind)){if((Tt&4096)==4096||!(0,Ce.oS)(kt.kind))return null;kt.value=kt.value.toString()}return Zt(Ve.fieldHandler,gt,it,Tt,kt)}o(Lt,"_handleProperty");function Kt(Ve,gt,it){return(0,Ce.Sn)(it)?{value:it}:null}o(Kt,"_convertToProperty");function Zt(Ve,gt,it,Tt,kt){if(kt&&Ve){var un=Ve.getSanitizer(gt,it,Tt,kt.kind,kt.propertyType);if(un)if(Tt===4){var Y={},Be=kt.value;(0,w.rW)(Be,function(vt,Bt){var De=gt+"."+it;if((0,Ce.Sn)(Bt)){var mt=Kt(De,vt,Bt);mt=Zt(Ve,De,vt,(0,Ce.Sy)(Bt),mt),mt&&(Y[vt]=mt.value)}}),kt.value=Y}else{var Qe={path:gt,name:it,type:Tt,prop:kt,sanitizer:Le};kt=un.call(Le,Qe)}}return kt}o(Zt,"_callFieldSanitizer")}return o(et,"ValueSanitizer"),et.getFieldType=Ce.Sy,et}(),p=100,K=T(5928),ue=T(5843),Ee=T(4869),Pe=T(4878),qt=T(4392),ln=T(4206)},3599:(ae,d,T)=>{"use strict";T.d(d,{Gf:()=>m,vs:()=>C,x9:()=>L,dH:()=>B,Sn:()=>P,jM:()=>R,IZ:()=>D,r7:()=>O,yj:()=>J,Vv:()=>V,oF:()=>te,d8:()=>he,kT:()=>ge,ej:()=>re,Do:()=>G,cm:()=>le,l7:()=>oe,hK:()=>de,oS:()=>pe,JT:()=>_t,if:()=>qe,Sy:()=>W,cQ:()=>Oe,Tr:()=>Ie,mJ:()=>ze,ot:()=>ve});var E=T(4392),b=T(2091),w=T(7630),k=T(6708),z=T(3242),A=T(5843),h=T(4869),_=T(4878),x,m="3.2.3",C="1DS-Web-JS-"+m,M="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",I="withCredentials",$="timeout",Q=(x={},x[0]=0,x[2]=6,x[1]=1,x[3]=7,x[4096|2]=6,x[4096|1]=1,x[4096|3]=7,x),ee=null,L=Boolean((0,w.Me)()),B=Boolean((0,w.Jj)());function P(ie){return!(ie===""||(0,k.le)(ie))}o(P,"isValueAssigned");function R(ie){if(ie){var ye=ie.indexOf("-");if(ye>-1)return ie.substring(0,ye)}return""}o(R,"getTenantId");function D(){return ee===null&&(ee=!(0,k.o8)(Uint8Array)&&!Me()&&!(0,w.b$)()),ee}o(D,"isUint8ArrayAvailable");function O(ie){return!!(ie&&(0,k.hj)(ie)&&ie>=1&&ie<=4)}o(O,"isLatency");function J(ie,ye,Ce){if(!ye&&!P(ye)||typeof ie!="string")return null;var ce=typeof ye;if(ce==="string"||ce==="number"||ce==="boolean"||(0,k.kJ)(ye))ye={value:ye};else if(ce==="object"&&!ye.hasOwnProperty("value"))ye={value:Ce?JSON.stringify(ye):ye};else if((0,k.le)(ye.value)||ye.value===""||!(0,k.HD)(ye.value)&&!(0,k.hj)(ye.value)&&!(0,k.jn)(ye.value)&&!(0,k.kJ)(ye.value))return null;if((0,k.kJ)(ye.value)&&!_t(ye.value))return null;if(!(0,k.le)(ye.kind)){if((0,k.kJ)(ye.value)||!pe(ye.kind))return null;ye.value=ye.value.toString()}return ye}o(J,"sanitizeProperty");function V(ie,ye,Ce){var ce=-1;if(!(0,k.o8)(ie))if(ye>0&&(ye===32?ce=1<<13:ye<=13&&(ce=ye<<5)),me(Ce))ce===-1&&(ce=0),ce|=Ce;else{var Re=Q[W(ie)]||-1;ce!==-1&&Re!==-1?ce|=Re:Re===6&&(ce=Re)}return ce}o(V,"getCommonSchemaMetaData");function te(){(0,z.JP)(null).setEnabled(!1)}o(te,"disableCookies");function he(ie,ye,Ce){(0,z.p7)(null)&&(0,z.JP)(null).set(ie,ye,Ce*86400,null,"/")}o(he,"setCookie");function ge(ie){(0,z.p7)(null)&&(0,z.JP)(null).del(ie)}o(ge,"deleteCookie");function re(ie){return(0,z.p7)(null)?G((0,z.JP)(null),ie):""}o(re,"getCookie");function G(ie,ye,Ce){Ce===void 0&&(Ce=!0);var ce;return ie&&(ce=ie.get(ye),Ce&&ce&&decodeURIComponent&&(ce=decodeURIComponent(ce))),ce||""}o(G,"getCookieValue");function le(ie){ie===void 0&&(ie="D");var ye=(0,A.GW)();return ie==="B"?ye="{"+ye+"}":ie==="P"?ye="("+ye+")":ie==="N"&&(ye=ye.replace(/-/g,"")),ye}o(le,"createGuid");function oe(ie,ye,Ce,ce,Re){var Te={},je=!1,ot=0,Ye=arguments.length,jt=Object[E.hB],Je=arguments;for(jt.toString.call(Je[0])==="[object Boolean]"&&(je=Je[0],ot++);ot<Ye;ot++){var ie=Je[ot];(0,k.rW)(ie,function(St,Ae){je&&Ae&&(0,k.Kn)(Ae)?(0,k.kJ)(Ae)?(Te[St]=Te[St]||[],(0,k.tO)(Ae,function(xe,$e){xe&&(0,k.Kn)(xe)?Te[St][$e]=oe(!0,Te[St][$e],xe):Te[St][$e]=xe})):Te[St]=oe(!0,Te[St],Ae):Te[St]=Ae})}return Te}o(oe,"extend");var de=A.Jj;function pe(ie){return ie===0||ie>0&&ie<=13||ie===32}o(pe,"isValueKind");function me(ie){return ie>=0&&ie<=9}o(me,"isDataType");function Me(){var ie=(0,w.jW)();if(!(0,k.o8)(ie)&&ie.userAgent){var ye=ie.userAgent.toLowerCase();if((ye.indexOf("safari")>=0||ye.indexOf("firefox")>=0)&&ye.indexOf("chrome")<0)return!0}return!1}o(Me,"isSafariOrFirefox");function _t(ie){return ie.length>0}o(_t,"isArrayValid");function qe(ie,ye){var Ce=ie;Ce.timings=Ce.timings||{},Ce.timings.processTelemetryStart=Ce.timings.processTelemetryStart||{},Ce.timings.processTelemetryStart[ye]=de()}o(qe,"setProcessTelemetryTimings");function W(ie){var ye=0;if(ie!=null){var Ce=typeof ie;Ce==="string"?ye=1:Ce==="number"?ye=2:Ce==="boolean"?ye=3:Ce===E.fK&&(ye=4,(0,k.kJ)(ie)?(ye=4096,ie.length>0&&(ye|=W(ie[0]))):(0,k.nr)(ie,"value")&&(ye=8192|W(ie.value)))}return ye}o(W,"getFieldValueType");var Oe={Version:m,FullVersionString:C,strUndefined:E.jA,strObject:E.fK,Undefined:E.jA,arrForEach:k.tO,arrIndexOf:k.UA,arrMap:k.Mr,arrReduce:k.Xz,objKeys:k.FY,toISOString:k.Y6,isReactNative:w.b$,isString:k.HD,isNumber:k.hj,isBoolean:k.jn,isFunction:k.mf,isArray:k.kJ,isObject:k.Kn,strTrim:k.nd,isDocumentObjectAvailable:L,isWindowObjectAvailable:B,isValueAssigned:P,getTenantId:R,isBeaconsSupported:w.MF,isUint8ArrayAvailable:D,isLatency:O,sanitizeProperty:J,getISOString:k.Y6,useXDomainRequest:w.cp,getCommonSchemaMetaData:V,cookieAvailable:z.p7,disallowsSameSiteNone:z.UY,setCookie:he,deleteCookie:ge,getCookie:re,createGuid:le,extend:oe,getTime:de,isValueKind:pe,isArrayValid:_t,objDefineAccessors:k.l_,addPageUnloadEventListener:h.c9,setProcessTelemetryTimings:qe,addEventHandler:h.Ib,getFieldValueType:W,strEndsWith:k.Id,objForEachKey:k.rW},Ie={_canUseCookies:void 0,isTypeof:k.Ym,isUndefined:k.o8,isNullOrUndefined:k.le,hasOwnProperty:k.nr,isFunction:k.mf,isObject:k.Kn,isDate:k.J_,isArray:k.kJ,isError:k.VZ,isString:k.HD,isNumber:k.hj,isBoolean:k.jn,toISOString:k.Y6,arrForEach:k.tO,arrIndexOf:k.UA,arrMap:k.Mr,arrReduce:k.Xz,strTrim:k.nd,objCreate:b.pu,objKeys:k.FY,objDefineAccessors:k.l_,addEventHandler:h.Ib,dateNow:k.m6,isIE:w.w1,disableCookies:te,newGuid:A.GW,perfNow:A.Jj,newId:_.pZ,randomValue:_.az,random32:_._l,mwcRandomSeed:_.CN,mwcRandom32:_.F6,generateW3CId:A.DO};function ze(){return!!(0,w.a8)("chrome")}o(ze,"isChromium");function ve(ie,ye,Ce,ce,Re,Te){ce===void 0&&(ce=!1),Re===void 0&&(Re=!1);function je(Ye,jt,Je){try{Ye[jt]=Je}catch(fn){}}o(je,"_wrapSetXhrProp");var ot=new XMLHttpRequest;return ce&&je(ot,M,ce),Ce&&je(ot,I,Ce),ot.open(ie,ye,!Re),Ce&&je(ot,I,Ce),!Re&&Te&&je(ot,$,Te),ot}o(ve,"openXhr")},7156:(ae,d,T)=>{"use strict";T.r(d),T.d(d,{BE_PROFILE:()=>$,NRT_PROFILE:()=>I,PostChannel:()=>De,RT_PROFILE:()=>M});var E=T(1088),b=T(1679),w=T(9288),k=T(4869),z=T(5883),A=T(3599),h=T(6708),_=T(7630),x=T(5928),m=T(5018),C=T(4063),M="REAL_TIME",I="NEAR_REAL_TIME",$="BEST_EFFORT",Q="POST",ee="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",L="drop",B="send",P="requeue",R="rspFail",D="oth",O="no-cache, no-store",J="application/x-json-stream",V="cache-control",te="content-type",he="kill-tokens",ge="kill-duration",re="kill-duration-seconds",G="time-delta-millis",le="client-version",oe="client-id",de="time-delta-to-apply-millis",pe="upload-time",me="apikey",Me="AuthMsaDeviceTicket",_t="AuthXToken",qe="sdk-version",W="NoResponseBody",Oe="msfpc";function Ie(mt){var Mt=(mt.ext||{}).intweb;return Mt&&(0,A.Sn)(Mt[Oe])?Mt[Oe]:null}o(Ie,"_getEventMsfpc");function ze(mt){for(var Mt=null,dt=0;Mt===null&&dt<mt.length;dt++)Mt=Ie(mt[dt]);return Mt}o(ze,"_getMsfpc");var ve=function(){function mt(Mt,dt){var Xe=dt?[].concat(dt):[],$t=this,Ot=ze(Xe);$t.iKey=function(){return Mt},$t.Msfpc=function(){return Ot||""},$t.count=function(){return Xe.length},$t.events=function(){return Xe},$t.addEvent=function(yt){return yt?(Xe.push(yt),Ot||(Ot=Ie(yt)),!0):!1},$t.split=function(yt,en){var Jt;if(yt<Xe.length){var hn=Xe.length-yt;(0,h.le)(en)||(hn=en<hn?en:hn),Jt=Xe.splice(yt,hn),Ot=ze(Xe)}return new mt(Mt,Jt)}}return o(mt,"EventBatch"),mt.create=function(Mt,dt){return new mt(Mt,dt)},mt}(),ie=T(4392),ye=20,Ce=3984588,ce=65e3,Re=2e6,Te=Math.min(Re,ce),je="metadata",ot="f",Ye=/\./,jt=function(){function mt(Mt,dt,Xe,$t){var Ot="data",yt="baseData",en="ext",Jt=!!$t,hn=!0,Fn=dt,er={};(0,b.Z)(mt,this,function(xn){xn.createPayload=function(Ft,pt,Yt,tn,Vt,gn){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Ft,isTeardown:pt,isSync:Yt,isBeacon:tn,sendType:gn,sendReason:Vt}},xn.appendPayload=function(Ft,pt,Yt){var tn=Ft&&pt&&!Ft.overflow;return tn&&(0,w.Lm)(Mt,function(){return"Serializer:appendPayload"},function(){for(var Vt=pt.events(),gn=Ft.payloadBlob,kn=Ft.numEvents,Cn=!1,Tn=[],Vn=[],tr=Ft.isBeacon,dn=tr?ce:Ce,Gn=tr?Te:Re,$n=0,nr=0;$n<Vt.length;){var jn=Vt[$n];if(jn){if(kn>=Yt){Ft.overflow=pt.split($n);break}var nn=xn.getEventBlob(jn);if(nn&&nn.length<=Gn){var We=nn.length,ei=gn.length;if(ei+We>dn){Ft.overflow=pt.split($n);break}gn&&(gn+=`
`),gn+=nn,nr++,nr>ye&&(gn.substr(0,1),nr=0),Cn=!0,kn++}else nn?Tn.push(jn):Vn.push(jn),Vt.splice($n,1),$n--}$n++}if(Tn&&Tn.length>0&&Ft.sizeExceed.push(ve.create(pt.iKey(),Tn)),Vn&&Vn.length>0&&Ft.failedEvts.push(ve.create(pt.iKey(),Vn)),Cn){Ft.batches.push(pt),Ft.payloadBlob=gn,Ft.numEvents=kn;var ur=pt.iKey();(0,h.UA)(Ft.apiKeys,ur)===-1&&Ft.apiKeys.push(ur)}},function(){return{payload:Ft,theBatch:{iKey:pt.iKey(),evts:pt.events()},max:Yt}}),tn},xn.getEventBlob=function(Ft){try{return(0,w.Lm)(Mt,function(){return"Serializer.getEventBlob"},function(){var pt={};pt.name=Ft.name,pt.time=Ft.time,pt.ver=Ft.ver,pt.iKey="o:"+(0,A.jM)(Ft.iKey);var Yt={},tn=Ft[en];tn&&(pt[en]=Yt,(0,h.rW)(tn,function(kn,Cn){var Tn=Yt[kn]={};Wt(Cn,Tn,"ext."+kn,!0,null,null,!0)}));var Vt=pt[Ot]={};Vt.baseType=Ft.baseType;var gn=Vt[yt]={};return Wt(Ft.baseData,gn,yt,!1,[yt],function(kn,Cn,Tn){Je(Yt,kn,Cn,Tn)},hn),Wt(Ft.data,Vt,Ot,!1,[],function(kn,Cn,Tn){Je(Yt,kn,Cn,Tn)},hn),JSON.stringify(pt)},function(){return{item:Ft}})}catch(pt){return null}};function tt(Ft,pt){var Yt=er[Ft];return Yt===void 0&&(Ft.length>=7&&(Yt=(0,h.xe)(Ft,"ext.metadata")||(0,h.xe)(Ft,"ext.web")),er[Ft]=Yt),Yt}o(tt,"_isReservedField");function Wt(Ft,pt,Yt,tn,Vt,gn,kn){(0,h.rW)(Ft,function(Cn,Tn){var Vn=null;if(Tn||(0,A.Sn)(Tn)){var tr=Yt,dn=Cn,Gn=Vt,$n=pt;if(Jt&&!tn&&Ye.test(Cn)){var nr=Cn.split("."),jn=nr.length;if(jn>1){Gn&&(Gn=Gn.slice());for(var nn=0;nn<jn-1;nn++){var We=nr[nn];$n=$n[We]=$n[We]||{},tr+="."+We,Gn&&Gn.push(We)}dn=nr[jn-1]}}var ei=tn&&tt(tr,dn);if(!ei&&Fn&&Fn.handleField(tr,dn)?Vn=Fn.value(tr,dn,Tn,Xe):Vn=(0,A.yj)(dn,Tn,Xe),Vn){var ur=Vn.value;if($n[dn]=ur,gn&&gn(Gn,dn,Vn),kn&&typeof ur=="object"&&!(0,h.kJ)(ur)){var zn=Gn;zn&&(zn=zn.slice(),zn.push(dn)),Wt(Tn,ur,tr+"."+dn,tn,zn,gn,kn)}}}})}o(Wt,"_processPathKeys")})}return o(mt,"Serializer"),mt}();function Je(mt,Mt,dt,Xe){if(Xe&&mt){var $t=(0,A.Vv)(Xe.value,Xe.kind,Xe.propertyType);if($t>-1){var Ot=mt[je];Ot||(Ot=mt[je]={f:{}});var yt=Ot[ot];if(yt||(yt=Ot[ot]={}),Mt)for(var en=0;en<Mt.length;en++){var Jt=Mt[en];yt[Jt]||(yt[Jt]={f:{}});var hn=yt[Jt][ot];hn||(hn=yt[Jt][ot]={}),yt=hn}yt=yt[dt]={},(0,h.kJ)(Xe.value)?yt.a={t:$t}:yt.t=$t}}}o(Je,"_addJSONPropertyMetaData");var fn=.8,St=1.2,Ae=3e3,xe=6e5;function $e(mt){return!(mt>=300&&mt<500&&mt!=408&&mt!=429||mt==501||mt==505)}o($e,"retryPolicyShouldRetryForStatus");function Nt(mt){var Mt=0,dt=Ae*fn,Xe=Ae*St,$t=Math.floor(Math.random()*(Xe-dt))+dt;return Mt=Math.pow(2,mt)*$t,Math.min(Mt,xe)}o(Nt,"retryPolicyGetMillisToBackoffForRetry");var Sn=1e3,_n=function(){function mt(){var Mt={};function dt(Xe){var $t=[];return Xe&&(0,h.tO)(Xe,function(Ot){$t.push((0,h.nd)(Ot))}),$t}o(dt,"_normalizeTenants"),(0,b.Z)(mt,this,function(Xe){Xe.setKillSwitchTenants=function($t,Ot){if($t&&Ot)try{var yt=dt($t.split(","));if(Ot==="this-request-only")return yt;for(var en=parseInt(Ot,10)*Sn,Jt=0;Jt<yt.length;++Jt)Mt[yt[Jt]]=(0,h.m6)()+en}catch(hn){return[]}return[]},Xe.isTenantKilled=function($t){var Ot=Mt,yt=(0,h.nd)($t);return Ot[yt]!==void 0&&Ot[yt]>(0,h.m6)()?!0:(delete Ot[yt],!1)}})}return o(mt,"KillSwitch"),mt}();const Dn=_n;var F=function(){function mt(){var Mt=!0,dt=!0,Xe=!0,$t="use-collector-delta",Ot=!1;(0,b.Z)(mt,this,function(yt){yt.allowRequestSending=function(){return Mt},yt.firstRequestSent=function(){Xe&&(Xe=!1,Ot||(Mt=!1))},yt.shouldAddClockSkewHeaders=function(){return dt},yt.getClockSkewHeaderValue=function(){return $t},yt.setClockSkew=function(en){Ot||(en?($t=en,dt=!0,Ot=!0):dt=!1,Mt=!0)}})}return o(mt,"ClockSkewManager"),mt}();const g=F;var p,K="sendAttempt",ue="&"+W+"=true",Ee=(p={},p[1]=P,p[100]=P,p[200]="sent",p[8004]=L,p[8003]=L,p),Pe={},qt={};function ln(mt,Mt,dt){Pe[mt]=Mt,dt!==!1&&(qt[Mt]=mt)}o(ln,"_addCollectorHeaderQsMapping"),ln(Me,Me,!1),ln(le,le),ln(oe,"Client-Id"),ln(me,me),ln(de,de),ln(pe,pe),ln(_t,_t);function et(mt){try{return mt.responseText}catch(Mt){}return""}o(et,"_getResponseText");function Ge(mt,Mt){var dt=!1;if(mt&&Mt){var Xe=(0,h.FY)(mt);if(Xe&&Xe.length>0)for(var $t=Mt.toLowerCase(),Ot=0;Ot<Xe.length;Ot++){var yt=Xe[Ot];if(yt&&(0,h.nr)(Mt,yt)&&yt.toLowerCase()===$t){dt=!0;break}}}return dt}o(Ge,"_hasHeader");function Le(mt,Mt,dt,Xe){Mt&&dt&&dt.length>0&&(Xe&&Pe[Mt]?(mt.hdrs[Pe[Mt]]=dt,mt.useHdrs=!0):mt.url+="&"+Mt+"="+dt)}o(Le,"_addRequestDetails");var Ke=function(){function mt(Mt,dt,Xe,$t,Ot){this._responseHandlers=[];var yt="?cors=true&"+te.toLowerCase()+"="+J,en=new Dn,Jt=!1,hn=new g,Fn=!1,er=0,xn,tt,Wt,Ft=!0,pt=[],Yt={},tn=[],Vt=null,gn=!1,kn,Cn=!1,Tn=!1,Vn,tr;(0,b.Z)(mt,this,function(dn){var Gn=!0;dn.initialize=function(_e,nt,at,ct,Pt){var an;Pt||(Pt={}),yt=_e+yt,Tn=(0,h.o8)(Pt.avoidOptions)?!0:!Pt.avoidOptions,Wt=nt,kn=nt.getCookieMgr(),gn=!Wt.config.disableEventTimings;var rn=!!Wt.config.enableCompoundKey;xn=at;var mn=Pt.valueSanitizer,N=Pt.stringifyObjects;(0,h.o8)(Pt.enableCompoundKey)||(rn=!!Pt.enableCompoundKey),Vn=Pt.xhrTimeout,tr=Pt.disableXhrSync,Fn=!(0,_.b$)(),Vt=new jt(Wt,mn,N,rn);var j=ct,X=Pt.alwaysUseXhrOverride?ct:null,we=Pt.alwaysUseXhrOverride?ct:null;if(!ct){Ft=!1;var He=(0,_.k$)();He&&He.protocol&&He.protocol.toLowerCase()==="file:"&&(Gn=!1);var Ne=[];(0,_.b$)()?Ne=[2,1]:Ne=[1,2,3];var It=Pt.transports;It&&((0,h.hj)(It)?Ne=[It].concat(Ne):(0,h.kJ)(It)&&(Ne=It.concat(Ne))),ct=$n(Ne,!1),j=$n(Ne,!0),ct||xn.diagLog().warnToConsole("No available transport to send events")}tt=(an={},an[0]=ct,an[1]=j||$n([1,2,3],!0),an[2]=X||$n([3,2],!0)||j||$n([1],!0),an[3]=we||$n([2,3],!0)||j||$n([1],!0),an)};function $n(_e,nt){for(var at=0,ct=null,Pt=0;ct==null&&Pt<_e.length;)at=_e[Pt],at===1?(0,_.cp)()?ct=nr:(0,_.Z3)()&&(ct=nn):at===2&&(0,_.JO)(nt)?ct=jn:Fn&&at===3&&(0,_.MF)()&&(ct=ei),Pt++;return ct?{_transport:at,_isSync:nt,sendPOST:ct}:null}o($n,"_getSenderInterface"),dn._getDbgPlgTargets=function(){return[tt[0],en,Vt,tt]};function nr(_e,nt,at){var ct=new XDomainRequest;ct.open(Q,_e.urlString),_e.timeout&&(ct.timeout=_e.timeout),ct.onload=function(){var Pt=et(ct);We(nt,200,{},Pt),Lr(Pt)},ct.onerror=function(){We(nt,400,{})},ct.ontimeout=function(){We(nt,500,{})},ct.onprogress=function(){},at?ct.send(_e.data):Ot.set(function(){ct.send(_e.data)},0)}o(nr,"_xdrSendPost");function jn(_e,nt,at){var ct,Pt=_e.urlString,an=!1,rn=!1,mn=(ct={body:_e.data,method:Q},ct[ee]=!0,ct);at&&(mn.keepalive=!0,_e._sendReason===2&&(an=!0,Pt+=ue)),Gn&&(mn.credentials="include"),_e.headers&&(0,h.FY)(_e.headers).length>0&&(mn.headers=_e.headers),fetch(Pt,mn).then(function(N){var j={},X="";N.headers&&N.headers.forEach(function(we,He){j[He]=we}),N.body&&N.text().then(function(we){X=we}),rn||(rn=!0,We(nt,N.status,j,X),Lr(X))}).catch(function(N){rn||(rn=!0,We(nt,0,{}))}),an&&!rn&&(rn=!0,We(nt,200,{})),!rn&&_e.timeout>0&&Ot.set(function(){rn||(rn=!0,We(nt,500,{}))},_e.timeout)}o(jn,"_fetchSendPost");function nn(_e,nt,at){var ct=_e.urlString;function Pt(N,j,X){if(!N[X]&&j&&j.getResponseHeader){var we=j.getResponseHeader(X);we&&(N[X]=(0,h.nd)(we))}return N}o(Pt,"_appendHeader");function an(N){var j={};return N.getAllResponseHeaders?j=ti(N.getAllResponseHeaders()):(j=Pt(j,N,G),j=Pt(j,N,ge),j=Pt(j,N,re)),j}o(an,"_getAllResponseHeaders");function rn(N,j){We(nt,N.status,an(N),j)}o(rn,"xhrComplete"),at&&_e.disableXhrSync&&(at=!1);var mn=(0,A.ot)(Q,ct,Gn,!0,at,_e.timeout);(0,h.rW)(_e.headers,function(N,j){mn.setRequestHeader(N,j)}),mn.onload=function(){var N=et(mn);rn(mn,N),Lr(N)},mn.onerror=function(){rn(mn)},mn.ontimeout=function(){rn(mn)},mn.send(_e.data)}o(nn,"_xhrSendPost");function We(_e,nt,at,ct){try{_e(nt,at,ct)}catch(Pt){(0,m.kP)(xn.diagLog(),2,518,(0,_.eU)(Pt))}}o(We,"_doOnComplete");function ei(_e,nt,at){var ct=_e,Pt=200,an=ct._thePayload,rn=_e.urlString+ue;try{var mn=(0,_.jW)();if(!mn.sendBeacon(rn,_e.data))if(an){var N=[];(0,h.tO)(an.batches,function(j){if(N&&j&&j.count()>0){for(var X=j.events(),we=0;we<X.length;we++)if(!mn.sendBeacon(rn,Vt.getEventBlob(X[we]))){N.push(j.split(we));break}}else N.push(j.split(0))}),wr(N,8003,an.sendType,!0)}else Pt=0}catch(j){xn.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+(0,_.eU)(j)),Pt=0}finally{We(nt,Pt,{},"")}}o(ei,"_beaconSendPost");function ur(_e){return _e===2||_e===3}o(ur,"_isBeaconPayload");function zn(_e){return Cn&&ur(_e)&&(_e=2),_e}o(zn,"_adjustSendType"),dn.addQueryStringParameter=function(_e,nt){for(var at=0;at<pt.length;at++)if(pt[at].name===_e){pt[at].value=nt;return}pt.push({name:_e,value:nt})},dn.addHeader=function(_e,nt){Yt[_e]=nt},dn.canSendRequest=function(){return Hr()&&hn.allowRequestSending()},dn.sendQueuedRequests=function(_e,nt){(0,h.o8)(_e)&&(_e=0),Cn&&(_e=zn(_e),nt=2),Mr(tn,_e,0)&&qr(zr(),0,!1,_e,nt||0)},dn.isCompletelyIdle=function(){return!Jt&&er===0&&tn.length===0},dn.setUnloading=function(_e){Cn=_e},dn.addBatch=function(_e){if(_e&&_e.count()>0){if(en.isTenantKilled(_e.iKey()))return!1;tn.push(_e)}return!0},dn.teardown=function(){tn.length>0&&qr(zr(),0,!0,2,2)},dn.pause=function(){Jt=!0},dn.resume=function(){Jt=!1,dn.sendQueuedRequests(0,4)},dn.sendSynchronousBatch=function(_e,nt,at){_e&&_e.count()>0&&((0,h.le)(nt)&&(nt=1),Cn&&(nt=zn(nt),at=2),qr([_e],0,!1,nt,at||0))};function Hr(){return!Jt&&er<dt}o(Hr,"_hasIdleConnection");function zr(){var _e=tn;return tn=[],_e}o(zr,"_clearQueue");function Mr(_e,nt,at){var ct=!1;return _e&&_e.length>0&&!Jt&&tt[nt]&&Vt&&(ct=nt!==0||Hr()&&(at>0||hn.allowRequestSending())),ct}o(Mr,"_canSendPayload");function Xn(_e){var nt={};return _e&&(0,h.tO)(_e,function(at,ct){nt[ct]={iKey:at.iKey(),evts:at.events()}}),nt}o(Xn,"_createDebugBatches");function qr(_e,nt,at,ct,Pt){if(!(!_e||_e.length===0)){if(Jt){wr(_e,1,ct);return}ct=zn(ct);try{var an=_e,rn=ct!==0;(0,w.Lm)(Wt,function(){return"HttpManager:_sendBatches"},function(mn){mn&&(_e=_e.slice(0));for(var N=[],j=null,X=(0,A.hK)(),we=tt[ct]||(rn?tt[1]:tt[0]),He=(Cn||ur(ct)||we&&we._transport===3)&&sr();Mr(_e,ct,nt);){var Ne=_e.shift();Ne&&Ne.count()>0&&(en.isTenantKilled(Ne.iKey())?N.push(Ne):(j=j||Vt.createPayload(nt,at,rn,He,Pt,ct),Vt.appendPayload(j,Ne,Mt)?j.overflow!==null&&(_e=[j.overflow].concat(_e),j.overflow=null,Zi(j,X,(0,A.hK)(),Pt),X=(0,A.hK)(),j=null):(Zi(j,X,(0,A.hK)(),Pt),X=(0,A.hK)(),_e=[Ne].concat(_e),j=null)))}j&&Zi(j,X,(0,A.hK)(),Pt),_e.length>0&&(tn=_e.concat(tn)),wr(N,8004,ct)},function(){return{batches:Xn(an),retryCount:nt,isTeardown:at,isSynchronous:rn,sendReason:Pt,useSendBeacon:ur(ct),sendType:ct}},!rn)}catch(mn){(0,m.kP)(xn.diagLog(),2,48,"Unexpected Exception sending batch: "+(0,_.eU)(mn))}}}o(qr,"_sendBatches");function di(_e,nt){var at={url:yt,hdrs:{},useHdrs:!1};nt?(at.hdrs=(0,A.l7)(at.hdrs,Yt),at.useHdrs=(0,h.FY)(at.hdrs).length>0):(0,h.rW)(Yt,function(mn,N){qt[mn]?Le(at,qt[mn],N,!1):(at.hdrs[mn]=N,at.useHdrs=!0)}),Le(at,oe,"NO_AUTH",nt),Le(at,le,A.vs,nt);var ct="";(0,h.tO)(_e.apiKeys,function(mn){ct.length>0&&(ct+=","),ct+=mn}),Le(at,me,ct,nt),Le(at,pe,(0,h.m6)().toString(),nt);var Pt=Wr(_e);if((0,A.Sn)(Pt)&&(at.url+="&ext.intweb.msfpc="+Pt),hn.shouldAddClockSkewHeaders()&&Le(at,de,hn.getClockSkewHeaderValue(),nt),Wt.getWParam){var an=Wt.getWParam();an>=0&&(at.url+="&w="+an)}for(var rn=0;rn<pt.length;rn++)at.url+="&"+pt[rn].name+"="+pt[rn].value;return at}o(di,"_buildRequestDetails");function sr(){return!Ft&&Fn&&(0,_.MF)()}o(sr,"_canUseSendBeaconApi");function Ar(_e,nt,at){_e[nt]=_e[nt]||{},_e[nt][xn.identifier]=at}o(Ar,"_setTimingValue");function Zi(_e,nt,at,ct){if(_e&&_e.payloadBlob&&_e.payloadBlob.length>0){var Pt=!!dn.sendHook,an=tt[_e.sendType];!ur(_e.sendType)&&_e.isBeacon&&_e.sendReason===2&&(an=tt[2]||tt[3]||an);var rn=Tn;(_e.isBeacon||an._transport===3)&&(rn=!1);var mn=di(_e,rn);rn=rn||mn.useHdrs;var N=(0,A.hK)();(0,w.Lm)(Wt,function(){return"HttpManager:_doPayloadSend"},function(){for(var j=0;j<_e.batches.length;j++)for(var X=_e.batches[j],we=X.events(),He=0;He<we.length;He++){var Ne=we[He];if(gn){var It=Ne.timings=Ne.timings||{};Ar(It,"sendEventStart",N),Ar(It,"serializationStart",nt),Ar(It,"serializationCompleted",at)}Ne[K]>0?Ne[K]++:Ne[K]=1}wr(_e.batches,1e3+(ct||0),_e.sendType,!0);var Ht={data:_e.payloadBlob,urlString:mn.url,headers:mn.hdrs,_thePayload:_e,_sendReason:ct,timeout:Vn};(0,h.o8)(tr)||(Ht.disableXhrSync=!!tr),rn&&(Ge(Ht.headers,V)||(Ht.headers[V]=O),Ge(Ht.headers,te)||(Ht.headers[te]=J));var yn=null;an&&(yn=o(function(pn){hn.firstRequestSent();var An=o(function(rr,_r){va(rr,_r,_e,ct)},"onComplete"),Jn=_e.isTeardown||_e.isSync;try{an.sendPOST(pn,An,Jn),dn.sendListener&&dn.sendListener(Ht,pn,Jn,_e.isBeacon)}catch(rr){xn.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+(0,_.eU)(rr)),We(An,0,{})}},"sender")),(0,w.Lm)(Wt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(yn)if(_e.sendType===0&&er++,Pt&&!_e.isBeacon&&an._transport!==3){var pn={data:Ht.data,urlString:Ht.urlString,headers:(0,A.l7)({},Ht.headers),timeout:Ht.timeout,disableXhrSync:Ht.disableXhrSync},An=!1;(0,w.Lm)(Wt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{dn.sendHook(pn,function(Jn){An=!0,!Ft&&!Jn._thePayload&&(Jn._thePayload=Jn._thePayload||Ht._thePayload,Jn._sendReason=Jn._sendReason||Ht._sendReason),yn(Jn)},_e.isSync||_e.isTeardown)}catch(Jn){An||yn(Ht)}})}else yn(Ht)})},function(){return{thePayload:_e,serializationStart:nt,serializationCompleted:at,sendReason:ct}},_e.isSync)}_e.sizeExceed&&_e.sizeExceed.length>0&&wr(_e.sizeExceed,8003,_e.sendType),_e.failedEvts&&_e.failedEvts.length>0&&wr(_e.failedEvts,8002,_e.sendType)}o(Zi,"_doPayloadSend");function Qi(_e,nt){gn&&(0,h.tO)(_e,function(at){var ct=at.timings=at.timings||{};Ar(ct,"sendEventCompleted",nt)})}o(Qi,"_addEventCompletedTimings");function va(_e,nt,at,ct){var Pt=9e3,an=null,rn=!1,mn=!1;try{var N=!0;if(typeof _e!==ie.jA){if(nt){hn.setClockSkew(nt[G]);var j=nt[ge]||nt["kill-duration-seconds"];(0,h.tO)(en.setKillSwitchTenants(nt[he],j),function(we){(0,h.tO)(at.batches,function(He){if(He.iKey()===we){an=an||[];var Ne=He.split(0);at.numEvents-=Ne.count(),an.push(Ne)}})})}if(_e==200||_e==204){Pt=200;return}(!$e(_e)||at.numEvents<=0)&&(N=!1),Pt=9e3+_e%1e3}if(N){Pt=100;var X=at.retryCnt;at.sendType===0&&(X<Xe?(rn=!0,Ai(function(){at.sendType===0&&er--,qr(at.batches,X+1,at.isTeardown,Cn?2:at.sendType,5)},Cn,Nt(X))):(mn=!0,Cn&&(Pt=8001)))}}finally{rn||(hn.setClockSkew(),ma(at,Pt,ct,mn)),wr(an,8004,at.sendType)}}o(va,"_retryRequestIfNeeded");function ma(_e,nt,at,ct){try{ct&&xn._backOffTransmission(),nt===200&&(!ct&&!_e.isSync&&xn._clearBackOff(),Vr(_e.batches)),wr(_e.batches,nt,_e.sendType,!0)}finally{_e.sendType===0&&(er--,at!==5&&dn.sendQueuedRequests(_e.sendType,at))}}o(ma,"_handleRequestFinished");function Vr(_e){if(gn){var nt=(0,A.hK)();(0,h.tO)(_e,function(at){at&&at.count()>0&&Qi(at.events(),nt)})}}o(Vr,"_addCompleteTimings");function Ai(_e,nt,at){nt?_e():Ot.set(_e,at)}o(Ai,"_doAction");function ti(_e){var nt={};if((0,h.HD)(_e)){var at=(0,h.nd)(_e).split(/[\r\n]+/);(0,h.tO)(at,function(ct){if(ct){var Pt=ct.indexOf(": ");if(Pt!==-1){var an=(0,h.nd)(ct.substring(0,Pt)).toLowerCase(),rn=(0,h.nd)(ct.substring(Pt+1));nt[an]=rn}else nt[(0,h.nd)(ct)]=1}})}return nt}o(ti,"_convertAllHeadersToMap");function Wr(_e){for(var nt=0;nt<_e.batches.length;nt++){var at=_e.batches[nt].Msfpc();if(at)return encodeURIComponent(at)}return""}o(Wr,"_getMsfpc");function Lr(_e){var nt=dn._responseHandlers;try{for(var at=0;at<nt.length;at++)try{nt[at](_e)}catch(Pt){(0,m.kP)(xn.diagLog(),1,519,"Response handler failed: "+Pt)}if(_e){var ct=JSON.parse(_e);(0,A.Sn)(ct.webResult)&&(0,A.Sn)(ct.webResult[Oe])&&kn.set("MSFPC",ct.webResult[Oe],365*86400)}}catch(Pt){}}o(Lr,"_handleCollectorResponse");function wr(_e,nt,at,ct){if(_e&&_e.length>0&&$t){var Pt=$t[Xi(nt)];if(Pt){var an=at!==0;(0,w.Lm)(Wt,function(){return"HttpManager:_sendBatchesNotification"},function(){Ai(function(){try{Pt.call($t,_e,nt,an,at)}catch(rn){(0,m.kP)(xn.diagLog(),1,74,"send request notification failed: "+rn)}},ct||an,0)},function(){return{batches:Xn(_e),reason:nt,isSync:an,sendSync:ct,sendType:at}},!an)}}}o(wr,"_sendBatchesNotification");function Xi(_e){var nt=Ee[_e];return(0,A.Sn)(nt)||(nt=D,_e>=9e3&&_e<=9999?nt=R:_e>=8e3&&_e<=8999?nt=L:_e>=1e3&&_e<=1999&&(nt=B)),nt}o(Xi,"_getNotificationAction")})}return o(mt,"HttpManager"),mt}();function ht(mt,Mt){for(var dt=[],Xe=2;Xe<arguments.length;Xe++)dt[Xe-2]=arguments[Xe];return setTimeout(mt,Mt,dt)}o(ht,"defaultSetTimeout");function ut(mt){clearTimeout(mt)}o(ut,"defaultClearTimeout");function st(mt,Mt){return{set:mt||ht,clear:Mt||ut}}o(st,"createTimeoutWrapper");var Lt=.25,Kt=500,Zt=20,Ve=6,gt=2,it=4,Tt=2,kt=1,un="eventsDiscarded",Y="overrideInstrumentationKey",Be="maxEventRetryAttempts",Qe="maxUnloadEventRetryAttempts",vt="addUnloadCb",Bt=function(mt){(0,E.ne)(Mt,mt);function Mt(){var dt=mt.call(this)||this;dt.identifier="PostChannel",dt.priority=1011,dt.version="3.2.3";var Xe,$t=!1,Ot=[],yt=null,en=!1,Jt=0,hn=500,Fn=0,er=1e4,xn={},tt=M,Wt=null,Ft=null,pt=0,Yt=0,tn,Vt,gn={},kn,Cn,Tn=-1,Vn,tr=!0,dn=!1,Gn=Ve,$n=gt,nr,jn;return(0,b.Z)(Mt,dt,function(nn,We){qr(),nn._getDbgPlgTargets=function(){return[Vt]},nn.initialize=function(X,we,He){(0,w.Lm)(we,function(){return"PostChannel:initialize"},function(){var Ne=we;We.initialize(X,we,He);try{var It=!!we[vt];nr=(0,k.jU)((0,z.J)(nn.identifier),we.evtNamespace&&we.evtNamespace());var Ht=nn._getTelCtx();X.extensionConfig[nn.identifier]=X.extensionConfig[nn.identifier]||{},Xe=Ht.getExtCfg(nn.identifier),jn=st(Xe.setTimeoutOverride,Xe.clearTimeoutOverride),tr=!Xe.disableOptimizeObj&&(0,A.mJ)(),ei(Ne),Xe.eventsLimitInMem>0&&(er=Xe.eventsLimitInMem),Xe.immediateEventLimit>0&&(hn=Xe.immediateEventLimit),Xe.autoFlushEventsLimit>0&&(kn=Xe.autoFlushEventsLimit),(0,h.hj)(Xe[Be])&&(Gn=Xe[Be]),(0,h.hj)(Xe[Qe])&&($n=Xe[Qe]),j(),Xe.httpXHROverride&&Xe.httpXHROverride.sendPOST&&(tn=Xe.httpXHROverride),(0,A.Sn)(X.anonCookieName)&&Vt.addQueryStringParameter("anoncknm",X.anonCookieName),Vt.sendHook=Xe.payloadPreprocessor,Vt.sendListener=Xe.payloadListener;var yn=Xe.overrideEndpointUrl?Xe.overrideEndpointUrl:X.endpointUrl;nn._notificationManager=X.extensionConfig.NotificationManager,Vt.initialize(yn,nn.core,nn,tn,Xe);var pn=X.disablePageUnloadEvents||[];(0,k.c9)(ur,pn,nr),(0,k.TJ)(ur,pn,nr),(0,k.nD)(zn,X.disablePageShowEvents,nr)}catch(An){throw nn.setInitialized(!1),An}},function(){return{coreConfig:X,core:we,extensions:He}})},nn.processTelemetry=function(X,we){(0,A.if)(X,nn.identifier),we=nn._getTelCtx(we);var He=we.getExtCfg(nn.identifier),Ne=!!Xe.disableTelemetry;He&&(Ne=Ne||!!He.disableTelemetry);var It=X;!Ne&&!$t&&(Xe[Y]&&(It.iKey=Xe[Y]),He&&He[Y]&&(It.iKey=He[Y]),Hr(It,!0),dn?Ar(2,2):Xn()),nn.processNext(It,we)},nn._doTeardown=function(X,we){Ar(2,2),$t=!0,Vt.teardown(),(0,k.JA)(null,nr),(0,k.C9)(null,nr),(0,k.Yl)(null,nr),qr()};function ei(X){var we=X.getWParam;X.getWParam=function(){var He=0;return Xe.ignoreMc1Ms0CookieProcessing&&(He=He|2),He|we()}}o(ei,"_hookWParam");function ur(X){var we=X||(0,_.Jj)().event;we.type!=="beforeunload"&&(dn=!0,Vt.setUnloading(dn)),Ar(2,2)}o(ur,"_handleUnloadEvents");function zn(X){dn=!1,Vt.setUnloading(dn)}o(zn,"_handleShowEvents");function Hr(X,we){if(X.sendAttempt||(X.sendAttempt=0),X.latency||(X.latency=1),X.ext&&X.ext.trace&&delete X.ext.trace,X.ext&&X.ext.user&&X.ext.user.id&&delete X.ext.user.id,tr&&(X.ext=(0,h.Ax)(X.ext),X.baseData&&(X.baseData=(0,h.Ax)(X.baseData)),X.data&&(X.data=(0,h.Ax)(X.data))),X.sync){if(pt||en)X.latency=3,X.sync=!1;else if(Vt){tr&&(X=(0,h.Ax)(X)),Vt.sendSynchronousBatch(ve.create(X.iKey,[X]),X.sync===!0?1:X.sync,3);return}}var He=X.latency,Ne=Fn,It=er;He===4&&(Ne=Jt,It=hn);var Ht=!1;if(Ne<It)Ht=!ma(X,we);else{var yn=1,pn=Zt;He===4&&(yn=4,pn=1),Ht=!0,Vr(X.iKey,X.latency,yn,pn)&&(Ht=!ma(X,we))}Ht&&at(un,[X],x.h.QueueFull)}o(Hr,"_addEventToQueues"),nn.setEventQueueLimits=function(X,we){er=X>0?X:1e4,kn=we>0?we:0,j();var He=Fn>X;if(!He&&Cn>0)for(var Ne=1;!He&&Ne<=3;Ne++){var It=gn[Ne];It&&It.batches&&(0,h.tO)(It.batches,function(Ht){Ht&&Ht.count()>=Cn&&(He=!0)})}va(!0,He)},nn.pause=function(){sr(),en=!0,Vt.pause()},nn.resume=function(){en=!1,Vt.resume(),Xn()},nn.addResponseHandler=function(X){Vt._responseHandlers.push(X)},nn._loadTransmitProfiles=function(X){wr(),(0,h.rW)(X,function(we,He){var Ne=He.length;if(Ne>=2){var It=Ne>2?He[2]:0;if(He.splice(0,Ne-2),He[1]<0&&(He[0]=-1),He[1]>0&&He[0]>0){var Ht=He[0]/He[1];He[0]=Math.ceil(Ht)*He[1]}It>=0&&He[1]>=0&&It>He[1]&&(It=He[1]),He.push(It),xn[we]=He}})},nn.flush=function(X,we,He){if(X===void 0&&(X=!0),!en)if(He=He||1,X)yt==null?(sr(),ti(1,0,He),yt=di(function(){yt=null,Wr(we,He)},0)):Ot.push(we);else{var Ne=sr();zr(1,1,He),we!=null&&we(),Ne&&Xn()}},nn.setMsaAuthTicket=function(X){Vt.addHeader(Me,X)},nn.hasEvents=Mr,nn._setTransmitProfile=function(X){tt!==X&&xn[X]!==void 0&&(sr(),tt=X,Xn())};function zr(X,we,He){var Ne=ti(X,we,He);return Vt.sendQueuedRequests(we,He),Ne}o(zr,"_sendEventsForLatencyAndAbove");function Mr(){return Fn>0}o(Mr,"_hasEvents");function Xn(){if(Tn>=0&&ti(Tn,0,Vn)&&Vt.sendQueuedRequests(0,Vn),Jt>0&&!Ft&&!en){var X=xn[tt][2];X>=0&&(Ft=di(function(){Ft=null,zr(4,0,1),Xn()},X))}var we=xn[tt][1];!Wt&&!yt&&we>=0&&!en&&(Mr()?Wt=di(function(){Wt=null,zr(Yt===0?3:1,0,1),Yt++,Yt%=2,Xn()},we):Yt=0)}o(Xn,"_scheduleTimer"),nn._backOffTransmission=function(){pt<it&&(pt++,sr(),Xn())},nn._clearBackOff=function(){pt&&(pt=0,sr(),Xn())};function qr(){Xe=null,$t=!1,Ot=[],yt=null,en=!1,Jt=0,hn=500,Fn=0,er=1e4,xn={},tt=M,Wt=null,Ft=null,pt=0,Yt=0,tn=null,gn={},kn=void 0,Cn=0,Tn=-1,Vn=null,tr=!0,dn=!1,Gn=Ve,$n=gt,nr=null,jn=st(),Vt=new Ke(Kt,Tt,kt,{requeue:_e,send:Pt,sent:an,drop:rn,rspFail:mn,oth:N},jn),Xi(),Zi(),j()}o(qr,"_initDefaults");function di(X,we){we===0&&pt&&(we=1);var He=1e3;return pt&&(He=Nt(pt-1)),jn.set(X,we*He)}o(di,"_createTimer");function sr(){return Wt!==null?(jn.clear(Wt),Wt=null,Yt=0,!0):!1}o(sr,"_clearScheduledTimer");function Ar(X,we){sr(),yt&&(jn.clear(yt),yt=null),en||zr(1,X,we)}o(Ar,"_releaseAllQueues");function Zi(){gn[4]={batches:[],iKeyMap:{}},gn[3]={batches:[],iKeyMap:{}},gn[2]={batches:[],iKeyMap:{}},gn[1]={batches:[],iKeyMap:{}}}o(Zi,"_clearQueues");function Qi(X,we,He){var Ne=gn[we];Ne||(we=1,Ne=gn[we]);var It=Ne.iKeyMap[X];return!It&&He&&(It=ve.create(X),Ne.batches.push(It),Ne.iKeyMap[X]=It),It}o(Qi,"_getEventBatch");function va(X,we){Vt.canSendRequest()&&!pt&&(kn>0&&Fn>kn&&(we=!0),we&&yt==null&&nn.flush(X,null,20))}o(va,"_performAutoFlush");function ma(X,we){tr&&(X=(0,h.Ax)(X));var He=X.latency,Ne=Qi(X.iKey,He,!0);return Ne.addEvent(X)?(He!==4?(Fn++,we&&X.sendAttempt===0&&va(!X.sync,Cn>0&&Ne.count()>=Cn)):Jt++,!0):!1}o(ma,"_addEventToProperQueue");function Vr(X,we,He,Ne){for(;He<=we;){var It=Qi(X,we,!0);if(It&&It.count()>0){var Ht=It.split(0,Ne),yn=Ht.count();if(yn>0)return He===4?Jt-=yn:Fn-=yn,ct(un,[Ht],x.h.QueueFull),!0}He++}return Ai(),!1}o(Vr,"_dropEventWithLatencyOrLess");function Ai(){for(var X=0,we=0,He=o(function(It){var Ht=gn[It];Ht&&Ht.batches&&(0,h.tO)(Ht.batches,function(yn){It===4?X+=yn.count():we+=yn.count()})},"_loop_1"),Ne=1;Ne<=4;Ne++)He(Ne);Fn=we,Jt=X}o(Ai,"_resetQueueCounts");function ti(X,we,He){var Ne=!1,It=we===0;return!It||Vt.canSendRequest()?(0,w.Lm)(nn.core,function(){return"PostChannel._queueBatches"},function(){for(var Ht=[],yn=4;yn>=X;){var pn=gn[yn];pn&&pn.batches&&pn.batches.length>0&&((0,h.tO)(pn.batches,function(An){Vt.addBatch(An)?Ne=Ne||An&&An.count()>0:Ht=Ht.concat(An.events()),yn===4?Jt-=An.count():Fn-=An.count()}),pn.batches=[],pn.iKeyMap={}),yn--}Ht.length>0&&at(un,Ht,x.h.KillSwitch),Ne&&Tn>=X&&(Tn=-1,Vn=0)},function(){return{latency:X,sendType:we,sendReason:He}},!It):(Tn=Tn>=0?Math.min(Tn,X):X,Vn=Math.max(Vn,He)),Ne}o(ti,"_queueBatches");function Wr(X,we){zr(1,0,we),Ai(),Lr(function(){X&&X(),Ot.length>0?yt=di(function(){yt=null,Wr(Ot.shift(),we)},0):(yt=null,Xn())})}o(Wr,"_flushImpl");function Lr(X){Vt.isCompletelyIdle()?X():yt=di(function(){yt=null,Lr(X)},Lt)}o(Lr,"_waitForIdleManager");function wr(){sr(),Xi(),tt=M,Xn()}o(wr,"_resetTransmitProfiles");function Xi(){xn={},xn[M]=[2,1,0],xn[I]=[6,3,0],xn[$]=[18,9,0]}o(Xi,"_initializeProfiles");function _e(X,we){var He=[],Ne=Gn;dn&&(Ne=$n),(0,h.tO)(X,function(It){It&&It.count()>0&&(0,h.tO)(It.events(),function(Ht){Ht&&(Ht.sync&&(Ht.latency=4,Ht.sync=!1),Ht.sendAttempt<Ne?((0,A.if)(Ht,nn.identifier),Hr(Ht,!1)):He.push(Ht))})}),He.length>0&&at(un,He,x.h.NonRetryableStatus),dn&&Ar(2,2)}o(_e,"_requeueEvents");function nt(X,we){var He=nn._notificationManager||{},Ne=He[X];if(Ne)try{Ne.apply(He,we)}catch(It){(0,m.kP)(nn.diagLog(),1,74,X+" notification failed: "+It)}}o(nt,"_callNotification");function at(X,we){for(var He=[],Ne=2;Ne<arguments.length;Ne++)He[Ne-2]=arguments[Ne];we&&we.length>0&&nt(X,[we].concat(He))}o(at,"_notifyEvents");function ct(X,we){for(var He=[],Ne=2;Ne<arguments.length;Ne++)He[Ne-2]=arguments[Ne];we&&we.length>0&&(0,h.tO)(we,function(It){It&&It.count()>0&&nt(X,[It.events()].concat(He))})}o(ct,"_notifyBatchEvents");function Pt(X,we,He){X&&X.length>0&&nt("eventsSendRequest",[we>=1e3&&we<=1999?we-1e3:0,He!==!0])}o(Pt,"_sendingEvent");function an(X,we){ct("eventsSent",X,we),Xn()}o(an,"_eventsSentEvent");function rn(X,we){ct(un,X,we>=8e3&&we<=8999?we-8e3:x.h.Unknown)}o(rn,"_eventsDropped");function mn(X){ct(un,X,x.h.NonRetryableStatus),Xn()}o(mn,"_eventsResponseFail");function N(X,we){ct(un,X,x.h.Unknown),Xn()}o(N,"_otherEvent");function j(){!Xe||!Xe.disableAutoBatchFlushLimit?Cn=Math.max(Kt*(Tt+1),er/6):Cn=0}o(j,"_setAutoLimits"),(0,h.l_)(nn,"_setTimeoutOverride",function(){return jn.set},function(X){jn=st(X,jn.clear)}),(0,h.l_)(nn,"_clearTimeoutOverride",function(){return jn.clear},function(X){jn=st(jn.set,X)})}),dt}return o(Mt,"PostChannel"),Mt}(C.i);const De=Bt},4873:(ae,d,T)=>{"use strict";T.d(d,{By:()=>b});var E=T(6708);function b(z){var A={};return(0,E.rW)(z,function(h,_){A[h]=_,A[_]=h}),(0,E._A)(A)}o(b,"createEnumStyle");function w(z){var A={};return objForEachKey(z,function(h,_){A[h]=h,A[_]=h}),deepFreeze(A)}o(w,"createEnumMap");function k(z){var A={};return objForEachKey(z,function(h,_){A[h]=_[1],A[_[0]]=_[1]}),deepFreeze(A)}o(k,"createValueMap")},5928:(ae,d,T)=>{"use strict";T.d(d,{h:()=>b});var E=T(4873),b=(0,E.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},4063:(ae,d,T)=>{"use strict";T.d(d,{i:()=>_});var E=T(1679),b=T(1589),w=T(6708),k=T(3171),z=T(310),A=T(6041),h="getPlugin",_=function(){function x(){var m=this,C,M,I,$,Q;B(),(0,E.Z)(x,m,function(P){P.initialize=function(R,D,O,J){L(R,D,J),C=!0},P.teardown=function(R,D){var O=P.core;if(!O||R&&O!==R.core())return;var J,V=!1,te=R||(0,b.Bt)(null,O,I&&I[h]?I[h]():I),he=D||{reason:0,isAsync:!1};function ge(){V||(V=!0,$.run(te,D),(0,w.tO)(Q,function(re){re.rm()}),Q=[],J===!0&&te.processNext(he),B())}return o(ge,"_unloadCallback"),!P[A.Ho]||P[A.Ho](te,he,ge)!==!0?ge():J=!0,J},P.update=function(R,D){var O=P.core;if(!O||R&&O!==R.core())return;var J,V=!1,te=R||(0,b.xy)(null,O,I&&I[h]?I[h]():I),he=D||{reason:0};function ge(){V||(V=!0,L(te.getCfg(),te.core(),te.getNext()))}return o(ge,"_updateCallback"),!P._doUpdate||P._doUpdate(te,he,ge)!==!0?ge():J=!0,J},P._addHook=function(R){R&&((0,w.kJ)(R)?Q=Q.concat(R):Q.push(R))},(0,w.Oi)(P,"_addUnloadCb",function(){return $},"add")}),m.diagLog=function(P){return ee(P).diagLog()},m[A.Vr]=function(){return C},m.setInitialized=function(P){C=P},m[A.El]=function(P){I=P},m.processNext=function(P,R){R?R.processNext(P):I&&(0,w.mf)(I.processTelemetry)&&I.processTelemetry(P,null)},m._getTelCtx=ee;function ee(P){P===void 0&&(P=null);var R=P;if(!R){var D=M||(0,b.CD)(null,{},m.core);I&&I[h]?R=D.createNew(null,I[h]):R=D.createNew(null,I)}return R}o(ee,"_getTelCtx");function L(P,R,D){P&&(0,w.sO)(P,k.F,[],null,w.le),!D&&R&&(D=R.getProcessTelContext().getNext());var O=I;I&&I[h]&&(O=I[h]()),m.core=R,M=(0,b.CD)(D,P,R,O)}o(L,"_setDefaults");function B(){C=!1,m.core=null,M=null,I=null,Q=[],$=(0,z.Y)()}o(B,"_initDefaults")}return o(x,"BaseTelemetryPlugin"),x}()},3171:(ae,d,T)=>{"use strict";T.d(d,{z:()=>E,F:()=>b});var E="iKey",b="extensionConfig"},3242:(ae,d,T)=>{"use strict";T.d(d,{kj:()=>P,JP:()=>O,Nz:()=>J,p7:()=>V,UY:()=>le});var E=T(7630),b=T(6708),w=T(6041),k=T(5018),z="toGMTString",A="toUTCString",h="cookie",_="expires",x="enabled",m="isCookieUseDisabled",C="disableCookiesUsage",M="_ckMgr",I=null,$=null,Q=null,ee=(0,E.Me)(),L={},B={};function P(oe,de){var pe=J[M]||B[M];return pe||(pe=J[M]=J(oe,de),B[M]=pe),pe}o(P,"_gblCookieMgr");function R(oe){return oe?oe.isEnabled():!0}o(R,"_isMgrEnabled");function D(oe){var de=oe.cookieCfg=oe.cookieCfg||{};if((0,b.sO)(de,"domain",oe.cookieDomain,b.BX,b.le),(0,b.sO)(de,"path",oe.cookiePath||"/",null,b.le),(0,b.le)(de[x])){var pe=void 0;(0,b.o8)(oe[m])||(pe=!oe[m]),(0,b.o8)(oe[C])||(pe=!oe[C]),de[x]=pe}return de}o(D,"_createCookieMgrConfig");function O(oe,de){var pe;if(oe)pe=oe.getCookieMgr();else if(de){var me=de.cookieCfg;me[M]?pe=me[M]:pe=J(de)}return pe||(pe=P(de,(oe||{}).logger)),pe}o(O,"safeGetCookieMgr");function J(oe,de){var pe=D(oe||B),me=pe.path||"/",Me=pe.domain,_t=pe[x]!==!1,qe={isEnabled:function(){var W=_t&&V(de),Oe=B[M];return W&&Oe&&qe!==Oe&&(W=R(Oe)),W},setEnabled:function(W){_t=W!==!1},set:function(W,Oe,Ie,ze,ve){var ie=!1;if(R(qe)){var ye={},Ce=(0,b.nd)(Oe||w.SM),ce=Ce.indexOf(";");if(ce!==-1&&(Ce=(0,b.nd)(Oe.substring(0,ce)),ye=te(Oe.substring(ce+1))),(0,b.sO)(ye,"domain",ze||Me,b.fQ,b.o8),!(0,b.le)(Ie)){var Re=(0,E.w1)();if((0,b.o8)(ye[_])){var Te=(0,b.m6)(),je=Te+Ie*1e3;if(je>0){var ot=new Date;ot.setTime(je),(0,b.sO)(ye,_,he(ot,Re?z:A)||he(ot,Re?z:A)||w.SM,b.fQ)}}Re||(0,b.sO)(ye,"max-age",w.SM+Ie,null,b.o8)}var Ye=(0,E.k$)();Ye&&Ye.protocol==="https:"&&((0,b.sO)(ye,"secure",null,null,b.o8),$===null&&($=!le(((0,E.jW)()||{}).userAgent)),$&&(0,b.sO)(ye,"SameSite","None",null,b.o8)),(0,b.sO)(ye,"path",ve||me,null,b.o8);var jt=pe.setCookie||G;jt(W,ge(Ce,ye)),ie=!0}return ie},get:function(W){var Oe=w.SM;return R(qe)&&(Oe=(pe.getCookie||re)(W)),Oe},del:function(W,Oe){var Ie=!1;return R(qe)&&(Ie=qe.purge(W,Oe)),Ie},purge:function(W,Oe){var Ie,ze=!1;if(V(de)){var ve=(Ie={},Ie.path=Oe||"/",Ie[_]="Thu, 01 Jan 1970 00:00:01 GMT",Ie);(0,E.w1)()||(ve["max-age"]="0");var ie=pe.delCookie||G;ie(W,ge(w.SM,ve)),ze=!0}return ze}};return qe[M]=qe,qe}o(J,"createCookieMgr");function V(oe){if(I===null){I=!1;try{var de=ee||{};I=de[h]!==void 0}catch(pe){(0,k.kP)(oe,2,68,"Cannot access document.cookie - "+(0,b.jj)(pe),{exception:(0,E.eU)(pe)})}}return I}o(V,"areCookiesSupported");function te(oe){var de={};if(oe&&oe.length){var pe=(0,b.nd)(oe).split(";");(0,b.tO)(pe,function(me){if(me=(0,b.nd)(me||w.SM),me){var Me=me.indexOf("=");Me===-1?de[me]=null:de[(0,b.nd)(me.substring(0,Me))]=(0,b.nd)(me.substring(Me+1))}})}return de}o(te,"_extractParts");function he(oe,de){return(0,b.mf)(oe[de])?oe[de]():null}o(he,"_formatDate");function ge(oe,de){var pe=oe||w.SM;return(0,b.rW)(de,function(me,Me){pe+="; "+me+((0,b.le)(Me)?w.SM:"="+Me)}),pe}o(ge,"_formatCookieValue");function re(oe){var de=w.SM;if(ee){var pe=ee[h]||w.SM;Q!==pe&&(L=te(pe),Q=pe),de=(0,b.nd)(L[oe]||w.SM)}return de}o(re,"_getCookieValue");function G(oe,de){ee&&(ee[h]=oe+"="+de)}o(G,"_setCookieValue");function le(oe){return(0,b.HD)(oe)?!!((0,b._Q)(oe,"CPU iPhone OS 12")||(0,b._Q)(oe,"iPad; CPU OS 12")||(0,b._Q)(oe,"Macintosh; Intel Mac OS X 10_14")&&(0,b._Q)(oe,"Version/")&&(0,b._Q)(oe,"Safari")||(0,b._Q)(oe,"Macintosh; Intel Mac OS X 10_14")&&(0,b.Id)(oe,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,b._Q)(oe,"Chrome/5")||(0,b._Q)(oe,"Chrome/6")||(0,b._Q)(oe,"UnrealEngine")&&!(0,b._Q)(oe,"Chrome")||(0,b._Q)(oe,"UCBrowser/12")||(0,b._Q)(oe,"UCBrowser/11")):!1}o(le,"uaDisallowsSameSiteNone")},5843:(ae,d,T)=>{"use strict";T.d(d,{GW:()=>C,Jj:()=>M,DO:()=>$,zB:()=>L});var E=T(2091),b=T(3242),w=T(7630),k=T(6708),z=T(4869),A=T(4878),h=T(6041),_=null,x,m=null;function C(){function V(){return(0,A.az)(15)}return o(V,"randomHexDigit"),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ee,function(te){var he=V()|0,ge=te==="x"?he:he&3|8;return ge.toString(16)})}o(C,"newGuid");function M(){var V=(0,w.r)();return V&&V.now?V.now():(0,k.m6)()}o(M,"perfNow");function I(V,te){if(V&&te){var he=V.length,ge=he-te.length;return V.substring(ge>=0?ge:0,he)===te}return!1}o(I,"strEndsWith");function $(){for(var V=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],te=h.SM,he,ge=0;ge<4;ge++)he=(0,A._l)(),te+=V[he&15]+V[he>>4&15]+V[he>>8&15]+V[he>>12&15]+V[he>>16&15]+V[he>>20&15]+V[he>>24&15]+V[he>>28&15];var re=V[8+((0,A._l)()&3)|0];return te.substr(0,8)+te.substr(9,4)+"4"+te.substr(13,3)+re+te.substr(16,3)+te.substr(19,12)}o($,"generateW3CId");var Q={_canUseCookies:void 0,isTypeof:k.Ym,isUndefined:k.o8,isNullOrUndefined:k.le,hasOwnProperty:k.nr,isFunction:k.mf,isObject:k.Kn,isDate:k.J_,isArray:k.kJ,isError:k.VZ,isString:k.HD,isNumber:k.hj,isBoolean:k.jn,toISOString:k.Y6,arrForEach:k.tO,arrIndexOf:k.UA,arrMap:k.Mr,arrReduce:k.Xz,strTrim:k.nd,objCreate:E.pu,objKeys:k.FY,objDefineAccessors:k.l_,addEventHandler:z.Ib,dateNow:k.m6,isIE:w.w1,disableCookies:P,newGuid:C,perfNow:M,newId:A.pZ,randomValue:A.az,random32:A._l,mwcRandomSeed:A.CN,mwcRandom32:A.F6,generateW3CId:$},ee=/[xy]/g,L={Attach:z.pZ,AttachEvent:z.pZ,Detach:z.pD,DetachEvent:z.pD};function B(V,te){var he=(0,b.kj)(V,te),ge=Q._canUseCookies;return _===null&&(_=[],x=ge,(0,k.l_)(Q,"_canUseCookies",function(){return x},function(re){x=re,(0,k.tO)(_,function(G){G.setEnabled(re)})})),(0,k.UA)(_,he)===-1&&_.push(he),(0,k.jn)(ge)&&he.setEnabled(ge),(0,k.jn)(x)&&he.setEnabled(x),he}o(B,"_legacyCookieMgr");function P(){B().setEnabled(!1)}o(P,"disableCookies");function R(V){return B(null,V).isEnabled()}o(R,"canUseCookies");function D(V,te){return B(null,V).get(te)}o(D,"getCookie");function O(V,te,he,ge){B(null,V).set(te,he,null,ge)}o(O,"setCookie");function J(V,te){return B(null,V).del(te)}o(J,"deleteCookie")},5883:(ae,d,T)=>{"use strict";T.d(d,{J:()=>C,K:()=>M});var E=T(4392),b=T(6708),w=T(4878),k=E.RJ,z="2.8.4",A="."+(0,w.pZ)(6),h=0;function _(I,$,Q){if(k)try{return k(I,$,{value:Q,enumerable:!1,configurable:!0}),!0}catch(ee){}return!1}o(_,"_createAccessor");function x(I){return I.nodeType===1||I.nodeType===9||!+I.nodeType}o(x,"_canAcceptData");function m(I,$){var Q=$[I.id];if(!Q){Q={};try{x($)&&(_($,I.id,Q)||($[I.id]=Q))}catch(ee){}}return Q}o(m,"_getCache");function C(I,$){return $===void 0&&($=!1),(0,b.Gf)(I+h+++($?"."+z:"")+A)}o(C,"createUniqueNamespace");function M(I){var $={id:C("_aiData-"+(I||"")+"."+z),accept:function(Q){return x(Q)},get:function(Q,ee,L,B){var P=Q[$.id];return P?P[(0,b.Gf)(ee)]:(B&&(P=m($,Q),P[(0,b.Gf)(ee)]=L),L)},kill:function(Q,ee){if(Q&&Q[ee])try{delete Q[ee]}catch(L){}}};return $}o(M,"createElmNodeData")},7158:(ae,d,T)=>{"use strict";T.d(d,{j:()=>h,p:()=>_});var E=T(7630),b=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],w=null,k;function z(x,m){return function(){var C=arguments,M=h(m);if(M){var I=M.listener;I&&I[x]&&I[x].apply(I,C)}}}o(z,"_listenerProxyFunc");function A(){var x=(0,E.a8)("Microsoft");return x&&(w=x.ApplicationInsights),w}o(A,"_getExtensionNamespace");function h(x){var m=w;return!m&&x.disableDbgExt!==!0&&(m=w||A()),m?m.ChromeDbgExt:null}o(h,"getDebugExt");function _(x){if(!k){k={};for(var m=0;m<b.length;m++)k[b[m]]=z(b[m],x)}return k}o(_,"getDebugListener")},5018:(ae,d,T)=>{"use strict";T.d(d,{lQ:()=>I,vH:()=>$,AQ:()=>Q,kP:()=>L,jV:()=>B});var E=T(7630),b=T(1679),w=T(6708),k=T(7158),z=T(6041),A="AI (Internal): ",h="AI: ",_="AITR_",x="errorToConsole",m="warnToConsole";function C(R){return R?'"'+R.replace(/\"/g,z.SM)+'"':z.SM}o(C,"_sanitizeDiagnosticText");function M(R,D){var O=(0,E.dr)();if(O){var J="log";O[R]&&(J=R),(0,w.mf)(O[J])&&O[J](D)}}o(M,"_logToConsole");var I=function(){function R(D,O,J,V){J===void 0&&(J=!1);var te=this;te.messageId=D,te.message=(J?h:A)+D;var he=z.SM;(0,E.nS)()&&(he=(0,E.xA)().stringify(V));var ge=(O?" message:"+C(O):z.SM)+(V?" props:"+C(he):z.SM);te.message+=ge}return o(R,"_InternalLogMessage"),R.dataType="MessageData",R}();function $(R,D){return(R||{}).logger||new Q(D)}o($,"safeGetLogger");var Q=function(){function R(D){this.identifier="DiagnosticLogger",this.queue=[];var O=0,J={};(0,b.Z)(R,this,function(V){(0,w.le)(D)&&(D={}),V.consoleLoggingLevel=function(){return te("loggingLevelConsole",0)},V.telemetryLoggingLevel=function(){return te("loggingLevelTelemetry",1)},V.maxInternalMessageLimit=function(){return te("maxMessageLimit",25)},V.enableDebugExceptions=function(){return te("enableDebugExceptions",!1)},V.throwInternal=function(re,G,le,oe,de){de===void 0&&(de=!1);var pe=new I(G,le,de,oe);if(V.enableDebugExceptions())throw(0,E.eU)(pe);var me=re===1?x:m;if((0,w.o8)(pe.message))ge("throw"+(re===1?"Critical":"Warning"),pe);else{var Me=V.consoleLoggingLevel();if(de){var _t=+pe.messageId;!J[_t]&&Me>=re&&(V[me](pe.message),J[_t]=!0)}else Me>=re&&V[me](pe.message);V.logInternalMessage(re,pe)}},V.warnToConsole=function(re){M("warn",re),ge("warning",re)},V.errorToConsole=function(re){M("error",re),ge("error",re)},V.resetInternalMessageCount=function(){O=0,J={}},V.logInternalMessage=function(re,G){if(!he()){var le=!0,oe=_+G.messageId;if(J[oe]?le=!1:J[oe]=!0,le&&(re<=V.telemetryLoggingLevel()&&(V.queue.push(G),O++,ge(re===1?"error":"warn",G)),O===V.maxInternalMessageLimit())){var de="Internal events throttle limit per PageView reached for this app.",pe=new I(23,de,!1);V.queue.push(pe),re===1?V.errorToConsole(de):V.warnToConsole(de)}}};function te(re,G){var le=D[re];return(0,w.le)(le)?G:le}o(te,"_getConfigValue");function he(){return O>=V.maxInternalMessageLimit()}o(he,"_areInternalMessagesThrottled");function ge(re,G){var le=(0,k.j)(D);le&&le.diagLog&&le.diagLog(re,G)}o(ge,"_debugExtMsg")})}return o(R,"DiagnosticLogger"),R}();function ee(R){return R||new Q}o(ee,"_getLogger");function L(R,D,O,J,V,te){te===void 0&&(te=!1),(R||new Q).throwInternal(D,O,J,V,te)}o(L,"_throwInternal");function B(R,D){ee(R).warnToConsole(D)}o(B,"_warnToConsole");function P(R,D,O){ee(R).logInternalMessage(D,O)}o(P,"_logInternalMessage")},7630:(ae,d,T)=>{"use strict";T.d(d,{dI:()=>he,a8:()=>ge,Ym:()=>re,Jj:()=>G,Nv:()=>le,Me:()=>oe,d6:()=>de,jW:()=>pe,fE:()=>me,s1:()=>Me,k$:()=>_t,dr:()=>qe,r:()=>W,nS:()=>Oe,xA:()=>Ie,MX:()=>ze,gz:()=>ve,b$:()=>ie,w1:()=>ye,sA:()=>Ce,eU:()=>ce,MF:()=>Te,JO:()=>je,cp:()=>ot,Z3:()=>Ye,ed:()=>Je,pI:()=>fn});var E=T(4392),b=T(2091),w=T(6041),k=T(6708),z="window",A="document",h="documentMode",_="navigator",x="history",m="location",C="console",M="performance",I="JSON",$="crypto",Q="msCrypto",ee="ReactNative",L="msie",B="trident/",P="XMLHttpRequest",R=null,D=null,O=!1,J=null,V=null;function te(St,Ae){var xe=!1;if(St){try{if(xe=Ae in St,!xe){var $e=St[E.hB];$e&&(xe=Ae in $e)}}catch(Sn){}if(!xe)try{var Nt=new St;xe=!(0,k.o8)(Nt[Ae])}catch(Sn){}}return xe}o(te,"_hasProperty");function he(St){O=St}o(he,"setEnableEnvMocks");function ge(St){var Ae=(0,b.Rd)();return Ae&&Ae[St]?Ae[St]:St===z&&re()?window:null}o(ge,"getGlobalInst");function re(){return Boolean(typeof window===E.fK&&window)}o(re,"hasWindow");function G(){return re()?window:ge(z)}o(G,"getWindow");function le(){return Boolean(typeof document===E.fK&&document)}o(le,"hasDocument");function oe(){return le()?document:ge(A)}o(oe,"getDocument");function de(){return Boolean(typeof navigator===E.fK&&navigator)}o(de,"hasNavigator");function pe(){return de()?navigator:ge(_)}o(pe,"getNavigator");function me(){return Boolean(typeof history===E.fK&&history)}o(me,"hasHistory");function Me(){return me()?history:ge(x)}o(Me,"getHistory");function _t(St){if(St&&O){var Ae=ge("__mockLocation");if(Ae)return Ae}return typeof location===E.fK&&location?location:ge(m)}o(_t,"getLocation");function qe(){return typeof console!==E.jA?console:ge(C)}o(qe,"getConsole");function W(){return ge(M)}o(W,"getPerformance");function Oe(){return Boolean(typeof JSON===E.fK&&JSON||ge(I)!==null)}o(Oe,"hasJSON");function Ie(){return Oe()?JSON||ge(I):null}o(Ie,"getJSON");function ze(){return ge($)}o(ze,"getCrypto");function ve(){return ge(Q)}o(ve,"getMsCrypto");function ie(){var St=pe();return St&&St.product?St.product===ee:!1}o(ie,"isReactNative");function ye(){var St=pe();if(St&&(St.userAgent!==D||R===null)){D=St.userAgent;var Ae=(D||w.SM).toLowerCase();R=(0,k._Q)(Ae,L)||(0,k._Q)(Ae,B)}return R}o(ye,"isIE");function Ce(St){if(St===void 0&&(St=null),!St){var Ae=pe()||{};St=Ae?(Ae.userAgent||w.SM).toLowerCase():w.SM}var xe=(St||w.SM).toLowerCase();if((0,k._Q)(xe,L)){var $e=oe()||{};return Math.max(parseInt(xe.split(L)[1]),$e[h]||0)}else if((0,k._Q)(xe,B)){var Nt=parseInt(xe.split(B)[1]);if(Nt)return Nt+4}return null}o(Ce,"getIEVersion");function ce(St){var Ae=Object[E.hB].toString.call(St),xe=w.SM;return Ae==="[object Error]"?xe="{ stack: '"+St.stack+"', message: '"+St.message+"', name: '"+St.name+"'":Oe()&&(xe=Ie().stringify(St)),Ae+xe}o(ce,"dumpObj");function Re(St){if(!St||!isString(St)){var Ae=pe()||{};St=Ae?(Ae.userAgent||strEmpty).toLowerCase():strEmpty}var xe=(St||strEmpty).toLowerCase();return xe.indexOf("safari")>=0}o(Re,"isSafari");function Te(){return V===null&&(V=de()&&Boolean(pe().sendBeacon)),V}o(Te,"isBeaconsSupported");function je(St){var Ae=!1;try{Ae=!!ge("fetch");var xe=ge("Request");Ae&&St&&xe&&(Ae=te(xe,"keepalive"))}catch($e){}return Ae}o(je,"isFetchSupported");function ot(){return J===null&&(J=typeof XDomainRequest!==E.jA,J&&Ye()&&(J=J&&!te(ge(P),"withCredentials"))),J}o(ot,"useXDomainRequest");function Ye(){var St=!1;try{var Ae=ge(P);St=!!Ae}catch(xe){}return St}o(Ye,"isXhrSupported");function jt(St,Ae){if(St)for(var xe=0;xe<St.length;xe++){var $e=St[xe];if($e.name&&$e.name===Ae)return $e}return{}}o(jt,"_getNamedValue");function Je(St){var Ae=oe();return Ae&&St?jt(Ae.querySelectorAll("meta"),St).content:null}o(Je,"findMetaTag");function fn(St){var Ae,xe=W();if(xe){var $e=xe.getEntriesByType("navigation")||[];Ae=jt(($e.length>0?$e[0]:{}).serverTiming,St).description}return Ae}o(fn,"findNamedServerTiming")},4869:(ae,d,T)=>{"use strict";T.d(d,{um:()=>V,jU:()=>le,XO:()=>oe,QY:()=>de,pZ:()=>pe,pD:()=>me,Ib:()=>Me,C1:()=>_t,yw:()=>W,nJ:()=>Oe,c9:()=>Ie,JA:()=>ze,TJ:()=>ve,C9:()=>ie,nD:()=>ye,Yl:()=>Ce});var E=T(5883),b=T(7630),w=T(6708),k="on",z="attachEvent",A="addEventListener",h="detachEvent",_="removeEventListener",x="events",m="visibilitychange",C="pagehide",M="pageshow",I="unload",$="beforeunload",Q=(0,E.J)("aiEvtPageHide"),ee=(0,E.J)("aiEvtPageShow"),L=/\.[\.]+/g,B=/[\.]+$/,P=1,R=(0,E.K)("events"),D=/^([^.]*)(?:\.(.+)|)/;function O(ce){return ce&&ce.replace?ce.replace(/^\s*\.*|\.*\s*$/g,""):ce}o(O,"_normalizeNamespace");function J(ce,Re){if(Re){var Te="";(0,w.kJ)(Re)?(Te="",(0,w.tO)(Re,function(ot){ot=O(ot),ot&&(ot[0]!=="."&&(ot="."+ot),Te+=ot)})):Te=O(Re),Te&&(Te[0]!=="."&&(Te="."+Te),ce=(ce||"")+Te)}var je=D.exec(ce||"")||[];return{type:je[1],ns:(je[2]||"").replace(L,".").replace(B,"").split(".").sort().join(".")}}o(J,"_getEvtNamespace");function V(ce,Re,Te){var je=[],ot=R.get(ce,x,{},!1),Ye=J(Re,Te);return(0,w.rW)(ot,function(jt,Je){(0,w.tO)(Je,function(fn){(!Ye.type||Ye.type===fn.evtName.type)&&(!Ye.ns||Ye.ns===Ye.ns)&&je.push({name:fn.evtName.type+(fn.evtName.ns?"."+fn.evtName.ns:""),handler:fn.handler})})}),je}o(V,"__getRegisteredEvents");function te(ce,Re,Te){Te===void 0&&(Te=!0);var je=R.get(ce,x,{},Te),ot=je[Re];return ot||(ot=je[Re]=[]),ot}o(te,"_getRegisteredEvents");function he(ce,Re,Te,je){ce&&Re&&Re.type&&(ce[_]?ce[_](Re.type,Te,je):ce[h]&&ce[h](k+Re.type,Te))}o(he,"_doDetach");function ge(ce,Re,Te,je){var ot=!1;return ce&&Re&&Re.type&&Te&&(ce[A]?(ce[A](Re.type,Te,je),ot=!0):ce[z]&&(ce[z](k+Re.type,Te),ot=!0)),ot}o(ge,"_doAttach");function re(ce,Re,Te,je){for(var ot=Re.length;ot--;){var Ye=Re[ot];Ye&&(!Te.ns||Te.ns===Ye.evtName.ns)&&(!je||je(Ye))&&(he(ce,Ye.evtName,Ye.handler,Ye.capture),Re.splice(ot,1))}}o(re,"_doUnregister");function G(ce,Re,Te){if(Re.type)re(ce,te(ce,Re.type),Re,Te);else{var je=R.get(ce,x,{});(0,w.rW)(je,function(ot,Ye){re(ce,Ye,Re,Te)}),(0,w.FY)(je).length===0&&R.kill(ce,x)}}o(G,"_unregisterEvents");function le(ce,Re){var Te;return Re?((0,w.kJ)(Re)?Te=[ce].concat(Re):Te=[ce,Re],Te=J("xx",Te).ns.split(".")):Te=ce,Te}o(le,"mergeEvtNamespace");function oe(ce,Re,Te,je,ot){ot===void 0&&(ot=!1);var Ye=!1;if(ce)try{var jt=J(Re,je);if(Ye=ge(ce,jt,Te,ot),Ye&&R.accept(ce)){var Je={guid:P++,evtName:jt,handler:Te,capture:ot};te(ce,jt.type).push(Je)}}catch(fn){}return Ye}o(oe,"eventOn");function de(ce,Re,Te,je,ot){if(ot===void 0&&(ot=!1),ce)try{var Ye=J(Re,je),jt=!1;G(ce,Ye,function(Je){return Ye.ns&&!Te||Je.handler===Te?(jt=!0,!0):!1}),jt||he(ce,Ye,Te,ot)}catch(Je){}}o(de,"eventOff");function pe(ce,Re,Te,je){return je===void 0&&(je=!1),oe(ce,Re,Te,null,je)}o(pe,"attachEvent");function me(ce,Re,Te,je){je===void 0&&(je=!1),de(ce,Re,Te,null,je)}o(me,"detachEvent");function Me(ce,Re,Te){var je=!1,ot=(0,b.Jj)();ot&&(je=oe(ot,ce,Re,Te),je=oe(ot.body,ce,Re,Te)||je);var Ye=(0,b.Me)();return Ye&&(je=oe(Ye,ce,Re,Te)||je),je}o(Me,"addEventHandler");function _t(ce,Re,Te){var je=(0,b.Jj)();je&&(de(je,ce,Re,Te),de(je.body,ce,Re,Te));var ot=(0,b.Me)();ot&&de(ot,ce,Re,Te)}o(_t,"removeEventHandler");function qe(ce,Re,Te,je){var ot=!1;return Re&&ce&&ce.length>0&&(0,w.tO)(ce,function(Ye){Ye&&(!Te||(0,w.UA)(Te,Ye)===-1)&&(ot=Me(Ye,Re,je)||ot)}),ot}o(qe,"_addEventListeners");function W(ce,Re,Te,je){var ot=!1;return Re&&ce&&(0,w.kJ)(ce)&&(ot=qe(ce,Re,Te,je),!ot&&Te&&Te.length>0&&(ot=qe(ce,Re,null,je))),ot}o(W,"addEventListeners");function Oe(ce,Re,Te){ce&&(0,w.kJ)(ce)&&(0,w.tO)(ce,function(je){je&&_t(je,Re,Te)})}o(Oe,"removeEventListeners");function Ie(ce,Re,Te){return W([$,I,C],ce,Re,Te)}o(Ie,"addPageUnloadEventListener");function ze(ce,Re){Oe([$,I,C],ce,Re)}o(ze,"removePageUnloadEventListener");function ve(ce,Re,Te){function je(jt){var Je=(0,b.Me)();ce&&Je&&Je.visibilityState==="hidden"&&ce(jt)}o(je,"_handlePageVisibility");var ot=le(Q,Te),Ye=qe([C],ce,Re,ot);return(!Re||(0,w.UA)(Re,m)===-1)&&(Ye=qe([m],je,Re,ot)||Ye),!Ye&&Re&&(Ye=ve(ce,null,Te)),Ye}o(ve,"addPageHideEventListener");function ie(ce,Re){var Te=le(Q,Re);Oe([C],ce,Te),Oe([m],null,Te)}o(ie,"removePageHideEventListener");function ye(ce,Re,Te){function je(jt){var Je=(0,b.Me)();ce&&Je&&Je.visibilityState==="visible"&&ce(jt)}o(je,"_handlePageVisibility");var ot=le(ee,Te),Ye=qe([M],ce,Re,ot);return Ye=qe([m],je,Re,ot)||Ye,!Ye&&Re&&(Ye=ye(ce,null,Te)),Ye}o(ye,"addPageShowEventListener");function Ce(ce,Re){var Te=le(ee,Re);Oe([M],ce,Te),Oe([m],null,Te)}o(Ce,"removePageShowEventListener")},6708:(ae,d,T)=>{"use strict";T.d(d,{Ym:()=>me,o8:()=>Me,le:()=>qe,BX:()=>W,nr:()=>Oe,Kn:()=>Ie,mf:()=>ze,Gf:()=>ie,rW:()=>ye,Id:()=>Ce,xe:()=>Re,_Q:()=>je,J_:()=>ot,kJ:()=>Ye,VZ:()=>Je,HD:()=>fn,hj:()=>St,jn:()=>Ae,Y6:()=>Nt,tO:()=>_n,UA:()=>Dn,Mr:()=>F,Xz:()=>g,nd:()=>p,FY:()=>Ee,l_:()=>Pe,_A:()=>ln,FL:()=>et,Xi:()=>Ge,m6:()=>Le,jj:()=>Ke,sO:()=>ht,qK:()=>ut,F:()=>st,fQ:()=>Lt,_y:()=>Kt,cf:()=>Ve,Oi:()=>gt,Vb:()=>it,Ax:()=>kt,mm:()=>un});var E=T(4392),b=T(2091),w=T(6041),k="toISOString",z="endsWith",A="startsWith",h="indexOf",_="map",x="reduce",m="trim",C="toString",M="__proto__",I="constructor",$=E.RJ,Q=E.Pw.freeze,ee=E.Pw.seal,L=E.Pw.keys,B=String[E.hB],P=B[m],R=B[z],D=B[A],O=Date[E.hB],J=O[k],V=Array.isArray,te=E.V4[C],he=E.CY[C],ge=he.call(E.Pw),re=/-([a-z])/g,G=/([^\w\d_$])/g,le=/^(\d+[\w\d_$])/,oe=Object.getPrototypeOf;function de(Y){if(Y){if(oe)return oe(Y);var Be=Y[M]||Y[E.hB]||Y[I];if(Be)return Be}return null}o(de,"_getObjProto");function pe(Y){return te.call(Y)}o(pe,"objToString");function me(Y,Be){return typeof Y===Be}o(me,"isTypeof");function Me(Y){return Y===void 0||typeof Y===E.jA}o(Me,"isUndefined");function _t(Y){return!Me(Y)}o(_t,"isNotUndefined");function qe(Y){return Y===null||Me(Y)}o(qe,"isNullOrUndefined");function W(Y){return!qe(Y)}o(W,"isNotNullOrUndefined");function Oe(Y,Be){return!!(Y&&E.CY.call(Y,Be))}o(Oe,"hasOwnProperty");function Ie(Y){return!!(Y&&typeof Y===E.fK)}o(Ie,"isObject");function ze(Y){return!!(Y&&typeof Y===E.cb)}o(ze,"isFunction");function ve(Y){return Y&&ze(Y.then)}o(ve,"isPromiseLike");function ie(Y){var Be=Y;return Be&&fn(Be)&&(Be=Be.replace(re,function(Qe,vt){return vt.toUpperCase()}),Be=Be.replace(G,"_"),Be=Be.replace(le,function(Qe,vt){return"_"+vt})),Be}o(ie,"normalizeJsName");function ye(Y,Be){if(Y)for(var Qe in Y)E.CY.call(Y,Qe)&&Be.call(Y,Qe,Y[Qe])}o(ye,"objForEachKey");function Ce(Y,Be){var Qe=!1;return Y&&Be&&!(Qe=Y===Be)&&(Qe=R?Y[z](Be):ce(Y,Be)),Qe}o(Ce,"strEndsWith");function ce(Y,Be){var Qe=!1,vt=Be?Be.length:0,Bt=Y?Y.length:0;if(vt&&Bt&&Bt>=vt&&!(Qe=Y===Be)){for(var De=Bt-1,mt=vt-1;mt>=0;mt--){if(Y[De]!=Be[mt])return!1;De--}Qe=!0}return Qe}o(ce,"_strEndsWithPoly");function Re(Y,Be){var Qe=!1;return Y&&Be&&!(Qe=Y===Be)&&(Qe=D?Y[A](Be):Te(Y,Be)),Qe}o(Re,"strStartsWith");function Te(Y,Be){var Qe=!1,vt=Be?Be.length:0;if(Y&&vt&&Y.length>=vt&&!(Qe=Y===Be)){for(var Bt=0;Bt<vt;Bt++)if(Y[Bt]!==Be[Bt])return!1;Qe=!0}return Qe}o(Te,"_strStartsWithPoly");function je(Y,Be){return Y&&Be?Y.indexOf(Be)!==-1:!1}o(je,"strContains");function ot(Y){return!!(Y&&te.call(Y)==="[object Date]")}o(ot,"isDate");var Ye=V||jt;function jt(Y){return!!(Y&&te.call(Y)==="[object Array]")}o(jt,"_isArrayPoly");function Je(Y){return!!(Y&&te.call(Y)==="[object Error]")}o(Je,"isError");function fn(Y){return typeof Y=="string"}o(fn,"isString");function St(Y){return typeof Y=="number"}o(St,"isNumber");function Ae(Y){return typeof Y=="boolean"}o(Ae,"isBoolean");function xe(Y){return typeof Y=="symbol"}o(xe,"isSymbol");function $e(Y){var Be=!1;if(Y&&typeof Y=="object"){var Qe=oe?oe(Y):de(Y);Qe?(Qe[I]&&E.CY.call(Qe,I)&&(Qe=Qe[I]),Be=typeof Qe===E.cb&&he.call(Qe)===ge):Be=!0}return Be}o($e,"isPlainObject");function Nt(Y){if(Y)return J?Y[k]():Sn(Y)}o(Nt,"toISOString");function Sn(Y){if(Y&&Y.getUTCFullYear){var Be=o(function(Qe){var vt=String(Qe);return vt.length===1&&(vt="0"+vt),vt},"pad");return Y.getUTCFullYear()+"-"+Be(Y.getUTCMonth()+1)+"-"+Be(Y.getUTCDate())+"T"+Be(Y.getUTCHours())+":"+Be(Y.getUTCMinutes())+":"+Be(Y.getUTCSeconds())+"."+String((Y.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}o(Sn,"_toISOStringPoly");function _n(Y,Be,Qe){var vt=Y.length;try{for(var Bt=0;Bt<vt&&!(Bt in Y&&Be.call(Qe||Y,Y[Bt],Bt,Y)===-1);Bt++);}catch(De){}}o(_n,"arrForEach");function Dn(Y,Be,Qe){if(Y){if(Y[h])return Y[h](Be,Qe);var vt=Y.length,Bt=Qe||0;try{for(var De=Math.max(Bt>=0?Bt:vt-Math.abs(Bt),0);De<vt;De++)if(De in Y&&Y[De]===Be)return De}catch(mt){}}return-1}o(Dn,"arrIndexOf");function F(Y,Be,Qe){var vt;if(Y){if(Y[_])return Y[_](Be,Qe);var Bt=Y.length,De=Qe||Y;vt=new Array(Bt);try{for(var mt=0;mt<Bt;mt++)mt in Y&&(vt[mt]=Be.call(De,Y[mt],Y))}catch(Mt){}}return vt}o(F,"arrMap");function g(Y,Be,Qe){var vt;if(Y){if(Y[x])return Y[x](Be,Qe);var Bt=Y.length,De=0;if(arguments.length>=3)vt=arguments[2];else{for(;De<Bt&&!(De in Y);)De++;vt=Y[De++]}for(;De<Bt;)De in Y&&(vt=Be(vt,Y[De],De,Y)),De++}return vt}o(g,"arrReduce");function p(Y){return Y&&(Y=P&&Y[m]?Y[m]():Y.replace?Y.replace(/^\s+|\s+$/g,""):Y),Y}o(p,"strTrim");var K=!{toString:null}.propertyIsEnumerable("toString"),ue=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ee(Y){var Be=typeof Y;if(Be!==E.cb&&(Be!==E.fK||Y===null)&&(0,b.ZU)("objKeys called on non-object"),!K&&L)return L(Y);var Qe=[];for(var vt in Y)Y&&E.CY.call(Y,vt)&&Qe.push(vt);if(K)for(var Bt=ue.length,De=0;De<Bt;De++)Y&&E.CY.call(Y,ue[De])&&Qe.push(ue[De]);return Qe}o(Ee,"objKeys");function Pe(Y,Be,Qe,vt){if($)try{var Bt={enumerable:!0,configurable:!0};return Qe&&(Bt.get=Qe),vt&&(Bt.set=vt),$(Y,Be,Bt),!0}catch(De){}return!1}o(Pe,"objDefineAccessors");function qt(Y){return Y}o(qt,"_doNothing");function ln(Y){return Q&&ye(Y,function(Be,Qe){(Ye(Qe)||Ie(Qe))&&Q(Qe)}),et(Y)}o(ln,"deepFreeze");var et=Q||qt,Ge=ee||qt;function Le(){var Y=Date;return Y.now?Y.now():new Y().getTime()}o(Le,"dateNow");function Ke(Y){return Je(Y)?Y.name:w.SM}o(Ke,"getExceptionName");function ht(Y,Be,Qe,vt,Bt){var De=Qe;return Y&&(De=Y[Be],De!==Qe&&(!Bt||Bt(De))&&(!vt||vt(Qe))&&(De=Qe,Y[Be]=De)),De}o(ht,"setValue");function ut(Y,Be,Qe){var vt;return Y?(vt=Y[Be],!vt&&qe(vt)&&(vt=Me(Qe)?{}:Qe,Y[Be]=vt)):vt=Me(Qe)?{}:Qe,vt}o(ut,"getSetValue");function st(Y){return!Y}o(st,"isNotTruthy");function Lt(Y){return!!Y}o(Lt,"isTruthy");function Kt(Y){throw new Error(Y)}o(Kt,"throwError");function Zt(Y,Be){var Qe=null,vt=null;return ze(Y)?Qe=Y:vt=Y,function(){var Bt=arguments;if(Qe&&(vt=Qe()),vt)return vt[Be].apply(vt,Bt)}}o(Zt,"_createProxyFunction");function Ve(Y,Be,Qe){if(Y&&Be&&Ie(Y)&&Ie(Be)){var vt=o(function(De){if(fn(De)){var mt=Be[De];ze(mt)?(!Qe||Qe(De,!0,Be,Y))&&(Y[De]=Zt(Be,De)):(!Qe||Qe(De,!1,Be,Y))&&(Oe(Y,De)&&delete Y[De],Pe(Y,De,function(){return Be[De]},function(Mt){Be[De]=Mt})||(Y[De]=mt))}},"_loop_1");for(var Bt in Be)vt(Bt)}return Y}o(Ve,"proxyAssign");function gt(Y,Be,Qe,vt,Bt){Y&&Be&&Qe&&(Bt!==!1||Me(Y[Be]))&&(Y[Be]=Zt(Qe,vt))}o(gt,"proxyFunctionAs");function it(Y,Be,Qe,vt){return Y&&Be&&Ie(Y)&&Ye(Qe)&&_n(Qe,function(Bt){fn(Bt)&&gt(Y,Bt,Be,Bt,vt)}),Y}o(it,"proxyFunctions");function Tt(Y){return function(){function Be(){var Qe=this;Y&&ye(Y,function(vt,Bt){Qe[vt]=Bt})}return o(Be,"class_1"),Be}()}o(Tt,"createClassFromInterface");function kt(Y){return Y&&E.rl&&(Y=(0,E.Pw)((0,E.rl)({},Y))),Y}o(kt,"optimizeObject");function un(Y,Be,Qe,vt,Bt,De){var mt=arguments,Mt=mt[0]||{},dt=mt.length,Xe=!1,$t=1;for(dt>0&&Ae(Mt)&&(Xe=Mt,Mt=mt[$t]||{},$t++),Ie(Mt)||(Mt={});$t<dt;$t++){var Ot=mt[$t],yt=Ye(Ot),en=Ie(Ot);for(var Jt in Ot){var hn=yt&&Jt in Ot||en&&E.CY.call(Ot,Jt);if(!!hn){var Fn=Ot[Jt],er=void 0;if(Xe&&Fn&&((er=Ye(Fn))||$e(Fn))){var xn=Mt[Jt];er?Ye(xn)||(xn=[]):$e(xn)||(xn={}),Fn=un(Xe,xn,Fn)}Fn!==void 0&&(Mt[Jt]=Fn)}}}return Mt}o(un,"objExtend")},6041:(ae,d,T)=>{"use strict";T.d(d,{SM:()=>E,i9:()=>b,Nz:()=>w,El:()=>k,Vr:()=>z,vE:()=>A,Gc:()=>h,Rw:()=>_,C0:()=>x,Ho:()=>m,Z_:()=>C,Mf:()=>M,nE:()=>I,dV:()=>Q,XP:()=>ee,eO:()=>L,H4:()=>B,rX:()=>P,SN:()=>R});var E="",b="processTelemetry",w="priority",k="setNextPlugin",z="isInitialized",A="teardown",h="core",_="update",x="disabled",m="_doTeardown",C="processNext",M="resume",I="pause",$="NotificationListener",Q="add"+$,ee="remove"+$,L="eventsSent",B="eventsDiscarded",P="eventsSendRequest",R="perfEvent"},9288:(ae,d,T)=>{"use strict";T.d(d,{zn:()=>z,Jk:()=>A,Lm:()=>_,j5:()=>m});var E=T(1679),b=T(6708),w="ctx",k=null,z=function(){function C(M,I,$){var Q=this,ee=!1;if(Q.start=(0,b.m6)(),Q.name=M,Q.isAsync=$,Q.isChildEvt=function(){return!1},(0,b.mf)(I)){var L;ee=(0,b.l_)(Q,"payload",function(){return!L&&(0,b.mf)(I)&&(L=I(),I=null),L})}Q.getCtx=function(B){return B?B===C.ParentContextKey||B===C.ChildrenContextKey?Q[B]:(Q[w]||{})[B]:null},Q.setCtx=function(B,P){if(B)if(B===C.ParentContextKey)Q[B]||(Q.isChildEvt=function(){return!0}),Q[B]=P;else if(B===C.ChildrenContextKey)Q[B]=P;else{var R=Q[w]=Q[w]||{};R[B]=P}},Q.complete=function(){var B=0,P=Q.getCtx(C.ChildrenContextKey);if((0,b.kJ)(P))for(var R=0;R<P.length;R++){var D=P[R];D&&(B+=D.time)}Q.time=(0,b.m6)()-Q.start,Q.exTime=Q.time-B,Q.complete=function(){},!ee&&(0,b.mf)(I)&&(Q.payload=I())}}return o(C,"PerfEvent"),C.ParentContextKey="parent",C.ChildrenContextKey="childEvts",C}(),A=function(){function C(M){this.ctx={},(0,E.Z)(C,this,function(I){I.create=function($,Q,ee){return new z($,Q,ee)},I.fire=function($){$&&($.complete(),M&&(0,b.mf)(M.perfEvent)&&M.perfEvent($))},I.setCtx=function($,Q){if($){var ee=I[w]=I[w]||{};ee[$]=Q}},I.getCtx=function($){return(I[w]||{})[$]}})}return o(C,"PerfManager"),C}(),h="CoreUtils.doPerf";function _(C,M,I,$,Q){if(C){var ee=C;if((0,b.mf)(ee.getPerfMgr)&&(ee=ee.getPerfMgr()),ee){var L=void 0,B=ee.getCtx(h);try{if(L=ee.create(M(),$,Q),L){if(B&&L.setCtx&&(L.setCtx(z.ParentContextKey,B),B.getCtx&&B.setCtx)){var P=B.getCtx(z.ChildrenContextKey);P||(P=[],B.setCtx(z.ChildrenContextKey,P)),P.push(L)}return ee.setCtx(h,L),I(L)}}catch(R){L&&L.setCtx&&L.setCtx("exception",R)}finally{L&&ee.fire(L),ee.setCtx(h,B)}}}return I()}o(_,"doPerf");function x(C){k=C}o(x,"setGblPerfMgr");function m(){return k}o(m,"getGblPerfMgr")},1589:(ae,d,T)=>{"use strict";T.d(d,{CD:()=>I,Bt:()=>$,xy:()=>Q,jV:()=>ee,Vi:()=>B});var E=T(5018),b=T(6708),w=T(9288),k=T(7630),z=T(6041),A=T(3833),h="TelemetryPluginChain",_="_hasRun",x="_getTelCtx",m=0;function C(P,R,D){for(;P;){if(P.getPlugin()===D)return P;P=P.getNext()}return ee([D],R.config||{},R)}o(C,"_getNextProxyStart");function M(P,R,D,O){var J=null,V=[];O!==null&&(J=O?C(P,D,O):P);var te={_next:ge,ctx:{core:function(){return D},diagLog:function(){return(0,E.vH)(D,R)},getCfg:function(){return R},getExtCfg:re,getConfig:G,hasNext:function(){return!!J},getNext:function(){return J},setNext:function(oe){J=oe},iterate:le,onComplete:he}};function he(oe,de){for(var pe=[],me=2;me<arguments.length;me++)pe[me-2]=arguments[me];oe&&V.push({func:oe,self:(0,b.o8)(de)?te.ctx:de,args:pe})}o(he,"_addOnComplete");function ge(){var oe=J;if(J=oe?oe.getNext():null,!oe){var de=V;de&&de.length>0&&((0,b.tO)(de,function(pe){try{pe.func.call(pe.self,pe.args)}catch(me){(0,E.kP)(D.logger,2,73,"Unexpected Exception during onComplete - "+(0,k.eU)(me))}}),V=[])}return oe}o(ge,"_moveNext");function re(oe,de,pe){de===void 0&&(de={}),pe===void 0&&(pe=0);var me;if(R){var Me=R.extensionConfig;Me&&oe&&(me=Me[oe])}if(!me)me=de;else if((0,b.Kn)(de)&&pe!==0){var _t=(0,b.mm)(!0,de,me);R&&pe===2&&(0,b.rW)(de,function(qe){if((0,b.le)(_t[qe])){var W=R[qe];(0,b.le)(W)||(_t[qe]=W)}}),me=_t}return me}o(re,"_getExtCfg");function G(oe,de,pe){pe===void 0&&(pe=!1);var me,Me=re(oe,null);return Me&&!(0,b.le)(Me[de])?me=Me[de]:R&&!(0,b.le)(R[de])&&(me=R[de]),(0,b.le)(me)?pe:me}o(G,"_getConfig");function le(oe){for(var de;de=te._next();){var pe=de.getPlugin();pe&&oe(pe)}}return o(le,"_iterateChain"),te}o(M,"_createInternalContext");function I(P,R,D,O){var J=M(P,R,D,O),V=J.ctx;function te(ge){var re=J._next();return re&&re.processTelemetry(ge,V),!re}o(te,"_processNext");function he(ge,re){return ge===void 0&&(ge=null),(0,b.kJ)(ge)&&(ge=ee(ge,R,D,re)),I(ge||V.getNext(),R,D,re)}return o(he,"_createNew"),V.processNext=te,V.createNew=he,V}o(I,"createProcessTelemetryContext");function $(P,R,D){var O=R.config||{},J=M(P,O,R,D),V=J.ctx;function te(ge){var re=J._next();return re&&re.unload(V,ge),!re}o(te,"_processNext");function he(ge,re){return ge===void 0&&(ge=null),(0,b.kJ)(ge)&&(ge=ee(ge,O,R,re)),$(ge||V.getNext(),R,re)}return o(he,"_createNew"),V.processNext=te,V.createNew=he,V}o($,"createProcessTelemetryUnloadContext");function Q(P,R,D){var O=R.config||{},J=M(P,O,R,D),V=J.ctx;function te(ge){return V.iterate(function(re){(0,b.mf)(re.update)&&re.update(V,ge)})}o(te,"_processNext");function he(ge,re){return ge===void 0&&(ge=null),(0,b.kJ)(ge)&&(ge=ee(ge,O,R,re)),Q(ge||V.getNext(),R,re)}return o(he,"_createNew"),V.processNext=te,V.createNew=he,V}o(Q,"createProcessTelemetryUpdateContext");function ee(P,R,D,O){var J=null,V=!O;if((0,b.kJ)(P)&&P.length>0){var te=null;(0,b.tO)(P,function(he){if(!V&&O===he&&(V=!0),V&&he&&(0,b.mf)(he.processTelemetry)){var ge=L(he,R,D);J||(J=ge),te&&te._setNext(ge),te=ge}})}return O&&!J?ee([O],R,D):J}o(ee,"createTelemetryProxyChain");function L(P,R,D){var O=null,J=(0,b.mf)(P.processTelemetry),V=(0,b.mf)(P.setNextPlugin),te;P?te=P.identifier+"-"+P.priority+"-"+m++:te="Unknown-0-"+m++;var he={getPlugin:function(){return P},getNext:function(){return O},processTelemetry:G,unload:le,update:oe,_id:te,_setNext:function(de){O=de}};function ge(){var de;return P&&(0,b.mf)(P[x])&&(de=P[x]()),de||(de=I(he,R,D)),de}o(ge,"_getTelCtx");function re(de,pe,me,Me,_t){var qe=!1,W=P?P.identifier:h,Oe=de[_];return Oe||(Oe=de[_]={}),de.setNext(O),P&&(0,w.Lm)(de[z.Gc](),function(){return W+":"+me},function(){Oe[te]=!0;try{var Ie=O?O._id:z.SM;Ie&&(Oe[Ie]=!1),qe=pe(de)}catch(ve){var ze=O?Oe[O._id]:!0;ze&&(qe=!0),(!O||!ze)&&(0,E.kP)(de.diagLog(),1,73,"Plugin ["+W+"] failed during "+me+" - "+(0,k.eU)(ve)+", run flags: "+(0,k.eU)(Oe))}},Me,_t),qe}o(re,"_processChain");function G(de,pe){pe=pe||ge();function me(Me){if(!P||!J)return!1;var _t=(0,A.OY)(P);return _t.teardown||_t[z.C0]?!1:(V&&P.setNextPlugin(O),P.processTelemetry(de,Me),!0)}o(me,"_callProcessTelemetry"),re(pe,me,"processTelemetry",function(){return{item:de}},!de.sync)||pe.processNext(de)}o(G,"_processTelemetry");function le(de,pe){function me(){var Me=!1;if(P){var _t=(0,A.OY)(P),qe=P[z.Gc]||_t.core;P&&(!qe||qe===de[z.Gc]())&&!_t[z.vE]&&(_t[z.Gc]=null,_t[z.vE]=!0,_t[z.Vr]=!1,P[z.vE]&&P[z.vE](de,pe)===!0&&(Me=!0))}return Me}o(me,"_callTeardown"),re(de,me,"unload",function(){},pe.isAsync)||de.processNext(pe)}o(le,"_unloadPlugin");function oe(de,pe){function me(){var Me=!1;if(P){var _t=(0,A.OY)(P),qe=P[z.Gc]||_t.core;P&&(!qe||qe===de[z.Gc]())&&!_t[z.vE]&&P[z.Rw]&&P[z.Rw](de,pe)===!0&&(Me=!0)}return Me}o(me,"_callUpdate"),re(de,me,"update",function(){},!1)||de.processNext(pe)}return o(oe,"_updatePlugin"),(0,b.FL)(he)}o(L,"createTelemetryPluginProxy");var B=function(){function P(R,D,O,J){var V=this,te=I(R,D,O,J);(0,b.Vb)(V,te,(0,b.FY)(te))}return o(P,"ProcessTelemetryContext"),P}()},4878:(ae,d,T)=>{"use strict";T.d(d,{az:()=>C,_l:()=>M,CN:()=>I,F6:()=>$,pZ:()=>Q});var E=T(7630),b=T(6708),w=T(6041),k=4294967296,z=4294967295,A=!1,h=123456789,_=987654321;function x(ee){ee<0&&(ee>>>=0),h=123456789+ee&z,_=987654321-ee&z,A=!0}o(x,"_mwcSeed");function m(){try{var ee=(0,b.m6)()&2147483647;x((Math.random()*k^ee)+ee)}catch(L){}}o(m,"_autoSeedMwc");function C(ee){return ee>0?Math.floor(M()/z*(ee+1))>>>0:0}o(C,"randomValue");function M(ee){var L=0,B=(0,E.MX)()||(0,E.gz)();return B&&B.getRandomValues&&(L=B.getRandomValues(new Uint32Array(1))[0]&z),L===0&&(0,E.w1)()&&(A||m(),L=$()&z),L===0&&(L=Math.floor(k*Math.random()|0)),ee||(L>>>=0),L}o(M,"random32");function I(ee){ee?x(ee):m()}o(I,"mwcRandomSeed");function $(ee){_=36969*(_&65535)+(_>>16)&z,h=18e3*(h&65535)+(h>>16)&z;var L=(_<<16)+(h&65535)>>>0&z|0;return ee||(L>>>=0),L}o($,"mwcRandom32");function Q(ee){ee===void 0&&(ee=22);for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=M()>>>0,P=0,R=w.SM;R.length<ee;)P++,R+=L.charAt(B&63),B>>>=6,P===5&&(B=(M()<<2&4294967295|B&3)>>>0,P=0);return R}o(Q,"newId")},3833:(ae,d,T)=>{"use strict";T.d(d,{OY:()=>h,bP:()=>_,AA:()=>x,Yn:()=>C});var E=T(6708),b=T(6041),w=T(5883),k=T(4206),z="_doUnload",A=(0,w.K)("plugin");function h(M){return A.get(M,"state",{},!0)}o(h,"_getPluginState");function _(M,I){for(var $=[],Q=null,ee=M.getNext(),L;ee;){var B=ee.getPlugin();if(B){Q&&(0,E.mf)(Q[b.El])&&(0,E.mf)(B[b.i9])&&Q[b.El](B);var P=!1;(0,E.mf)(B[b.Vr])?P=B[b.Vr]():(L=h(B),P=L[b.Vr]),P||$.push(B),Q=B,ee=ee.getNext()}}(0,E.tO)($,function(R){var D=M.core();R.initialize(M.getCfg(),D,I,M.getNext()),L=h(R),!R[b.Gc]&&!L[b.Gc]&&(L[b.Gc]=D),L[b.Vr]=!0,delete L[b.vE]})}o(_,"initializePlugins");function x(M){return M.sort(function(I,$){var Q=0;if($){var ee=(0,E.mf)($[b.i9]);(0,E.mf)(I[b.i9])?Q=ee?I[b.Nz]-$[b.Nz]:1:ee&&(Q=-1)}else Q=I?1:-1;return Q})}o(x,"sortPlugins");function m(M,I,$,Q){var ee=0;function L(){for(;ee<M.length;){var B=M[ee++];if(B){var P=B[z]||B[strDoTeardown];if(isFunction(P)&&P.call(B,I,$,L)===!0)return!0}}}return o(L,"_doUnload"),L()}o(m,"unloadComponents");function C(M){var I={};return{getName:function(){return I.name},setName:function($){M&&M.setName($),I.name=$},getTraceId:function(){return I.traceId},setTraceId:function($){M&&M.setTraceId($),(0,k.jN)($)&&(I.traceId=$)},getSpanId:function(){return I.spanId},setSpanId:function($){M&&M.setSpanId($),(0,k.Lc)($)&&(I.spanId=$)},getTraceFlags:function(){return I.traceFlags},setTraceFlags:function($){M&&M.setTraceFlags($),I.traceFlags=$}}}o(C,"createDistributedTraceContext")},310:(ae,d,T)=>{"use strict";T.d(d,{Y:()=>k});var E=T(5018),b=T(7630),w=T(6708);function k(){var z=[];function A(_){_&&z.push(_)}o(A,"_addHandler");function h(_,x){(0,w.tO)(z,function(m){try{m(_,x)}catch(C){(0,E.kP)(_.diagLog(),2,73,"Unexpected error calling unload handler - "+(0,b.eU)(C))}}),z=[]}return o(h,"_runHandlers"),{add:A,run:h}}o(k,"createUnloadHandlerContainer")},4206:(ae,d,T)=>{"use strict";T.d(d,{SU:()=>I,j_:()=>$,jN:()=>Q,Lc:()=>ee,J6:()=>L,Pn:()=>B,aR:()=>P,lq:()=>R});var E=T(5843),b=T(7630),w=T(6708),k=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,z="00",A="ff",h="00000000000000000000000000000000",_="0000000000000000",x=1;function m(D,O,J){return D&&D.length===O&&D!==J?!!D.match(/^[\da-f]*$/):!1}o(m,"_isValid");function C(D,O,J){return m(D,O)?D:J}o(C,"_formatValue");function M(D){(isNaN(D)||D<0||D>255)&&(D=1);for(var O=D.toString(16);O.length<2;)O="0"+O;return O}o(M,"_formatFlags");function I(D,O,J,V){return{version:m(V,2,A)?V:z,traceId:Q(D)?D:(0,E.DO)(),spanId:ee(O)?O:(0,E.DO)().substr(0,16),traceFlags:J>=0&&J<=255?J:1}}o(I,"createTraceParent");function $(D){if(!D||((0,w.kJ)(D)&&(D=D[0]||""),!D||!(0,w.HD)(D)||D.length>8192))return null;var O=k.exec((0,w.nd)(D));return!O||O[1]===A||O[2]===h||O[3]===_?null:{version:O[1],traceId:O[2],spanId:O[3],traceFlags:parseInt(O[4],16)}}o($,"parseTraceParent");function Q(D){return m(D,32,h)}o(Q,"isValidTraceId");function ee(D){return m(D,16,_)}o(ee,"isValidSpanId");function L(D){return!(!D||!m(D.version,2,A)||!m(D.traceId,32,h)||!m(D.spanId,16,_)||!m(M(D.traceFlags),2))}o(L,"isValidTraceParent");function B(D){return L(D)?(D.traceFlags&x)===x:!1}o(B,"isSampledFlag");function P(D){if(D){var O=M(D.traceFlags);m(O,2)||(O="01");var J=D.version||z;return J!=="00"&&J!=="ff"&&(J=z),"".concat(J,"-").concat(C(D.traceId,32,h),"-").concat(C(D.spanId,16,_),"-").concat(O)}return""}o(P,"formatTraceParent");function R(){var D="traceparent",O=$((0,b.ed)(D));return O||(O=$((0,b.pI)(D))),O}o(R,"findW3cTraceParent")},4392:(ae,d,T)=>{"use strict";T.d(d,{cb:()=>E,fK:()=>b,jA:()=>w,hB:()=>k,bO:()=>z,Pw:()=>h,V4:()=>_,rl:()=>x,yu:()=>m,RJ:()=>C,CY:()=>M});var E="function",b="object",w="undefined",k="prototype",z="hasOwnProperty",A="default",h=Object,_=h[k],x=h.assign,m=h.create,C=h.defineProperty,M=_[z]},2091:(ae,d,T)=>{"use strict";T.d(d,{Rd:()=>w,ZU:()=>k,pu:()=>z});var E=T(4392),b=null;function w(A){return A===void 0&&(A=!0),(!b||!A)&&(typeof globalThis!==E.jA&&globalThis&&(b=globalThis),typeof self!==E.jA&&self&&(b=self),typeof window!==E.jA&&window&&(b=window),typeof T.g!==E.jA&&T.g&&(b=T.g)),b}o(w,"getGlobal");function k(A){throw new TypeError(A)}o(k,"throwTypeError");function z(A){var h=E.yu;if(h)return h(A);if(A==null)return{};var _=typeof A;_!==E.fK&&_!==E.cb&&k("Object prototype may only be an Object:"+A);function x(){}return o(x,"tmpFunc"),x[E.hB]=A,new x}o(z,"objCreateFn")},1088:(ae,d,T)=>{"use strict";T.d(d,{uc:()=>M,ne:()=>$,$h:()=>V});var E=T(4392),b=T(2091),w=((0,b.Rd)()||{}).Symbol,k=((0,b.Rd)()||{}).Reflect,z=!!w,A=!!k,h="decorate",_="metadata",x="getOwnPropertySymbols",m="iterator",C=o(function(re){for(var G,le=1,oe=arguments.length;le<oe;le++){G=arguments[le];for(var de in G)E.V4[E.bO].call(G,de)&&(re[de]=G[de])}return re},"__objAssignFnImpl"),M=E.rl||C,I=o(function(re,G){return I=E.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,oe){le.__proto__=oe}||function(le,oe){for(var de in oe)oe[E.bO](de)&&(le[de]=oe[de])},I(re,G)},"extendStaticsFn");function $(re,G){typeof G!==E.cb&&G!==null&&(0,b.ZU)("Class extends value "+String(G)+" is not a constructor or null"),I(re,G);function le(){this.constructor=re}o(le,"__"),re[E.hB]=G===null?(0,b.pu)(G):(le[E.hB]=G[E.hB],new le)}o($,"__extendsFn");function Q(re,G){var le={};for(var oe in re)ObjHasOwnProperty.call(re,oe)&&G.indexOf(oe)<0&&(le[oe]=re[oe]);if(re!=null&&typeof ObjClass[x]===strShimFunction)for(var de=0,pe=ObjClass[x](re);de<pe.length;de++)G.indexOf(pe[de])<0&&ObjProto.propertyIsEnumerable.call(re,pe[de])&&(le[pe[de]]=re[pe[de]]);return le}o(Q,"__restFn");function ee(re,G,le,oe){var de=arguments.length,pe=de<3?G:oe===null?oe=ObjClass.getOwnPropertyDescriptor(G,le):oe,me;if(A&&typeof k[h]===strShimFunction)pe=k[h](re,G,le,oe);else for(var Me=re.length-1;Me>=0;Me--)(me=re[Me])&&(pe=(de<3?me(pe):de>3?me(G,le,pe):me(G,le))||pe);return de>3&&pe&&ObjDefineProperty(G,le,pe),pe}o(ee,"__decorateFn");function L(re,G){return function(le,oe){G(le,oe,re)}}o(L,"__paramFn");function B(re,G){if(A&&k[_]===strShimFunction)return k[_](re,G)}o(B,"__metadataFn");function P(re,G){for(var le in re)le!==strDefault&&!ObjHasOwnProperty.call(G,le)&&R(G,re,le)}o(P,"__exportStarFn");function R(re,G,le,oe){oe===void 0&&(oe=le),ObjCreate?ObjDefineProperty(re,oe,{enumerable:!0,get:function(){return G[le]}}):re[oe]=G[le]}o(R,"__createBindingFn");function D(re){var G=typeof w===strShimFunction&&w[m],le=G&&re[G],oe=0;if(le)return le.call(re);if(re&&typeof re.length=="number")return{next:function(){return re&&oe>=re.length&&(re=void 0),{value:re&&re[oe++],done:!re}}};throwTypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}o(D,"__valuesFn");function O(re,G){var le=typeof w===strShimFunction&&re[w[m]];if(!le)return re;var oe=le.call(re),de,pe=[],me;try{for(;(G===void 0||G-- >0)&&!(de=oe.next()).done;)pe.push(de.value)}catch(Me){me={error:Me}}finally{try{de&&!de.done&&(le=oe.return)&&le.call(oe)}finally{if(me)throw me.error}}return pe}o(O,"__readFn");function J(){for(var re=arguments,G=0,le=0,oe=re.length;le<oe;le++)G+=re[le].length;for(var de=Array(G),pe=0,le=0;le<oe;le++)for(var me=re[le],Me=0,_t=me.length;Me<_t;Me++,pe++)de[pe]=me[Me];return de}o(J,"__spreadArraysFn");function V(re,G){for(var le=0,oe=G.length,de=re.length;le<oe;le++,de++)re[de]=G[le];return re}o(V,"__spreadArrayFn");function te(re,G){return ObjDefineProperty?ObjDefineProperty(re,"raw",{value:G}):re.raw=G,re}o(te,"__makeTemplateObjectFn");function he(re){if(re&&re.__esModule)return re;var G={};if(re!=null)for(var le in re)le!==strDefault&&Object.prototype.hasOwnProperty.call(re,le)&&R(G,re,le);return ObjCreate?ObjDefineProperty(G,strDefault,{enumerable:!0,value:re}):G[strDefault]=re,G}o(he,"__importStarFn");function ge(re){return re&&re.__esModule?re:{strDefault:re}}o(ge,"__importDefaultFn")},1679:(ae,d,T)=>{"use strict";T.d(d,{Z:()=>_t});/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var E="constructor",b="prototype",w="function",k="_dynInstFuncs",z="_isDynProxy",A="_dynClass",h="_dynCls$",_="_dynInstChk",x=_,m="_dfOpts",C="_unknown_",M="__proto__",I="_dyn"+M,$="_dynInstProto",Q="useBaseInst",ee="setInstFuncs",L=Object,B=L.getPrototypeOf,P=L.getOwnPropertyNames,R=0;function D(W,Oe){return W&&L[b].hasOwnProperty.call(W,Oe)}o(D,"_hasOwnProperty");function O(W){return W&&(W===L[b]||W===Array[b])}o(O,"_isObjectOrArrayPrototype");function J(W){return O(W)||W===Function[b]}o(J,"_isObjectArrayOrFunctionPrototype");function V(W){var Oe;if(W){if(B)return B(W);var Ie=W[M]||W[b]||(W[E]?W[E][b]:null);Oe=W[I]||Ie,D(W,I)||(delete W[$],Oe=W[I]=W[$]||W[I],W[$]=Ie)}return Oe}o(V,"_getObjProto");function te(W,Oe){var Ie=[];if(P)Ie=P(W);else for(var ze in W)typeof ze=="string"&&D(W,ze)&&Ie.push(ze);if(Ie&&Ie.length>0)for(var ve=0;ve<Ie.length;ve++)Oe(Ie[ve])}o(te,"_forEachProp");function he(W,Oe,Ie){return Oe!==E&&typeof W[Oe]===w&&(Ie||D(W,Oe))}o(he,"_isDynamicCandidate");function ge(W){throw new TypeError("DynamicProto: "+W)}o(ge,"_throwTypeError");function re(W){var Oe={};return te(W,function(Ie){!Oe[Ie]&&he(W,Ie,!1)&&(Oe[Ie]=W[Ie])}),Oe}o(re,"_getInstanceFuncs");function G(W,Oe){for(var Ie=W.length-1;Ie>=0;Ie--)if(W[Ie]===Oe)return!0;return!1}o(G,"_hasVisited");function le(W,Oe,Ie,ze){function ve(ce,Re,Te){var je=Re[Te];if(je[z]&&ze){var ot=ce[k]||{};ot[x]!==!1&&(je=(ot[Re[A]]||{})[Te]||je)}return function(){return je.apply(ce,arguments)}}o(ve,"_instFuncProxy");var ie={};te(Ie,function(ce){ie[ce]=ve(Oe,Ie,ce)});for(var ye=V(W),Ce=[];ye&&!J(ye)&&!G(Ce,ye);)te(ye,function(ce){!ie[ce]&&he(ye,ce,!B)&&(ie[ce]=ve(Oe,ye,ce))}),Ce.push(ye),ye=V(ye);return ie}o(le,"_getBaseFuncs");function oe(W,Oe,Ie,ze){var ve=null;if(W&&D(Ie,A)){var ie=W[k]||{};if(ve=(ie[Ie[A]]||{})[Oe],ve||ge("Missing ["+Oe+"] "+w),!ve[_]&&ie[x]!==!1){for(var ye=!D(W,Oe),Ce=V(W),ce=[];ye&&Ce&&!J(Ce)&&!G(ce,Ce);){var Re=Ce[Oe];if(Re){ye=Re===ze;break}ce.push(Ce),Ce=V(Ce)}try{ye&&(W[Oe]=ve),ve[_]=1}catch(Te){ie[x]=!1}}}return ve}o(oe,"_getInstFunc");function de(W,Oe,Ie){var ze=Oe[W];return ze===Ie&&(ze=V(Oe)[W]),typeof ze!==w&&ge("["+W+"] is not a "+w),ze}o(de,"_getProtoFunc");function pe(W,Oe,Ie,ze,ve){function ie(ce,Re){var Te=o(function(){var je=oe(this,Re,ce,Te)||de(Re,ce,Te);return je.apply(this,arguments)},"dynProtoProxy");return Te[z]=1,Te}if(o(ie,"_createDynamicPrototype"),!O(W)){var ye=Ie[k]=Ie[k]||{},Ce=ye[Oe]=ye[Oe]||{};ye[x]!==!1&&(ye[x]=!!ve),te(Ie,function(ce){he(Ie,ce,!1)&&Ie[ce]!==ze[ce]&&(Ce[ce]=Ie[ce],delete Ie[ce],(!D(W,ce)||W[ce]&&!W[ce][z])&&(W[ce]=ie(W,ce)))})}}o(pe,"_populatePrototype");function me(W,Oe){if(B){for(var Ie=[],ze=V(Oe);ze&&!J(ze)&&!G(Ie,ze);){if(ze===W)return!0;Ie.push(ze),ze=V(ze)}return!1}return!0}o(me,"_checkPrototype");function Me(W,Oe){return D(W,b)?W.name||Oe||C:((W||{})[E]||{}).name||Oe||C}o(Me,"_getObjName");function _t(W,Oe,Ie,ze){D(W,b)||ge("theClass is an invalid class definition.");var ve=W[b];me(ve,Oe)||ge("["+Me(W)+"] is not in class hierarchy of ["+Me(Oe)+"]");var ie=null;D(ve,A)?ie=ve[A]:(ie=h+Me(W,"_")+"$"+R,R++,ve[A]=ie);var ye=_t[m],Ce=!!ye[Q];Ce&&ze&&ze[Q]!==void 0&&(Ce=!!ze[Q]);var ce=re(Oe),Re=le(ve,Oe,ce,Ce);Ie(Oe,Re);var Te=!!B&&!!ye[ee];Te&&ze&&(Te=!!ze[ee]),pe(ve,ie,Oe,ce,Te!==!1)}o(_t,"dynamicProto");var qe={setInstFuncs:!0,useBaseInst:!0};_t[m]=qe},6232:(ae,d,T)=>{"use strict";const E=T(8641),b=T(8692),w=T(1474),k=T(5870),z=o((A,h={})=>{let _=[];if(Array.isArray(A))for(let x of A){let m=z.create(x,h);Array.isArray(m)?_.push(...m):_.push(m)}else _=[].concat(z.create(A,h));return h&&h.expand===!0&&h.nodupes===!0&&(_=[...new Set(_)]),_},"braces");z.parse=(A,h={})=>k(A,h),z.stringify=(A,h={})=>E(typeof A=="string"?z.parse(A,h):A,h),z.compile=(A,h={})=>(typeof A=="string"&&(A=z.parse(A,h)),b(A,h)),z.expand=(A,h={})=>{typeof A=="string"&&(A=z.parse(A,h));let _=w(A,h);return h.noempty===!0&&(_=_.filter(Boolean)),h.nodupes===!0&&(_=[...new Set(_)]),_},z.create=(A,h={})=>A===""||A.length<3?[A]:h.expand!==!0?z.compile(A,h):z.expand(A,h),ae.exports=z},8692:(ae,d,T)=>{"use strict";const E=T(1516),b=T(3596),w=o((k,z={})=>{let A=o((h,_={})=>{let x=b.isInvalidBrace(_),m=h.invalid===!0&&z.escapeInvalid===!0,C=x===!0||m===!0,M=z.escapeInvalid===!0?"\\":"",I="";if(h.isOpen===!0||h.isClose===!0)return M+h.value;if(h.type==="open")return C?M+h.value:"(";if(h.type==="close")return C?M+h.value:")";if(h.type==="comma")return h.prev.type==="comma"?"":C?h.value:"|";if(h.value)return h.value;if(h.nodes&&h.ranges>0){let $=b.reduce(h.nodes),Q=E(...$,{...z,wrap:!1,toRegex:!0});if(Q.length!==0)return $.length>1&&Q.length>1?`(${Q})`:Q}if(h.nodes)for(let $ of h.nodes)I+=A($,h);return I},"walk");return A(k)},"compile");ae.exports=w},7007:ae=>{"use strict";ae.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(ae,d,T)=>{"use strict";const E=T(1516),b=T(8641),w=T(3596),k=o((A="",h="",_=!1)=>{let x=[];if(A=[].concat(A),h=[].concat(h),!h.length)return A;if(!A.length)return _?w.flatten(h).map(m=>`{${m}}`):h;for(let m of A)if(Array.isArray(m))for(let C of m)x.push(k(C,h,_));else for(let C of h)_===!0&&typeof C=="string"&&(C=`{${C}}`),x.push(Array.isArray(C)?k(m,C,_):m+C);return w.flatten(x)},"append"),z=o((A,h={})=>{let _=h.rangeLimit===void 0?1e3:h.rangeLimit,x=o((m,C={})=>{m.queue=[];let M=C,I=C.queue;for(;M.type!=="brace"&&M.type!=="root"&&M.parent;)M=M.parent,I=M.queue;if(m.invalid||m.dollar){I.push(k(I.pop(),b(m,h)));return}if(m.type==="brace"&&m.invalid!==!0&&m.nodes.length===2){I.push(k(I.pop(),["{}"]));return}if(m.nodes&&m.ranges>0){let L=w.reduce(m.nodes);if(w.exceedsLimit(...L,h.step,_))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let B=E(...L,h);B.length===0&&(B=b(m,h)),I.push(k(I.pop(),B)),m.nodes=[];return}let $=w.encloseBrace(m),Q=m.queue,ee=m;for(;ee.type!=="brace"&&ee.type!=="root"&&ee.parent;)ee=ee.parent,Q=ee.queue;for(let L=0;L<m.nodes.length;L++){let B=m.nodes[L];if(B.type==="comma"&&m.type==="brace"){L===1&&Q.push(""),Q.push("");continue}if(B.type==="close"){I.push(k(I.pop(),Q,$));continue}if(B.value&&B.type!=="open"){Q.push(k(Q.pop(),B.value));continue}B.nodes&&x(B,m)}return Q},"walk");return w.flatten(x(A))},"expand");ae.exports=z},5870:(ae,d,T)=>{"use strict";const E=T(8641),{MAX_LENGTH:b,CHAR_BACKSLASH:w,CHAR_BACKTICK:k,CHAR_COMMA:z,CHAR_DOT:A,CHAR_LEFT_PARENTHESES:h,CHAR_RIGHT_PARENTHESES:_,CHAR_LEFT_CURLY_BRACE:x,CHAR_RIGHT_CURLY_BRACE:m,CHAR_LEFT_SQUARE_BRACKET:C,CHAR_RIGHT_SQUARE_BRACKET:M,CHAR_DOUBLE_QUOTE:I,CHAR_SINGLE_QUOTE:$,CHAR_NO_BREAK_SPACE:Q,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ee}=T(7007),L=o((B,P={})=>{if(typeof B!="string")throw new TypeError("Expected a string");let R=P||{},D=typeof R.maxLength=="number"?Math.min(b,R.maxLength):b;if(B.length>D)throw new SyntaxError(`Input length (${B.length}), exceeds max characters (${D})`);let O={type:"root",input:B,nodes:[]},J=[O],V=O,te=O,he=0,ge=B.length,re=0,G=0,le,oe={};const de=o(()=>B[re++],"advance"),pe=o(me=>{if(me.type==="text"&&te.type==="dot"&&(te.type="text"),te&&te.type==="text"&&me.type==="text"){te.value+=me.value;return}return V.nodes.push(me),me.parent=V,me.prev=te,te=me,me},"push");for(pe({type:"bos"});re<ge;)if(V=J[J.length-1],le=de(),!(le===ee||le===Q)){if(le===w){pe({type:"text",value:(P.keepEscaping?le:"")+de()});continue}if(le===M){pe({type:"text",value:"\\"+le});continue}if(le===C){he++;let me=!0,Me;for(;re<ge&&(Me=de());){if(le+=Me,Me===C){he++;continue}if(Me===w){le+=de();continue}if(Me===M&&(he--,he===0))break}pe({type:"text",value:le});continue}if(le===h){V=pe({type:"paren",nodes:[]}),J.push(V),pe({type:"text",value:le});continue}if(le===_){if(V.type!=="paren"){pe({type:"text",value:le});continue}V=J.pop(),pe({type:"text",value:le}),V=J[J.length-1];continue}if(le===I||le===$||le===k){let me=le,Me;for(P.keepQuotes!==!0&&(le="");re<ge&&(Me=de());){if(Me===w){le+=Me+de();continue}if(Me===me){P.keepQuotes===!0&&(le+=Me);break}le+=Me}pe({type:"text",value:le});continue}if(le===x){G++;let me=te.value&&te.value.slice(-1)==="$"||V.dollar===!0;V=pe({type:"brace",open:!0,close:!1,dollar:me,depth:G,commas:0,ranges:0,nodes:[]}),J.push(V),pe({type:"open",value:le});continue}if(le===m){if(V.type!=="brace"){pe({type:"text",value:le});continue}let me="close";V=J.pop(),V.close=!0,pe({type:me,value:le}),G--,V=J[J.length-1];continue}if(le===z&&G>0){if(V.ranges>0){V.ranges=0;let me=V.nodes.shift();V.nodes=[me,{type:"text",value:E(V)}]}pe({type:"comma",value:le}),V.commas++;continue}if(le===A&&G>0&&V.commas===0){let me=V.nodes;if(G===0||me.length===0){pe({type:"text",value:le});continue}if(te.type==="dot"){if(V.range=[],te.value+=le,te.type="range",V.nodes.length!==3&&V.nodes.length!==5){V.invalid=!0,V.ranges=0,te.type="text";continue}V.ranges++,V.args=[];continue}if(te.type==="range"){me.pop();let Me=me[me.length-1];Me.value+=te.value+le,te=Me,V.ranges--;continue}pe({type:"dot",value:le});continue}pe({type:"text",value:le})}do if(V=J.pop(),V.type!=="root"){V.nodes.forEach(_t=>{_t.nodes||(_t.type==="open"&&(_t.isOpen=!0),_t.type==="close"&&(_t.isClose=!0),_t.nodes||(_t.type="text"),_t.invalid=!0)});let me=J[J.length-1],Me=me.nodes.indexOf(V);me.nodes.splice(Me,1,...V.nodes)}while(J.length>0);return pe({type:"eos"}),O},"parse");ae.exports=L},8641:(ae,d,T)=>{"use strict";const E=T(3596);ae.exports=(b,w={})=>{let k=o((z,A={})=>{let h=w.escapeInvalid&&E.isInvalidBrace(A),_=z.invalid===!0&&w.escapeInvalid===!0,x="";if(z.value)return(h||_)&&E.isOpenOrClose(z)?"\\"+z.value:z.value;if(z.value)return z.value;if(z.nodes)for(let m of z.nodes)x+=k(m);return x},"stringify");return k(b)}},3596:(ae,d)=>{"use strict";d.isInteger=T=>typeof T=="number"?Number.isInteger(T):typeof T=="string"&&T.trim()!==""?Number.isInteger(Number(T)):!1,d.find=(T,E)=>T.nodes.find(b=>b.type===E),d.exceedsLimit=(T,E,b=1,w)=>w===!1||!d.isInteger(T)||!d.isInteger(E)?!1:(Number(E)-Number(T))/Number(b)>=w,d.escapeNode=(T,E=0,b)=>{let w=T.nodes[E];!w||(b&&w.type===b||w.type==="open"||w.type==="close")&&w.escaped!==!0&&(w.value="\\"+w.value,w.escaped=!0)},d.encloseBrace=T=>T.type!=="brace"?!1:T.commas>>0+T.ranges>>0==0?(T.invalid=!0,!0):!1,d.isInvalidBrace=T=>T.type!=="brace"?!1:T.invalid===!0||T.dollar?!0:T.commas>>0+T.ranges>>0==0||T.open!==!0||T.close!==!0?(T.invalid=!0,!0):!1,d.isOpenOrClose=T=>T.type==="open"||T.type==="close"?!0:T.open===!0||T.close===!0,d.reduce=T=>T.reduce((E,b)=>(b.type==="text"&&E.push(b.value),b.type==="range"&&(b.type="text"),E),[]),d.flatten=(...T)=>{const E=[],b=o(w=>{for(let k=0;k<w.length;k++){let z=w[k];Array.isArray(z)?b(z,E):z!==void 0&&E.push(z)}return E},"flat");return b(T),E}},1516:(ae,d,T)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const E=T(6529),b=T(2999),w=o(R=>R!==null&&typeof R=="object"&&!Array.isArray(R),"isObject"),k=o(R=>D=>R===!0?Number(D):String(D),"transform"),z=o(R=>typeof R=="number"||typeof R=="string"&&R!=="","isValidValue"),A=o(R=>Number.isInteger(+R),"isNumber"),h=o(R=>{let D=`${R}`,O=-1;if(D[0]==="-"&&(D=D.slice(1)),D==="0")return!1;for(;D[++O]==="0";);return O>0},"zeros"),_=o((R,D,O)=>typeof R=="string"||typeof D=="string"?!0:O.stringify===!0,"stringify"),x=o((R,D,O)=>{if(D>0){let J=R[0]==="-"?"-":"";J&&(R=R.slice(1)),R=J+R.padStart(J?D-1:D,"0")}return O===!1?String(R):R},"pad"),m=o((R,D)=>{let O=R[0]==="-"?"-":"";for(O&&(R=R.slice(1),D--);R.length<D;)R="0"+R;return O?"-"+R:R},"toMaxLen"),C=o((R,D)=>{R.negatives.sort((he,ge)=>he<ge?-1:he>ge?1:0),R.positives.sort((he,ge)=>he<ge?-1:he>ge?1:0);let O=D.capture?"":"?:",J="",V="",te;return R.positives.length&&(J=R.positives.join("|")),R.negatives.length&&(V=`-(${O}${R.negatives.join("|")})`),J&&V?te=`${J}|${V}`:te=J||V,D.wrap?`(${O}${te})`:te},"toSequence"),M=o((R,D,O,J)=>{if(O)return b(R,D,{wrap:!1,...J});let V=String.fromCharCode(R);if(R===D)return V;let te=String.fromCharCode(D);return`[${V}-${te}]`},"toRange"),I=o((R,D,O)=>{if(Array.isArray(R)){let J=O.wrap===!0,V=O.capture?"":"?:";return J?`(${V}${R.join("|")})`:R.join("|")}return b(R,D,O)},"toRegex"),$=o((...R)=>new RangeError("Invalid range arguments: "+E.inspect(...R)),"rangeError"),Q=o((R,D,O)=>{if(O.strictRanges===!0)throw $([R,D]);return[]},"invalidRange"),ee=o((R,D)=>{if(D.strictRanges===!0)throw new TypeError(`Expected step "${R}" to be a number`);return[]},"invalidStep"),L=o((R,D,O=1,J={})=>{let V=Number(R),te=Number(D);if(!Number.isInteger(V)||!Number.isInteger(te)){if(J.strictRanges===!0)throw $([R,D]);return[]}V===0&&(V=0),te===0&&(te=0);let he=V>te,ge=String(R),re=String(D),G=String(O);O=Math.max(Math.abs(O),1);let le=h(ge)||h(re)||h(G),oe=le?Math.max(ge.length,re.length,G.length):0,de=le===!1&&_(R,D,J)===!1,pe=J.transform||k(de);if(J.toRegex&&O===1)return M(m(R,oe),m(D,oe),!0,J);let me={negatives:[],positives:[]},Me=o(W=>me[W<0?"negatives":"positives"].push(Math.abs(W)),"push"),_t=[],qe=0;for(;he?V>=te:V<=te;)J.toRegex===!0&&O>1?Me(V):_t.push(x(pe(V,qe),oe,de)),V=he?V-O:V+O,qe++;return J.toRegex===!0?O>1?C(me,J):I(_t,null,{wrap:!1,...J}):_t},"fillNumbers"),B=o((R,D,O=1,J={})=>{if(!A(R)&&R.length>1||!A(D)&&D.length>1)return Q(R,D,J);let V=J.transform||(de=>String.fromCharCode(de)),te=`${R}`.charCodeAt(0),he=`${D}`.charCodeAt(0),ge=te>he,re=Math.min(te,he),G=Math.max(te,he);if(J.toRegex&&O===1)return M(re,G,!1,J);let le=[],oe=0;for(;ge?te>=he:te<=he;)le.push(V(te,oe)),te=ge?te-O:te+O,oe++;return J.toRegex===!0?I(le,null,{wrap:!1,options:J}):le},"fillLetters"),P=o((R,D,O,J={})=>{if(D==null&&z(R))return[R];if(!z(R)||!z(D))return Q(R,D,J);if(typeof O=="function")return P(R,D,1,{transform:O});if(w(O))return P(R,D,0,O);let V={...J};return V.capture===!0&&(V.wrap=!0),O=O||V.step||1,A(O)?A(R)&&A(D)?L(R,D,O,V):B(R,D,Math.max(Math.abs(O),1),V):O!=null&&!w(O)?ee(O,V):P(R,D,1,O)},"fill");ae.exports=P},3338:ae=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */ae.exports=function(d){return typeof d=="number"?d-d==0:typeof d=="string"&&d.trim()!==""?Number.isFinite?Number.isFinite(+d):isFinite(+d):!1}},5179:(ae,d,T)=>{ae=T.nmd(ae);var E=200,b="__lodash_hash_undefined__",w=1,k=2,z=9007199254740991,A="[object Arguments]",h="[object Array]",_="[object AsyncFunction]",x="[object Boolean]",m="[object Date]",C="[object Error]",M="[object Function]",I="[object GeneratorFunction]",$="[object Map]",Q="[object Number]",ee="[object Null]",L="[object Object]",B="[object Promise]",P="[object Proxy]",R="[object RegExp]",D="[object Set]",O="[object String]",J="[object Symbol]",V="[object Undefined]",te="[object WeakMap]",he="[object ArrayBuffer]",ge="[object DataView]",re="[object Float32Array]",G="[object Float64Array]",le="[object Int8Array]",oe="[object Int16Array]",de="[object Int32Array]",pe="[object Uint8Array]",me="[object Uint8ClampedArray]",Me="[object Uint16Array]",_t="[object Uint32Array]",qe=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,Oe=/^(?:0|[1-9]\d*)$/,Ie={};Ie[re]=Ie[G]=Ie[le]=Ie[oe]=Ie[de]=Ie[pe]=Ie[me]=Ie[Me]=Ie[_t]=!0,Ie[A]=Ie[h]=Ie[he]=Ie[x]=Ie[ge]=Ie[m]=Ie[C]=Ie[M]=Ie[$]=Ie[Q]=Ie[L]=Ie[R]=Ie[D]=Ie[O]=Ie[te]=!1;var ze=typeof T.g=="object"&&T.g&&T.g.Object===Object&&T.g,ve=typeof self=="object"&&self&&self.Object===Object&&self,ie=ze||ve||Function("return this")(),ye=d&&!d.nodeType&&d,Ce=ye&&!0&&ae&&!ae.nodeType&&ae,ce=Ce&&Ce.exports===ye,Re=ce&&ze.process,Te=function(){try{return Re&&Re.binding&&Re.binding("util")}catch(N){}}(),je=Te&&Te.isTypedArray;function ot(N,j){for(var X=-1,we=N==null?0:N.length,He=0,Ne=[];++X<we;){var It=N[X];j(It,X,N)&&(Ne[He++]=It)}return Ne}o(ot,"arrayFilter");function Ye(N,j){for(var X=-1,we=j.length,He=N.length;++X<we;)N[He+X]=j[X];return N}o(Ye,"arrayPush");function jt(N,j){for(var X=-1,we=N==null?0:N.length;++X<we;)if(j(N[X],X,N))return!0;return!1}o(jt,"arraySome");function Je(N,j){for(var X=-1,we=Array(N);++X<N;)we[X]=j(X);return we}o(Je,"baseTimes");function fn(N){return function(j){return N(j)}}o(fn,"baseUnary");function St(N,j){return N.has(j)}o(St,"cacheHas");function Ae(N,j){return N==null?void 0:N[j]}o(Ae,"getValue");function xe(N){var j=-1,X=Array(N.size);return N.forEach(function(we,He){X[++j]=[He,we]}),X}o(xe,"mapToArray");function $e(N,j){return function(X){return N(j(X))}}o($e,"overArg");function Nt(N){var j=-1,X=Array(N.size);return N.forEach(function(we){X[++j]=we}),X}o(Nt,"setToArray");var Sn=Array.prototype,_n=Function.prototype,Dn=Object.prototype,F=ie["__core-js_shared__"],g=_n.toString,p=Dn.hasOwnProperty,K=function(){var N=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),ue=Dn.toString,Ee=RegExp("^"+g.call(p).replace(qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=ce?ie.Buffer:void 0,qt=ie.Symbol,ln=ie.Uint8Array,et=Dn.propertyIsEnumerable,Ge=Sn.splice,Le=qt?qt.toStringTag:void 0,Ke=Object.getOwnPropertySymbols,ht=Pe?Pe.isBuffer:void 0,ut=$e(Object.keys,Object),st=Xn(ie,"DataView"),Lt=Xn(ie,"Map"),Kt=Xn(ie,"Promise"),Zt=Xn(ie,"Set"),Ve=Xn(ie,"WeakMap"),gt=Xn(Object,"create"),it=Vr(st),Tt=Vr(Lt),kt=Vr(Kt),un=Vr(Zt),Y=Vr(Ve),Be=qt?qt.prototype:void 0,Qe=Be?Be.valueOf:void 0;function vt(N){var j=-1,X=N==null?0:N.length;for(this.clear();++j<X;){var we=N[j];this.set(we[0],we[1])}}o(vt,"Hash");function Bt(){this.__data__=gt?gt(null):{},this.size=0}o(Bt,"hashClear");function De(N){var j=this.has(N)&&delete this.__data__[N];return this.size-=j?1:0,j}o(De,"hashDelete");function mt(N){var j=this.__data__;if(gt){var X=j[N];return X===b?void 0:X}return p.call(j,N)?j[N]:void 0}o(mt,"hashGet");function Mt(N){var j=this.__data__;return gt?j[N]!==void 0:p.call(j,N)}o(Mt,"hashHas");function dt(N,j){var X=this.__data__;return this.size+=this.has(N)?0:1,X[N]=gt&&j===void 0?b:j,this}o(dt,"hashSet"),vt.prototype.clear=Bt,vt.prototype.delete=De,vt.prototype.get=mt,vt.prototype.has=Mt,vt.prototype.set=dt;function Xe(N){var j=-1,X=N==null?0:N.length;for(this.clear();++j<X;){var we=N[j];this.set(we[0],we[1])}}o(Xe,"ListCache");function $t(){this.__data__=[],this.size=0}o($t,"listCacheClear");function Ot(N){var j=this.__data__,X=tr(j,N);if(X<0)return!1;var we=j.length-1;return X==we?j.pop():Ge.call(j,X,1),--this.size,!0}o(Ot,"listCacheDelete");function yt(N){var j=this.__data__,X=tr(j,N);return X<0?void 0:j[X][1]}o(yt,"listCacheGet");function en(N){return tr(this.__data__,N)>-1}o(en,"listCacheHas");function Jt(N,j){var X=this.__data__,we=tr(X,N);return we<0?(++this.size,X.push([N,j])):X[we][1]=j,this}o(Jt,"listCacheSet"),Xe.prototype.clear=$t,Xe.prototype.delete=Ot,Xe.prototype.get=yt,Xe.prototype.has=en,Xe.prototype.set=Jt;function hn(N){var j=-1,X=N==null?0:N.length;for(this.clear();++j<X;){var we=N[j];this.set(we[0],we[1])}}o(hn,"MapCache");function Fn(){this.size=0,this.__data__={hash:new vt,map:new(Lt||Xe),string:new vt}}o(Fn,"mapCacheClear");function er(N){var j=Mr(this,N).delete(N);return this.size-=j?1:0,j}o(er,"mapCacheDelete");function xn(N){return Mr(this,N).get(N)}o(xn,"mapCacheGet");function tt(N){return Mr(this,N).has(N)}o(tt,"mapCacheHas");function Wt(N,j){var X=Mr(this,N),we=X.size;return X.set(N,j),this.size+=X.size==we?0:1,this}o(Wt,"mapCacheSet"),hn.prototype.clear=Fn,hn.prototype.delete=er,hn.prototype.get=xn,hn.prototype.has=tt,hn.prototype.set=Wt;function Ft(N){var j=-1,X=N==null?0:N.length;for(this.__data__=new hn;++j<X;)this.add(N[j])}o(Ft,"SetCache");function pt(N){return this.__data__.set(N,b),this}o(pt,"setCacheAdd");function Yt(N){return this.__data__.has(N)}o(Yt,"setCacheHas"),Ft.prototype.add=Ft.prototype.push=pt,Ft.prototype.has=Yt;function tn(N){var j=this.__data__=new Xe(N);this.size=j.size}o(tn,"Stack");function Vt(){this.__data__=new Xe,this.size=0}o(Vt,"stackClear");function gn(N){var j=this.__data__,X=j.delete(N);return this.size=j.size,X}o(gn,"stackDelete");function kn(N){return this.__data__.get(N)}o(kn,"stackGet");function Cn(N){return this.__data__.has(N)}o(Cn,"stackHas");function Tn(N,j){var X=this.__data__;if(X instanceof Xe){var we=X.__data__;if(!Lt||we.length<E-1)return we.push([N,j]),this.size=++X.size,this;X=this.__data__=new hn(we)}return X.set(N,j),this.size=X.size,this}o(Tn,"stackSet"),tn.prototype.clear=Vt,tn.prototype.delete=gn,tn.prototype.get=kn,tn.prototype.has=Cn,tn.prototype.set=Tn;function Vn(N,j){var X=Wr(N),we=!X&&ti(N),He=!X&&!we&&wr(N),Ne=!X&&!we&&!He&&Pt(N),It=X||we||He||Ne,Ht=It?Je(N.length,String):[],yn=Ht.length;for(var pn in N)(j||p.call(N,pn))&&!(It&&(pn=="length"||He&&(pn=="offset"||pn=="parent")||Ne&&(pn=="buffer"||pn=="byteLength"||pn=="byteOffset")||Ar(pn,yn)))&&Ht.push(pn);return Ht}o(Vn,"arrayLikeKeys");function tr(N,j){for(var X=N.length;X--;)if(Ai(N[X][0],j))return X;return-1}o(tr,"assocIndexOf");function dn(N,j,X){var we=j(N);return Wr(N)?we:Ye(we,X(N))}o(dn,"baseGetAllKeys");function Gn(N){return N==null?N===void 0?V:ee:Le&&Le in Object(N)?qr(N):ma(N)}o(Gn,"baseGetTag");function $n(N){return ct(N)&&Gn(N)==A}o($n,"baseIsArguments");function nr(N,j,X,we,He){return N===j?!0:N==null||j==null||!ct(N)&&!ct(j)?N!==N&&j!==j:jn(N,j,X,we,nr,He)}o(nr,"baseIsEqual");function jn(N,j,X,we,He,Ne){var It=Wr(N),Ht=Wr(j),yn=It?h:sr(N),pn=Ht?h:sr(j);yn=yn==A?L:yn,pn=pn==A?L:pn;var An=yn==L,Jn=pn==L,rr=yn==pn;if(rr&&wr(N)){if(!wr(j))return!1;It=!0,An=!1}if(rr&&!An)return Ne||(Ne=new tn),It||Pt(N)?ur(N,j,X,we,He,Ne):zn(N,j,yn,X,we,He,Ne);if(!(X&w)){var _r=An&&p.call(N,"__wrapped__"),Rr=Jn&&p.call(j,"__wrapped__");if(_r||Rr){var ni=_r?N.value():N,ri=Rr?j.value():j;return Ne||(Ne=new tn),He(ni,ri,X,we,Ne)}}return rr?(Ne||(Ne=new tn),Hr(N,j,X,we,He,Ne)):!1}o(jn,"baseIsEqualDeep");function nn(N){if(!at(N)||Qi(N))return!1;var j=_e(N)?Ee:W;return j.test(Vr(N))}o(nn,"baseIsNative");function We(N){return ct(N)&&nt(N.length)&&!!Ie[Gn(N)]}o(We,"baseIsTypedArray");function ei(N){if(!va(N))return ut(N);var j=[];for(var X in Object(N))p.call(N,X)&&X!="constructor"&&j.push(X);return j}o(ei,"baseKeys");function ur(N,j,X,we,He,Ne){var It=X&w,Ht=N.length,yn=j.length;if(Ht!=yn&&!(It&&yn>Ht))return!1;var pn=Ne.get(N);if(pn&&Ne.get(j))return pn==j;var An=-1,Jn=!0,rr=X&k?new Ft:void 0;for(Ne.set(N,j),Ne.set(j,N);++An<Ht;){var _r=N[An],Rr=j[An];if(we)var ni=It?we(Rr,_r,An,j,N,Ne):we(_r,Rr,An,N,j,Ne);if(ni!==void 0){if(ni)continue;Jn=!1;break}if(rr){if(!jt(j,function(ri,Ri){if(!St(rr,Ri)&&(_r===ri||He(_r,ri,X,we,Ne)))return rr.push(Ri)})){Jn=!1;break}}else if(!(_r===Rr||He(_r,Rr,X,we,Ne))){Jn=!1;break}}return Ne.delete(N),Ne.delete(j),Jn}o(ur,"equalArrays");function zn(N,j,X,we,He,Ne,It){switch(X){case ge:if(N.byteLength!=j.byteLength||N.byteOffset!=j.byteOffset)return!1;N=N.buffer,j=j.buffer;case he:return!(N.byteLength!=j.byteLength||!Ne(new ln(N),new ln(j)));case x:case m:case Q:return Ai(+N,+j);case C:return N.name==j.name&&N.message==j.message;case R:case O:return N==j+"";case $:var Ht=xe;case D:var yn=we&w;if(Ht||(Ht=Nt),N.size!=j.size&&!yn)return!1;var pn=It.get(N);if(pn)return pn==j;we|=k,It.set(N,j);var An=ur(Ht(N),Ht(j),we,He,Ne,It);return It.delete(N),An;case J:if(Qe)return Qe.call(N)==Qe.call(j)}return!1}o(zn,"equalByTag");function Hr(N,j,X,we,He,Ne){var It=X&w,Ht=zr(N),yn=Ht.length,pn=zr(j),An=pn.length;if(yn!=An&&!It)return!1;for(var Jn=yn;Jn--;){var rr=Ht[Jn];if(!(It?rr in j:p.call(j,rr)))return!1}var _r=Ne.get(N);if(_r&&Ne.get(j))return _r==j;var Rr=!0;Ne.set(N,j),Ne.set(j,N);for(var ni=It;++Jn<yn;){rr=Ht[Jn];var ri=N[rr],Ri=j[rr];if(we)var Rs=It?we(Ri,ri,rr,j,N,Ne):we(ri,Ri,rr,N,j,Ne);if(!(Rs===void 0?ri===Ri||He(ri,Ri,X,we,Ne):Rs)){Rr=!1;break}ni||(ni=rr=="constructor")}if(Rr&&!ni){var Wa=N.constructor,ja=j.constructor;Wa!=ja&&"constructor"in N&&"constructor"in j&&!(typeof Wa=="function"&&Wa instanceof Wa&&typeof ja=="function"&&ja instanceof ja)&&(Rr=!1)}return Ne.delete(N),Ne.delete(j),Rr}o(Hr,"equalObjects");function zr(N){return dn(N,an,di)}o(zr,"getAllKeys");function Mr(N,j){var X=N.__data__;return Zi(j)?X[typeof j=="string"?"string":"hash"]:X.map}o(Mr,"getMapData");function Xn(N,j){var X=Ae(N,j);return nn(X)?X:void 0}o(Xn,"getNative");function qr(N){var j=p.call(N,Le),X=N[Le];try{N[Le]=void 0;var we=!0}catch(Ne){}var He=ue.call(N);return we&&(j?N[Le]=X:delete N[Le]),He}o(qr,"getRawTag");var di=Ke?function(N){return N==null?[]:(N=Object(N),ot(Ke(N),function(j){return et.call(N,j)}))}:rn,sr=Gn;(st&&sr(new st(new ArrayBuffer(1)))!=ge||Lt&&sr(new Lt)!=$||Kt&&sr(Kt.resolve())!=B||Zt&&sr(new Zt)!=D||Ve&&sr(new Ve)!=te)&&(sr=o(function(N){var j=Gn(N),X=j==L?N.constructor:void 0,we=X?Vr(X):"";if(we)switch(we){case it:return ge;case Tt:return $;case kt:return B;case un:return D;case Y:return te}return j},"getTag"));function Ar(N,j){return j=j==null?z:j,!!j&&(typeof N=="number"||Oe.test(N))&&N>-1&&N%1==0&&N<j}o(Ar,"isIndex");function Zi(N){var j=typeof N;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?N!=="__proto__":N===null}o(Zi,"isKeyable");function Qi(N){return!!K&&K in N}o(Qi,"isMasked");function va(N){var j=N&&N.constructor,X=typeof j=="function"&&j.prototype||Dn;return N===X}o(va,"isPrototype");function ma(N){return ue.call(N)}o(ma,"objectToString");function Vr(N){if(N!=null){try{return g.call(N)}catch(j){}try{return N+""}catch(j){}}return""}o(Vr,"toSource");function Ai(N,j){return N===j||N!==N&&j!==j}o(Ai,"eq");var ti=$n(function(){return arguments}())?$n:function(N){return ct(N)&&p.call(N,"callee")&&!et.call(N,"callee")},Wr=Array.isArray;function Lr(N){return N!=null&&nt(N.length)&&!_e(N)}o(Lr,"isArrayLike");var wr=ht||mn;function Xi(N,j){return nr(N,j)}o(Xi,"isEqual");function _e(N){if(!at(N))return!1;var j=Gn(N);return j==M||j==I||j==_||j==P}o(_e,"isFunction");function nt(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=z}o(nt,"isLength");function at(N){var j=typeof N;return N!=null&&(j=="object"||j=="function")}o(at,"isObject");function ct(N){return N!=null&&typeof N=="object"}o(ct,"isObjectLike");var Pt=je?fn(je):We;function an(N){return Lr(N)?Vn(N):ei(N)}o(an,"keys");function rn(){return[]}o(rn,"stubArray");function mn(){return!1}o(mn,"stubFalse"),ae.exports=Xi},919:(ae,d,T)=>{"use strict";const E=T(6391),b=T(6232),w=T(6796),k=T(292),z=o(h=>h===""||h==="./","isEmptyString"),A=o((h,_,x)=>{_=[].concat(_),h=[].concat(h);let m=new Set,C=new Set,M=new Set,I=0,$=o(L=>{M.add(L.output),x&&x.onResult&&x.onResult(L)},"onResult");for(let L=0;L<_.length;L++){let B=w(String(_[L]),{...x,onResult:$},!0),P=B.state.negated||B.state.negatedExtglob;P&&I++;for(let R of h){let D=B(R,!0);!(P?!D.isMatch:D.isMatch)||(P?m.add(D.output):(m.delete(D.output),C.add(D.output)))}}let ee=(I===_.length?[...M]:[...C]).filter(L=>!m.has(L));if(x&&ee.length===0){if(x.failglob===!0)throw new Error(`No matches found for "${_.join(", ")}"`);if(x.nonull===!0||x.nullglob===!0)return x.unescape?_.map(L=>L.replace(/\\/g,"")):_}return ee},"micromatch");A.match=A,A.matcher=(h,_)=>w(h,_),A.isMatch=(h,_,x)=>w(_,x)(h),A.any=A.isMatch,A.not=(h,_,x={})=>{_=[].concat(_).map(String);let m=new Set,C=[],M=o($=>{x.onResult&&x.onResult($),C.push($.output)},"onResult"),I=new Set(A(h,_,{...x,onResult:M}));for(let $ of C)I.has($)||m.add($);return[...m]},A.contains=(h,_,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${E.inspect(h)}"`);if(Array.isArray(_))return _.some(m=>A.contains(h,m,x));if(typeof _=="string"){if(z(h)||z(_))return!1;if(h.includes(_)||h.startsWith("./")&&h.slice(2).includes(_))return!0}return A.isMatch(h,_,{...x,contains:!0})},A.matchKeys=(h,_,x)=>{if(!k.isObject(h))throw new TypeError("Expected the first argument to be an object");let m=A(Object.keys(h),_,x),C={};for(let M of m)C[M]=h[M];return C},A.some=(h,_,x)=>{let m=[].concat(h);for(let C of[].concat(_)){let M=w(String(C),x);if(m.some(I=>M(I)))return!0}return!1},A.every=(h,_,x)=>{let m=[].concat(h);for(let C of[].concat(_)){let M=w(String(C),x);if(!m.every(I=>M(I)))return!1}return!0},A.all=(h,_,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${E.inspect(h)}"`);return[].concat(_).every(m=>w(m,x)(h))},A.capture=(h,_,x)=>{let m=k.isWindows(x),M=w.makeRe(String(h),{...x,capture:!0}).exec(m?k.toPosixSlashes(_):_);if(M)return M.slice(1).map(I=>I===void 0?"":I)},A.makeRe=(...h)=>w.makeRe(...h),A.scan=(...h)=>w.scan(...h),A.parse=(h,_)=>{let x=[];for(let m of[].concat(h||[]))for(let C of b(String(m),_))x.push(w.parse(C,_));return x},A.braces=(h,_)=>{if(typeof h!="string")throw new TypeError("Expected a string");return _&&_.nobrace===!0||!/\{.*\}/.test(h)?[h]:b(h,_)},A.braceExpand=(h,_)=>{if(typeof h!="string")throw new TypeError("Expected a string");return A.braces(h,{..._,expand:!0})},ae.exports=A},6796:(ae,d,T)=>{"use strict";ae.exports=T(5761)},3889:(ae,d,T)=>{"use strict";const E=T(6470),b="\\\\/",w=`[^${b}]`,k="\\.",z="\\+",A="\\?",h="\\/",_="(?=.)",x="[^/]",m=`(?:${h}|$)`,C=`(?:^|${h})`,M=`${k}{1,2}${m}`,I=`(?!${k})`,$=`(?!${C}${M})`,Q=`(?!${k}{0,1}${m})`,ee=`(?!${M})`,L=`[^.${h}]`,B=`${x}*?`,P={DOT_LITERAL:k,PLUS_LITERAL:z,QMARK_LITERAL:A,SLASH_LITERAL:h,ONE_CHAR:_,QMARK:x,END_ANCHOR:m,DOTS_SLASH:M,NO_DOT:I,NO_DOTS:$,NO_DOT_SLASH:Q,NO_DOTS_SLASH:ee,QMARK_NO_DOT:L,STAR:B,START_ANCHOR:C},R={...P,SLASH_LITERAL:`[${b}]`,QMARK:w,STAR:`${w}*?`,DOTS_SLASH:`${k}{1,2}(?:[${b}]|$)`,NO_DOT:`(?!${k})`,NO_DOTS:`(?!(?:^|[${b}])${k}{1,2}(?:[${b}]|$))`,NO_DOT_SLASH:`(?!${k}{0,1}(?:[${b}]|$))`,NO_DOTS_SLASH:`(?!${k}{1,2}(?:[${b}]|$))`,QMARK_NO_DOT:`[^.${b}]`,START_ANCHOR:`(?:^|[${b}])`,END_ANCHOR:`(?:[${b}]|$)`},D={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};ae.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:D,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:E.sep,extglobChars(O){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${O.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(O){return O===!0?R:P}}},3969:(ae,d,T)=>{"use strict";const E=T(3889),b=T(292),{MAX_LENGTH:w,POSIX_REGEX_SOURCE:k,REGEX_NON_SPECIAL_CHARS:z,REGEX_SPECIAL_CHARS_BACKREF:A,REPLACEMENTS:h}=E,_=o((C,M)=>{if(typeof M.expandRange=="function")return M.expandRange(...C,M);C.sort();const I=`[${C.join("-")}]`;try{new RegExp(I)}catch($){return C.map(Q=>b.escapeRegex(Q)).join("..")}return I},"expandRange"),x=o((C,M)=>`Missing ${C}: "${M}" - use "\\\\${M}" to match literal characters`,"syntaxError"),m=o((C,M)=>{if(typeof C!="string")throw new TypeError("Expected a string");C=h[C]||C;const I={...M},$=typeof I.maxLength=="number"?Math.min(w,I.maxLength):w;let Q=C.length;if(Q>$)throw new SyntaxError(`Input length: ${Q}, exceeds maximum allowed length: ${$}`);const ee={type:"bos",value:"",output:I.prepend||""},L=[ee],B=I.capture?"":"?:",P=b.isWindows(M),R=E.globChars(P),D=E.extglobChars(R),{DOT_LITERAL:O,PLUS_LITERAL:J,SLASH_LITERAL:V,ONE_CHAR:te,DOTS_SLASH:he,NO_DOT:ge,NO_DOT_SLASH:re,NO_DOTS_SLASH:G,QMARK:le,QMARK_NO_DOT:oe,STAR:de,START_ANCHOR:pe}=R,me=o(Ae=>`(${B}(?:(?!${pe}${Ae.dot?he:O}).)*?)`,"globstar"),Me=I.dot?"":ge,_t=I.dot?le:oe;let qe=I.bash===!0?me(I):de;I.capture&&(qe=`(${qe})`),typeof I.noext=="boolean"&&(I.noextglob=I.noext);const W={input:C,index:-1,start:0,dot:I.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:L};C=b.removePrefix(C,W),Q=C.length;const Oe=[],Ie=[],ze=[];let ve=ee,ie;const ye=o(()=>W.index===Q-1,"eos"),Ce=W.peek=(Ae=1)=>C[W.index+Ae],ce=W.advance=()=>C[++W.index]||"",Re=o(()=>C.slice(W.index+1),"remaining"),Te=o((Ae="",xe=0)=>{W.consumed+=Ae,W.index+=xe},"consume"),je=o(Ae=>{W.output+=Ae.output!=null?Ae.output:Ae.value,Te(Ae.value)},"append"),ot=o(()=>{let Ae=1;for(;Ce()==="!"&&(Ce(2)!=="("||Ce(3)==="?");)ce(),W.start++,Ae++;return Ae%2==0?!1:(W.negated=!0,W.start++,!0)},"negate"),Ye=o(Ae=>{W[Ae]++,ze.push(Ae)},"increment"),jt=o(Ae=>{W[Ae]--,ze.pop()},"decrement"),Je=o(Ae=>{if(ve.type==="globstar"){const xe=W.braces>0&&(Ae.type==="comma"||Ae.type==="brace"),$e=Ae.extglob===!0||Oe.length&&(Ae.type==="pipe"||Ae.type==="paren");Ae.type!=="slash"&&Ae.type!=="paren"&&!xe&&!$e&&(W.output=W.output.slice(0,-ve.output.length),ve.type="star",ve.value="*",ve.output=qe,W.output+=ve.output)}if(Oe.length&&Ae.type!=="paren"&&(Oe[Oe.length-1].inner+=Ae.value),(Ae.value||Ae.output)&&je(Ae),ve&&ve.type==="text"&&Ae.type==="text"){ve.value+=Ae.value,ve.output=(ve.output||"")+Ae.value;return}Ae.prev=ve,L.push(Ae),ve=Ae},"push"),fn=o((Ae,xe)=>{const $e={...D[xe],conditions:1,inner:""};$e.prev=ve,$e.parens=W.parens,$e.output=W.output;const Nt=(I.capture?"(":"")+$e.open;Ye("parens"),Je({type:Ae,value:xe,output:W.output?"":te}),Je({type:"paren",extglob:!0,value:ce(),output:Nt}),Oe.push($e)},"extglobOpen"),St=o(Ae=>{let xe=Ae.close+(I.capture?")":""),$e;if(Ae.type==="negate"){let Nt=qe;if(Ae.inner&&Ae.inner.length>1&&Ae.inner.includes("/")&&(Nt=me(I)),(Nt!==qe||ye()||/^\)+$/.test(Re()))&&(xe=Ae.close=`)$))${Nt}`),Ae.inner.includes("*")&&($e=Re())&&/^\.[^\\/.]+$/.test($e)){const Sn=m($e,{...M,fastpaths:!1}).output;xe=Ae.close=`)${Sn})${Nt})`}Ae.prev.type==="bos"&&(W.negatedExtglob=!0)}Je({type:"paren",extglob:!0,value:ie,output:xe}),jt("parens")},"extglobClose");if(I.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(C)){let Ae=!1,xe=C.replace(A,($e,Nt,Sn,_n,Dn,F)=>_n==="\\"?(Ae=!0,$e):_n==="?"?Nt?Nt+_n+(Dn?le.repeat(Dn.length):""):F===0?_t+(Dn?le.repeat(Dn.length):""):le.repeat(Sn.length):_n==="."?O.repeat(Sn.length):_n==="*"?Nt?Nt+_n+(Dn?qe:""):qe:Nt?$e:`\\${$e}`);return Ae===!0&&(I.unescape===!0?xe=xe.replace(/\\/g,""):xe=xe.replace(/\\+/g,$e=>$e.length%2==0?"\\\\":$e?"\\":"")),xe===C&&I.contains===!0?(W.output=C,W):(W.output=b.wrapOutput(xe,W,M),W)}for(;!ye();){if(ie=ce(),ie==="\0")continue;if(ie==="\\"){const $e=Ce();if($e==="/"&&I.bash!==!0||$e==="."||$e===";")continue;if(!$e){ie+="\\",Je({type:"text",value:ie});continue}const Nt=/^\\+/.exec(Re());let Sn=0;if(Nt&&Nt[0].length>2&&(Sn=Nt[0].length,W.index+=Sn,Sn%2!=0&&(ie+="\\")),I.unescape===!0?ie=ce():ie+=ce(),W.brackets===0){Je({type:"text",value:ie});continue}}if(W.brackets>0&&(ie!=="]"||ve.value==="["||ve.value==="[^")){if(I.posix!==!1&&ie===":"){const $e=ve.value.slice(1);if($e.includes("[")&&(ve.posix=!0,$e.includes(":"))){const Nt=ve.value.lastIndexOf("["),Sn=ve.value.slice(0,Nt),_n=ve.value.slice(Nt+2),Dn=k[_n];if(Dn){ve.value=Sn+Dn,W.backtrack=!0,ce(),!ee.output&&L.indexOf(ve)===1&&(ee.output=te);continue}}}(ie==="["&&Ce()!==":"||ie==="-"&&Ce()==="]")&&(ie=`\\${ie}`),ie==="]"&&(ve.value==="["||ve.value==="[^")&&(ie=`\\${ie}`),I.posix===!0&&ie==="!"&&ve.value==="["&&(ie="^"),ve.value+=ie,je({value:ie});continue}if(W.quotes===1&&ie!=='"'){ie=b.escapeRegex(ie),ve.value+=ie,je({value:ie});continue}if(ie==='"'){W.quotes=W.quotes===1?0:1,I.keepQuotes===!0&&Je({type:"text",value:ie});continue}if(ie==="("){Ye("parens"),Je({type:"paren",value:ie});continue}if(ie===")"){if(W.parens===0&&I.strictBrackets===!0)throw new SyntaxError(x("opening","("));const $e=Oe[Oe.length-1];if($e&&W.parens===$e.parens+1){St(Oe.pop());continue}Je({type:"paren",value:ie,output:W.parens?")":"\\)"}),jt("parens");continue}if(ie==="["){if(I.nobracket===!0||!Re().includes("]")){if(I.nobracket!==!0&&I.strictBrackets===!0)throw new SyntaxError(x("closing","]"));ie=`\\${ie}`}else Ye("brackets");Je({type:"bracket",value:ie});continue}if(ie==="]"){if(I.nobracket===!0||ve&&ve.type==="bracket"&&ve.value.length===1){Je({type:"text",value:ie,output:`\\${ie}`});continue}if(W.brackets===0){if(I.strictBrackets===!0)throw new SyntaxError(x("opening","["));Je({type:"text",value:ie,output:`\\${ie}`});continue}jt("brackets");const $e=ve.value.slice(1);if(ve.posix!==!0&&$e[0]==="^"&&!$e.includes("/")&&(ie=`/${ie}`),ve.value+=ie,je({value:ie}),I.literalBrackets===!1||b.hasRegexChars($e))continue;const Nt=b.escapeRegex(ve.value);if(W.output=W.output.slice(0,-ve.value.length),I.literalBrackets===!0){W.output+=Nt,ve.value=Nt;continue}ve.value=`(${B}${Nt}|${ve.value})`,W.output+=ve.value;continue}if(ie==="{"&&I.nobrace!==!0){Ye("braces");const $e={type:"brace",value:ie,output:"(",outputIndex:W.output.length,tokensIndex:W.tokens.length};Ie.push($e),Je($e);continue}if(ie==="}"){const $e=Ie[Ie.length-1];if(I.nobrace===!0||!$e){Je({type:"text",value:ie,output:ie});continue}let Nt=")";if($e.dots===!0){const Sn=L.slice(),_n=[];for(let Dn=Sn.length-1;Dn>=0&&(L.pop(),Sn[Dn].type!=="brace");Dn--)Sn[Dn].type!=="dots"&&_n.unshift(Sn[Dn].value);Nt=_(_n,I),W.backtrack=!0}if($e.comma!==!0&&$e.dots!==!0){const Sn=W.output.slice(0,$e.outputIndex),_n=W.tokens.slice($e.tokensIndex);$e.value=$e.output="\\{",ie=Nt="\\}",W.output=Sn;for(const Dn of _n)W.output+=Dn.output||Dn.value}Je({type:"brace",value:ie,output:Nt}),jt("braces"),Ie.pop();continue}if(ie==="|"){Oe.length>0&&Oe[Oe.length-1].conditions++,Je({type:"text",value:ie});continue}if(ie===","){let $e=ie;const Nt=Ie[Ie.length-1];Nt&&ze[ze.length-1]==="braces"&&(Nt.comma=!0,$e="|"),Je({type:"comma",value:ie,output:$e});continue}if(ie==="/"){if(ve.type==="dot"&&W.index===W.start+1){W.start=W.index+1,W.consumed="",W.output="",L.pop(),ve=ee;continue}Je({type:"slash",value:ie,output:V});continue}if(ie==="."){if(W.braces>0&&ve.type==="dot"){ve.value==="."&&(ve.output=O);const $e=Ie[Ie.length-1];ve.type="dots",ve.output+=ie,ve.value+=ie,$e.dots=!0;continue}if(W.braces+W.parens===0&&ve.type!=="bos"&&ve.type!=="slash"){Je({type:"text",value:ie,output:O});continue}Je({type:"dot",value:ie,output:O});continue}if(ie==="?"){if(!(ve&&ve.value==="(")&&I.noextglob!==!0&&Ce()==="("&&Ce(2)!=="?"){fn("qmark",ie);continue}if(ve&&ve.type==="paren"){const Nt=Ce();let Sn=ie;if(Nt==="<"&&!b.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(ve.value==="("&&!/[!=<:]/.test(Nt)||Nt==="<"&&!/<([!=]|\w+>)/.test(Re()))&&(Sn=`\\${ie}`),Je({type:"text",value:ie,output:Sn});continue}if(I.dot!==!0&&(ve.type==="slash"||ve.type==="bos")){Je({type:"qmark",value:ie,output:oe});continue}Je({type:"qmark",value:ie,output:le});continue}if(ie==="!"){if(I.noextglob!==!0&&Ce()==="("&&(Ce(2)!=="?"||!/[!=<:]/.test(Ce(3)))){fn("negate",ie);continue}if(I.nonegate!==!0&&W.index===0){ot();continue}}if(ie==="+"){if(I.noextglob!==!0&&Ce()==="("&&Ce(2)!=="?"){fn("plus",ie);continue}if(ve&&ve.value==="("||I.regex===!1){Je({type:"plus",value:ie,output:J});continue}if(ve&&(ve.type==="bracket"||ve.type==="paren"||ve.type==="brace")||W.parens>0){Je({type:"plus",value:ie});continue}Je({type:"plus",value:J});continue}if(ie==="@"){if(I.noextglob!==!0&&Ce()==="("&&Ce(2)!=="?"){Je({type:"at",extglob:!0,value:ie,output:""});continue}Je({type:"text",value:ie});continue}if(ie!=="*"){(ie==="$"||ie==="^")&&(ie=`\\${ie}`);const $e=z.exec(Re());$e&&(ie+=$e[0],W.index+=$e[0].length),Je({type:"text",value:ie});continue}if(ve&&(ve.type==="globstar"||ve.star===!0)){ve.type="star",ve.star=!0,ve.value+=ie,ve.output=qe,W.backtrack=!0,W.globstar=!0,Te(ie);continue}let Ae=Re();if(I.noextglob!==!0&&/^\([^?]/.test(Ae)){fn("star",ie);continue}if(ve.type==="star"){if(I.noglobstar===!0){Te(ie);continue}const $e=ve.prev,Nt=$e.prev,Sn=$e.type==="slash"||$e.type==="bos",_n=Nt&&(Nt.type==="star"||Nt.type==="globstar");if(I.bash===!0&&(!Sn||Ae[0]&&Ae[0]!=="/")){Je({type:"star",value:ie,output:""});continue}const Dn=W.braces>0&&($e.type==="comma"||$e.type==="brace"),F=Oe.length&&($e.type==="pipe"||$e.type==="paren");if(!Sn&&$e.type!=="paren"&&!Dn&&!F){Je({type:"star",value:ie,output:""});continue}for(;Ae.slice(0,3)==="/**";){const g=C[W.index+4];if(g&&g!=="/")break;Ae=Ae.slice(3),Te("/**",3)}if($e.type==="bos"&&ye()){ve.type="globstar",ve.value+=ie,ve.output=me(I),W.output=ve.output,W.globstar=!0,Te(ie);continue}if($e.type==="slash"&&$e.prev.type!=="bos"&&!_n&&ye()){W.output=W.output.slice(0,-($e.output+ve.output).length),$e.output=`(?:${$e.output}`,ve.type="globstar",ve.output=me(I)+(I.strictSlashes?")":"|$)"),ve.value+=ie,W.globstar=!0,W.output+=$e.output+ve.output,Te(ie);continue}if($e.type==="slash"&&$e.prev.type!=="bos"&&Ae[0]==="/"){const g=Ae[1]!==void 0?"|$":"";W.output=W.output.slice(0,-($e.output+ve.output).length),$e.output=`(?:${$e.output}`,ve.type="globstar",ve.output=`${me(I)}${V}|${V}${g})`,ve.value+=ie,W.output+=$e.output+ve.output,W.globstar=!0,Te(ie+ce()),Je({type:"slash",value:"/",output:""});continue}if($e.type==="bos"&&Ae[0]==="/"){ve.type="globstar",ve.value+=ie,ve.output=`(?:^|${V}|${me(I)}${V})`,W.output=ve.output,W.globstar=!0,Te(ie+ce()),Je({type:"slash",value:"/",output:""});continue}W.output=W.output.slice(0,-ve.output.length),ve.type="globstar",ve.output=me(I),ve.value+=ie,W.output+=ve.output,W.globstar=!0,Te(ie);continue}const xe={type:"star",value:ie,output:qe};if(I.bash===!0){xe.output=".*?",(ve.type==="bos"||ve.type==="slash")&&(xe.output=Me+xe.output),Je(xe);continue}if(ve&&(ve.type==="bracket"||ve.type==="paren")&&I.regex===!0){xe.output=ie,Je(xe);continue}(W.index===W.start||ve.type==="slash"||ve.type==="dot")&&(ve.type==="dot"?(W.output+=re,ve.output+=re):I.dot===!0?(W.output+=G,ve.output+=G):(W.output+=Me,ve.output+=Me),Ce()!=="*"&&(W.output+=te,ve.output+=te)),Je(xe)}for(;W.brackets>0;){if(I.strictBrackets===!0)throw new SyntaxError(x("closing","]"));W.output=b.escapeLast(W.output,"["),jt("brackets")}for(;W.parens>0;){if(I.strictBrackets===!0)throw new SyntaxError(x("closing",")"));W.output=b.escapeLast(W.output,"("),jt("parens")}for(;W.braces>0;){if(I.strictBrackets===!0)throw new SyntaxError(x("closing","}"));W.output=b.escapeLast(W.output,"{"),jt("braces")}if(I.strictSlashes!==!0&&(ve.type==="star"||ve.type==="bracket")&&Je({type:"maybe_slash",value:"",output:`${V}?`}),W.backtrack===!0){W.output="";for(const Ae of W.tokens)W.output+=Ae.output!=null?Ae.output:Ae.value,Ae.suffix&&(W.output+=Ae.suffix)}return W},"parse");m.fastpaths=(C,M)=>{const I={...M},$=typeof I.maxLength=="number"?Math.min(w,I.maxLength):w,Q=C.length;if(Q>$)throw new SyntaxError(`Input length: ${Q}, exceeds maximum allowed length: ${$}`);C=h[C]||C;const ee=b.isWindows(M),{DOT_LITERAL:L,SLASH_LITERAL:B,ONE_CHAR:P,DOTS_SLASH:R,NO_DOT:D,NO_DOTS:O,NO_DOTS_SLASH:J,STAR:V,START_ANCHOR:te}=E.globChars(ee),he=I.dot?O:D,ge=I.dot?J:D,re=I.capture?"":"?:",G={negated:!1,prefix:""};let le=I.bash===!0?".*?":V;I.capture&&(le=`(${le})`);const oe=o(Me=>Me.noglobstar===!0?le:`(${re}(?:(?!${te}${Me.dot?R:L}).)*?)`,"globstar"),de=o(Me=>{switch(Me){case"*":return`${he}${P}${le}`;case".*":return`${L}${P}${le}`;case"*.*":return`${he}${le}${L}${P}${le}`;case"*/*":return`${he}${le}${B}${P}${ge}${le}`;case"**":return he+oe(I);case"**/*":return`(?:${he}${oe(I)}${B})?${ge}${P}${le}`;case"**/*.*":return`(?:${he}${oe(I)}${B})?${ge}${le}${L}${P}${le}`;case"**/.*":return`(?:${he}${oe(I)}${B})?${L}${P}${le}`;default:{const _t=/^(.*?)\.(\w+)$/.exec(Me);if(!_t)return;const qe=de(_t[1]);return qe?qe+L+_t[2]:void 0}}},"create"),pe=b.removePrefix(C,G);let me=de(pe);return me&&I.strictSlashes!==!0&&(me+=`${B}?`),me},ae.exports=m},5761:(ae,d,T)=>{"use strict";const E=T(6470),b=T(9826),w=T(3969),k=T(292),z=T(3889),A=o(_=>_&&typeof _=="object"&&!Array.isArray(_),"isObject"),h=o((_,x,m=!1)=>{if(Array.isArray(_)){const B=_.map(R=>h(R,x,m));return o(R=>{for(const D of B){const O=D(R);if(O)return O}return!1},"arrayMatcher")}const C=A(_)&&_.tokens&&_.input;if(_===""||typeof _!="string"&&!C)throw new TypeError("Expected pattern to be a non-empty string");const M=x||{},I=k.isWindows(x),$=C?h.compileRe(_,x):h.makeRe(_,x,!1,!0),Q=$.state;delete $.state;let ee=o(()=>!1,"isIgnored");if(M.ignore){const B={...x,ignore:null,onMatch:null,onResult:null};ee=h(M.ignore,B,m)}const L=o((B,P=!1)=>{const{isMatch:R,match:D,output:O}=h.test(B,$,x,{glob:_,posix:I}),J={glob:_,state:Q,regex:$,posix:I,input:B,output:O,match:D,isMatch:R};return typeof M.onResult=="function"&&M.onResult(J),R===!1?(J.isMatch=!1,P?J:!1):ee(B)?(typeof M.onIgnore=="function"&&M.onIgnore(J),J.isMatch=!1,P?J:!1):(typeof M.onMatch=="function"&&M.onMatch(J),P?J:!0)},"matcher");return m&&(L.state=Q),L},"picomatch");h.test=(_,x,m,{glob:C,posix:M}={})=>{if(typeof _!="string")throw new TypeError("Expected input to be a string");if(_==="")return{isMatch:!1,output:""};const I=m||{},$=I.format||(M?k.toPosixSlashes:null);let Q=_===C,ee=Q&&$?$(_):_;return Q===!1&&(ee=$?$(_):_,Q=ee===C),(Q===!1||I.capture===!0)&&(I.matchBase===!0||I.basename===!0?Q=h.matchBase(_,x,m,M):Q=x.exec(ee)),{isMatch:Boolean(Q),match:Q,output:ee}},h.matchBase=(_,x,m,C=k.isWindows(m))=>(x instanceof RegExp?x:h.makeRe(x,m)).test(E.basename(_)),h.isMatch=(_,x,m)=>h(x,m)(_),h.parse=(_,x)=>Array.isArray(_)?_.map(m=>h.parse(m,x)):w(_,{...x,fastpaths:!1}),h.scan=(_,x)=>b(_,x),h.compileRe=(_,x,m=!1,C=!1)=>{if(m===!0)return _.output;const M=x||{},I=M.contains?"":"^",$=M.contains?"":"$";let Q=`${I}(?:${_.output})${$}`;_&&_.negated===!0&&(Q=`^(?!${Q}).*$`);const ee=h.toRegex(Q,x);return C===!0&&(ee.state=_),ee},h.makeRe=(_,x={},m=!1,C=!1)=>{if(!_||typeof _!="string")throw new TypeError("Expected a non-empty string");let M={negated:!1,fastpaths:!0};return x.fastpaths!==!1&&(_[0]==="."||_[0]==="*")&&(M.output=w.fastpaths(_,x)),M.output||(M=w(_,x)),h.compileRe(M,x,m,C)},h.toRegex=(_,x)=>{try{const m=x||{};return new RegExp(_,m.flags||(m.nocase?"i":""))}catch(m){if(x&&x.debug===!0)throw m;return/$^/}},h.constants=z,ae.exports=h},9826:(ae,d,T)=>{"use strict";const E=T(292),{CHAR_ASTERISK:b,CHAR_AT:w,CHAR_BACKWARD_SLASH:k,CHAR_COMMA:z,CHAR_DOT:A,CHAR_EXCLAMATION_MARK:h,CHAR_FORWARD_SLASH:_,CHAR_LEFT_CURLY_BRACE:x,CHAR_LEFT_PARENTHESES:m,CHAR_LEFT_SQUARE_BRACKET:C,CHAR_PLUS:M,CHAR_QUESTION_MARK:I,CHAR_RIGHT_CURLY_BRACE:$,CHAR_RIGHT_PARENTHESES:Q,CHAR_RIGHT_SQUARE_BRACKET:ee}=T(3889),L=o(R=>R===_||R===k,"isPathSeparator"),B=o(R=>{R.isPrefix!==!0&&(R.depth=R.isGlobstar?1/0:1)},"depth"),P=o((R,D)=>{const O=D||{},J=R.length-1,V=O.parts===!0||O.scanToEnd===!0,te=[],he=[],ge=[];let re=R,G=-1,le=0,oe=0,de=!1,pe=!1,me=!1,Me=!1,_t=!1,qe=!1,W=!1,Oe=!1,Ie=!1,ze=!1,ve=0,ie,ye,Ce={value:"",depth:0,isGlob:!1};const ce=o(()=>G>=J,"eos"),Re=o(()=>re.charCodeAt(G+1),"peek"),Te=o(()=>(ie=ye,re.charCodeAt(++G)),"advance");for(;G<J;){ye=Te();let Je;if(ye===k){W=Ce.backslashes=!0,ye=Te(),ye===x&&(qe=!0);continue}if(qe===!0||ye===x){for(ve++;ce()!==!0&&(ye=Te());){if(ye===k){W=Ce.backslashes=!0,Te();continue}if(ye===x){ve++;continue}if(qe!==!0&&ye===A&&(ye=Te())===A){if(de=Ce.isBrace=!0,me=Ce.isGlob=!0,ze=!0,V===!0)continue;break}if(qe!==!0&&ye===z){if(de=Ce.isBrace=!0,me=Ce.isGlob=!0,ze=!0,V===!0)continue;break}if(ye===$&&(ve--,ve===0)){qe=!1,de=Ce.isBrace=!0,ze=!0;break}}if(V===!0)continue;break}if(ye===_){if(te.push(G),he.push(Ce),Ce={value:"",depth:0,isGlob:!1},ze===!0)continue;if(ie===A&&G===le+1){le+=2;continue}oe=G+1;continue}if(O.noext!==!0&&(ye===M||ye===w||ye===b||ye===I||ye===h)===!0&&Re()===m){if(me=Ce.isGlob=!0,Me=Ce.isExtglob=!0,ze=!0,ye===h&&G===le&&(Ie=!0),V===!0){for(;ce()!==!0&&(ye=Te());){if(ye===k){W=Ce.backslashes=!0,ye=Te();continue}if(ye===Q){me=Ce.isGlob=!0,ze=!0;break}}continue}break}if(ye===b){if(ie===b&&(_t=Ce.isGlobstar=!0),me=Ce.isGlob=!0,ze=!0,V===!0)continue;break}if(ye===I){if(me=Ce.isGlob=!0,ze=!0,V===!0)continue;break}if(ye===C){for(;ce()!==!0&&(Je=Te());){if(Je===k){W=Ce.backslashes=!0,Te();continue}if(Je===ee){pe=Ce.isBracket=!0,me=Ce.isGlob=!0,ze=!0;break}}if(V===!0)continue;break}if(O.nonegate!==!0&&ye===h&&G===le){Oe=Ce.negated=!0,le++;continue}if(O.noparen!==!0&&ye===m){if(me=Ce.isGlob=!0,V===!0){for(;ce()!==!0&&(ye=Te());){if(ye===m){W=Ce.backslashes=!0,ye=Te();continue}if(ye===Q){ze=!0;break}}continue}break}if(me===!0){if(ze=!0,V===!0)continue;break}}O.noext===!0&&(Me=!1,me=!1);let je=re,ot="",Ye="";le>0&&(ot=re.slice(0,le),re=re.slice(le),oe-=le),je&&me===!0&&oe>0?(je=re.slice(0,oe),Ye=re.slice(oe)):me===!0?(je="",Ye=re):je=re,je&&je!==""&&je!=="/"&&je!==re&&L(je.charCodeAt(je.length-1))&&(je=je.slice(0,-1)),O.unescape===!0&&(Ye&&(Ye=E.removeBackslashes(Ye)),je&&W===!0&&(je=E.removeBackslashes(je)));const jt={prefix:ot,input:R,start:le,base:je,glob:Ye,isBrace:de,isBracket:pe,isGlob:me,isExtglob:Me,isGlobstar:_t,negated:Oe,negatedExtglob:Ie};if(O.tokens===!0&&(jt.maxDepth=0,L(ye)||he.push(Ce),jt.tokens=he),O.parts===!0||O.tokens===!0){let Je;for(let fn=0;fn<te.length;fn++){const St=Je?Je+1:le,Ae=te[fn],xe=R.slice(St,Ae);O.tokens&&(fn===0&&le!==0?(he[fn].isPrefix=!0,he[fn].value=ot):he[fn].value=xe,B(he[fn]),jt.maxDepth+=he[fn].depth),(fn!==0||xe!=="")&&ge.push(xe),Je=Ae}if(Je&&Je+1<R.length){const fn=R.slice(Je+1);ge.push(fn),O.tokens&&(he[he.length-1].value=fn,B(he[he.length-1]),jt.maxDepth+=he[he.length-1].depth)}jt.slashes=te,jt.parts=ge}return jt},"scan");ae.exports=P},292:(ae,d,T)=>{"use strict";var E=T(6038);const b=T(6470),w=E.platform==="win32",{REGEX_BACKSLASH:k,REGEX_REMOVE_BACKSLASH:z,REGEX_SPECIAL_CHARS:A,REGEX_SPECIAL_CHARS_GLOBAL:h}=T(3889);d.isObject=_=>_!==null&&typeof _=="object"&&!Array.isArray(_),d.hasRegexChars=_=>A.test(_),d.isRegexChar=_=>_.length===1&&d.hasRegexChars(_),d.escapeRegex=_=>_.replace(h,"\\$1"),d.toPosixSlashes=_=>_.replace(k,"/"),d.removeBackslashes=_=>_.replace(z,x=>x==="\\"?"":x),d.supportsLookbehinds=()=>{const _=E.version.slice(1).split(".").map(Number);return _.length===3&&_[0]>=9||_[0]===8&&_[1]>=10},d.isWindows=_=>_&&typeof _.windows=="boolean"?_.windows:w===!0||b.sep==="\\",d.escapeLast=(_,x,m)=>{const C=_.lastIndexOf(x,m);return C===-1?_:_[C-1]==="\\"?d.escapeLast(_,x,C-1):`${_.slice(0,C)}\\${_.slice(C)}`},d.removePrefix=(_,x={})=>{let m=_;return m.startsWith("./")&&(m=m.slice(2),x.prefix="./"),m},d.wrapOutput=(_,x={},m={})=>{const C=m.contains?"":"^",M=m.contains?"":"$";let I=`${C}(?:${_})${M}`;return x.negated===!0&&(I=`(?:^(?!${I}).*$)`),I}},6038:ae=>{var d=ae.exports={},T,E;function b(){throw new Error("setTimeout has not been defined")}o(b,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}o(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?T=setTimeout:T=b}catch($){T=b}try{typeof clearTimeout=="function"?E=clearTimeout:E=w}catch($){E=w}}();function k($){if(T===setTimeout)return setTimeout($,0);if((T===b||!T)&&setTimeout)return T=setTimeout,setTimeout($,0);try{return T($,0)}catch(Q){try{return T.call(null,$,0)}catch(ee){return T.call(this,$,0)}}}o(k,"runTimeout");function z($){if(E===clearTimeout)return clearTimeout($);if((E===w||!E)&&clearTimeout)return E=clearTimeout,clearTimeout($);try{return E($)}catch(Q){try{return E.call(null,$)}catch(ee){return E.call(this,$)}}}o(z,"runClearTimeout");var A=[],h=!1,_,x=-1;function m(){!h||!_||(h=!1,_.length?A=_.concat(A):x=-1,A.length&&C())}o(m,"cleanUpNextTick");function C(){if(!h){var $=k(m);h=!0;for(var Q=A.length;Q;){for(_=A,A=[];++x<Q;)_&&_[x].run();x=-1,Q=A.length}_=null,h=!1,z($)}}o(C,"drainQueue"),d.nextTick=function($){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var ee=1;ee<arguments.length;ee++)Q[ee-1]=arguments[ee];A.push(new M($,Q)),A.length===1&&!h&&k(C)};function M($,Q){this.fun=$,this.array=Q}o(M,"Item"),M.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={};function I(){}o(I,"noop"),d.on=I,d.addListener=I,d.once=I,d.off=I,d.removeListener=I,d.removeAllListeners=I,d.emit=I,d.prependListener=I,d.prependOnceListener=I,d.listeners=function($){return[]},d.binding=function($){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function($){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},5431:(ae,d,T)=>{"use strict";ae.exports=T(7905)},7905:(ae,d,T)=>{"use strict";var E=T(1417);function b(){return!0}o(b,"_toTrue");function w(){return!1}o(w,"_toFalse");function k(Q){return Q.then(b,w)}o(k,"pSuccess");function z(Q){return Q}o(z,"_pass");function A(Q){throw Q}o(A,"_throw");function h(Q){return Q.then(z,A)}o(h,"ensurePromise");function _(Q,ee){return{result:Q,args:ee,expire_id:0,prefetch_id:0,need_prefetch:!1}}o(_,"createCacheObj");function x(Q,ee){!Q[ee]||(clearTimeout(Q[ee].expire_id),clearTimeout(Q[ee].prefetch_id),delete Q[ee])}o(x,"destroyCacheObj");function m(Q,ee){!Q[ee]||(Q[ee].need_prefetch=!0)}o(m,"askPrefetch");function C(Q){var ee=Q[0],L=Q[1],B=Q[2],P=Q[3];if(!!L[B]){if(ee){if(!P.maxAge)return;L[B].expire_id=setTimeout(x,P.maxAge,L,B),L[B].prefetch_id=setTimeout(m,P.maxAge*.7,L,B),L[B].expire_id.unref&&L[B].expire_id.unref(),L[B].prefetch_id.unref&&L[B].prefetch_id.unref();return}if(!P.maxErrorAge){x(L,B);return}L[B].expire_id=setTimeout(x,P.maxErrorAge,L,B),L[B].expire_id.unref&&L[B].expire_id.unref()}}o(C,"_track_proceed");function M(Q,ee,L){var B=Q[ee].result.constructor;B.all([k(Q[ee].result),Q,ee,L]).then(C)}o(M,"trackCacheObj");function I(Q){var ee=Q[0],L=Q[1],B=Q[2],P=Q[3],R=Q[4][0];!L[B]||!ee||(L[B].result=R,clearTimeout(L[B].expire_id),M(L,B,P))}o(I,"_prefetch_proceed");function $(Q,ee,L){var B=h(L.fn.apply(null,Q[ee].args)),P=B.constructor;Q[ee].need_prefetch=!1,P.all([k(B),Q,ee,L,[B]]).then(I)}o($,"doPrefetch"),ae.exports=o(function(ee,L){var B={},P=L||{},R=E(P.resolve),D={fn:ee,maxAge:P.maxAge||0,maxErrorAge:P.maxErrorAge||0};function O(){for(var J=new Array(arguments.length),V=0;V<J.length;V++)J[V]=arguments[V];var te=R(J);return B[te]?B[te].need_prefetch&&$(B,te,D):(B[te]=_(h(D.fn.apply(null,J)),D.maxAge||D.maxErrorAge?J:null),M(B,te,D)),B[te].result}return o(O,"memoizedFn"),O.clear=function(){var J=Object.keys(B);return J.forEach(function(V){x(B,V)}),J.length},O},"promiseMemoize")},1417:ae=>{"use strict";var d={simple:function(E){return E.length?E.join(""):""},json:function(E){if(!E.length)return"";for(var b=[],w=E.length-1;w>=0;w--)b.push(JSON.stringify(E[w]));return b.join("")}};function T(E){return E.forEach(function(b){if(typeof b=="string"&&!d.hasOwnProperty(b))throw new Error('promise-memoize: unknown value "'+b+'" in resolve option')}),function(b){var w=Math.min(E.length,b.length);if(!w)return"";for(var k=[],z=0;z<w;z++)typeof E[z]=="string"?k.push(d[E[z]]([b[z]])):k.push(E[z](b[z]));return k.join("")}}o(T,"createFlexResolver"),ae.exports=o(function(b){if(typeof b=="undefined")return d.simple;if(typeof b=="string"&&d.hasOwnProperty(b))return d[b];if(Array.isArray(b))return T(b);if(Object.prototype.toString.call(b)==="[object Function]")return b;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(ae,d,T)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const E=T(3338),b=o((L,B,P)=>{if(E(L)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(B===void 0||L===B)return String(L);if(E(B)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let R={relaxZeros:!0,...P};typeof R.strictZeros=="boolean"&&(R.relaxZeros=R.strictZeros===!1);let D=String(R.relaxZeros),O=String(R.shorthand),J=String(R.capture),V=String(R.wrap),te=L+":"+B+"="+D+O+J+V;if(b.cache.hasOwnProperty(te))return b.cache[te].result;let he=Math.min(L,B),ge=Math.max(L,B);if(Math.abs(he-ge)===1){let de=L+"|"+B;return R.capture?`(${de})`:R.wrap===!1?de:`(?:${de})`}let re=Q(L)||Q(B),G={min:L,max:B,a:he,b:ge},le=[],oe=[];if(re&&(G.isPadded=re,G.maxLen=String(G.max).length),he<0){let de=ge<0?Math.abs(ge):1;oe=A(de,Math.abs(he),G,R),he=G.a=0}return ge>=0&&(le=A(he,ge,G,R)),G.negatives=oe,G.positives=le,G.result=w(oe,le,R),R.capture===!0?G.result=`(${G.result})`:R.wrap!==!1&&le.length+oe.length>1&&(G.result=`(?:${G.result})`),b.cache[te]=G,G.result},"toRegexRange");function w(L,B,P){let R=h(L,B,"-",!1,P)||[],D=h(B,L,"",!1,P)||[],O=h(L,B,"-?",!0,P)||[];return R.concat(O).concat(D).join("|")}o(w,"collatePatterns");function k(L,B){let P=1,R=1,D=C(L,P),O=new Set([B]);for(;L<=D&&D<=B;)O.add(D),P+=1,D=C(L,P);for(D=M(B+1,R)-1;L<D&&D<=B;)O.add(D),R+=1,D=M(B+1,R)-1;return O=[...O],O.sort(x),O}o(k,"splitToRanges");function z(L,B,P){if(L===B)return{pattern:L,count:[],digits:0};let R=_(L,B),D=R.length,O="",J=0;for(let V=0;V<D;V++){let[te,he]=R[V];te===he?O+=te:te!=="0"||he!=="9"?O+=$(te,he,P):J++}return J&&(O+=P.shorthand===!0?"\\d":"[0-9]"),{pattern:O,count:[J],digits:D}}o(z,"rangeToPattern");function A(L,B,P,R){let D=k(L,B),O=[],J=L,V;for(let te=0;te<D.length;te++){let he=D[te],ge=z(String(J),String(he),R),re="";if(!P.isPadded&&V&&V.pattern===ge.pattern){V.count.length>1&&V.count.pop(),V.count.push(ge.count[0]),V.string=V.pattern+I(V.count),J=he+1;continue}P.isPadded&&(re=ee(he,P,R)),ge.string=re+ge.pattern+I(ge.count),O.push(ge),J=he+1,V=ge}return O}o(A,"splitToPatterns");function h(L,B,P,R,D){let O=[];for(let J of L){let{string:V}=J;!R&&!m(B,"string",V)&&O.push(P+V),R&&m(B,"string",V)&&O.push(P+V)}return O}o(h,"filterPatterns");function _(L,B){let P=[];for(let R=0;R<L.length;R++)P.push([L[R],B[R]]);return P}o(_,"zip");function x(L,B){return L>B?1:B>L?-1:0}o(x,"compare");function m(L,B,P){return L.some(R=>R[B]===P)}o(m,"contains");function C(L,B){return Number(String(L).slice(0,-B)+"9".repeat(B))}o(C,"countNines");function M(L,B){return L-L%Math.pow(10,B)}o(M,"countZeros");function I(L){let[B=0,P=""]=L;return P||B>1?`{${B+(P?","+P:"")}}`:""}o(I,"toQuantifier");function $(L,B,P){return`[${L}${B-L==1?"":"-"}${B}]`}o($,"toCharacterClass");function Q(L){return/^-?(0+)\d/.test(L)}o(Q,"hasPadding");function ee(L,B,P){if(!B.isPadded)return L;let R=Math.abs(B.maxLen-String(L).length),D=P.relaxZeros!==!1;switch(R){case 0:return"";case 1:return D?"0?":"0";case 2:return D?"0{0,2}":"00";default:return D?`0{0,${R}}`:`0{${R}}`}}o(ee,"padZeros"),b.cache={},b.clearCache=()=>b.cache={},ae.exports=b},9742:(ae,d)=>{"use strict";d.byteLength=h,d.toByteArray=x,d.fromByteArray=M;for(var T=[],E=[],b=typeof Uint8Array!="undefined"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,z=w.length;k<z;++k)T[k]=w[k],E[w.charCodeAt(k)]=k;E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63;function A(I){var $=I.length;if($%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=I.indexOf("=");Q===-1&&(Q=$);var ee=Q===$?0:4-Q%4;return[Q,ee]}o(A,"getLens");function h(I){var $=A(I),Q=$[0],ee=$[1];return(Q+ee)*3/4-ee}o(h,"byteLength");function _(I,$,Q){return($+Q)*3/4-Q}o(_,"_byteLength");function x(I){var $,Q=A(I),ee=Q[0],L=Q[1],B=new b(_(I,ee,L)),P=0,R=L>0?ee-4:ee,D;for(D=0;D<R;D+=4)$=E[I.charCodeAt(D)]<<18|E[I.charCodeAt(D+1)]<<12|E[I.charCodeAt(D+2)]<<6|E[I.charCodeAt(D+3)],B[P++]=$>>16&255,B[P++]=$>>8&255,B[P++]=$&255;return L===2&&($=E[I.charCodeAt(D)]<<2|E[I.charCodeAt(D+1)]>>4,B[P++]=$&255),L===1&&($=E[I.charCodeAt(D)]<<10|E[I.charCodeAt(D+1)]<<4|E[I.charCodeAt(D+2)]>>2,B[P++]=$>>8&255,B[P++]=$&255),B}o(x,"toByteArray");function m(I){return T[I>>18&63]+T[I>>12&63]+T[I>>6&63]+T[I&63]}o(m,"tripletToBase64");function C(I,$,Q){for(var ee,L=[],B=$;B<Q;B+=3)ee=(I[B]<<16&16711680)+(I[B+1]<<8&65280)+(I[B+2]&255),L.push(m(ee));return L.join("")}o(C,"encodeChunk");function M(I){for(var $,Q=I.length,ee=Q%3,L=[],B=16383,P=0,R=Q-ee;P<R;P+=B)L.push(C(I,P,P+B>R?R:P+B));return ee===1?($=I[Q-1],L.push(T[$>>2]+T[$<<4&63]+"==")):ee===2&&($=(I[Q-2]<<8)+I[Q-1],L.push(T[$>>10]+T[$>>4&63]+T[$<<2&63]+"=")),L.join("")}o(M,"fromByteArray")},5186:(ae,d,T)=>{var E=T(3698),b=T(2505),w=T(6417),k=Function.bind,z=k.bind(k);function A(C,M,I){var $=z(w,null).apply(null,I?[M,I]:[M]);C.api={remove:$},C.remove=$,["before","error","after","wrap"].forEach(function(Q){var ee=I?[M,Q,I]:[M,Q];C[Q]=C.api[Q]=z(b,null).apply(null,ee)})}o(A,"bindApi");function h(){var C="h",M={registry:{}},I=E.bind(null,M,C);return A(I,M,C),I}o(h,"HookSingular");function _(){var C={registry:{}},M=E.bind(null,C);return A(M,C),M}o(_,"HookCollection");var x=!1;function m(){return x||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),x=!0),_()}o(m,"Hook"),m.Singular=h.bind(),m.Collection=_.bind(),ae.exports=m,ae.exports.Hook=m,ae.exports.Singular=m.Singular,ae.exports.Collection=m.Collection},2505:ae=>{ae.exports=d;function d(T,E,b,w){var k=w;T.registry[b]||(T.registry[b]=[]),E==="before"&&(w=o(function(z,A){return Promise.resolve().then(k.bind(null,A)).then(z.bind(null,A))},"hook")),E==="after"&&(w=o(function(z,A){var h;return Promise.resolve().then(z.bind(null,A)).then(function(_){return h=_,k(h,A)}).then(function(){return h})},"hook")),E==="error"&&(w=o(function(z,A){return Promise.resolve().then(z.bind(null,A)).catch(function(h){return k(h,A)})},"hook")),T.registry[b].push({hook:w,orig:k})}o(d,"addHook")},3698:ae=>{ae.exports=d;function d(T,E,b,w){if(typeof b!="function")throw new Error("method for before hook must be a function");return w||(w={}),Array.isArray(E)?E.reverse().reduce(function(k,z){return d.bind(null,T,z,k,w)},b)():Promise.resolve().then(function(){return T.registry[E]?T.registry[E].reduce(function(k,z){return z.hook.bind(null,k,w)},b)():b(w)})}o(d,"register")},6417:ae=>{ae.exports=d;function d(T,E,b){if(!!T.registry[E]){var w=T.registry[E].map(function(k){return k.orig}).indexOf(b);w!==-1&&T.registry[E].splice(w,1)}}o(d,"removeHook")},8764:(ae,d,T)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const E=T(9742),b=T(645),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=h,d.SlowBuffer=B,d.INSPECT_MAX_BYTES=50;const k=2147483647;d.kMaxLength=k,h.TYPED_ARRAY_SUPPORT=z(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function z(){try{const F=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(F,g),F.foo()===42}catch(F){return!1}}o(z,"typedArraySupport"),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function A(F){if(F>k)throw new RangeError('The value "'+F+'" is invalid for option "size"');const g=new Uint8Array(F);return Object.setPrototypeOf(g,h.prototype),g}o(A,"createBuffer");function h(F,g,p){if(typeof F=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(F)}return _(F,g,p)}o(h,"Buffer"),h.poolSize=8192;function _(F,g,p){if(typeof F=="string")return M(F,g);if(ArrayBuffer.isView(F))return $(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if($e(F,ArrayBuffer)||F&&$e(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&($e(F,SharedArrayBuffer)||F&&$e(F.buffer,SharedArrayBuffer)))return Q(F,g,p);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=F.valueOf&&F.valueOf();if(K!=null&&K!==F)return h.from(K,g,p);const ue=ee(F);if(ue)return ue;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return h.from(F[Symbol.toPrimitive]("string"),g,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}o(_,"from"),h.from=function(F,g,p){return _(F,g,p)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}o(x,"assertSize");function m(F,g,p){return x(F),F<=0?A(F):g!==void 0?typeof p=="string"?A(F).fill(g,p):A(F).fill(g):A(F)}o(m,"alloc"),h.alloc=function(F,g,p){return m(F,g,p)};function C(F){return x(F),A(F<0?0:L(F)|0)}o(C,"allocUnsafe"),h.allocUnsafe=function(F){return C(F)},h.allocUnsafeSlow=function(F){return C(F)};function M(F,g){if((typeof g!="string"||g==="")&&(g="utf8"),!h.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const p=P(F,g)|0;let K=A(p);const ue=K.write(F,g);return ue!==p&&(K=K.slice(0,ue)),K}o(M,"fromString");function I(F){const g=F.length<0?0:L(F.length)|0,p=A(g);for(let K=0;K<g;K+=1)p[K]=F[K]&255;return p}o(I,"fromArrayLike");function $(F){if($e(F,Uint8Array)){const g=new Uint8Array(F);return Q(g.buffer,g.byteOffset,g.byteLength)}return I(F)}o($,"fromArrayView");function Q(F,g,p){if(g<0||F.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<g+(p||0))throw new RangeError('"length" is outside of buffer bounds');let K;return g===void 0&&p===void 0?K=new Uint8Array(F):p===void 0?K=new Uint8Array(F,g):K=new Uint8Array(F,g,p),Object.setPrototypeOf(K,h.prototype),K}o(Q,"fromArrayBuffer");function ee(F){if(h.isBuffer(F)){const g=L(F.length)|0,p=A(g);return p.length===0||F.copy(p,0,0,g),p}if(F.length!==void 0)return typeof F.length!="number"||Nt(F.length)?A(0):I(F);if(F.type==="Buffer"&&Array.isArray(F.data))return I(F.data)}o(ee,"fromObject");function L(F){if(F>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return F|0}o(L,"checked");function B(F){return+F!=F&&(F=0),h.alloc(+F)}o(B,"SlowBuffer"),h.isBuffer=o(function(g){return g!=null&&g._isBuffer===!0&&g!==h.prototype},"isBuffer"),h.compare=o(function(g,p){if($e(g,Uint8Array)&&(g=h.from(g,g.offset,g.byteLength)),$e(p,Uint8Array)&&(p=h.from(p,p.offset,p.byteLength)),!h.isBuffer(g)||!h.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===p)return 0;let K=g.length,ue=p.length;for(let Ee=0,Pe=Math.min(K,ue);Ee<Pe;++Ee)if(g[Ee]!==p[Ee]){K=g[Ee],ue=p[Ee];break}return K<ue?-1:ue<K?1:0},"compare"),h.isEncoding=o(function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),h.concat=o(function(g,p){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return h.alloc(0);let K;if(p===void 0)for(p=0,K=0;K<g.length;++K)p+=g[K].length;const ue=h.allocUnsafe(p);let Ee=0;for(K=0;K<g.length;++K){let Pe=g[K];if($e(Pe,Uint8Array))Ee+Pe.length>ue.length?(h.isBuffer(Pe)||(Pe=h.from(Pe)),Pe.copy(ue,Ee)):Uint8Array.prototype.set.call(ue,Pe,Ee);else if(h.isBuffer(Pe))Pe.copy(ue,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=Pe.length}return ue},"concat");function P(F,g){if(h.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||$e(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const p=F.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&p===0)return 0;let ue=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return Je(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return Ae(F).length;default:if(ue)return K?-1:Je(F).length;g=(""+g).toLowerCase(),ue=!0}}o(P,"byteLength"),h.byteLength=P;function R(F,g,p){let K=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,g>>>=0,p<=g))return"";for(F||(F="utf8");;)switch(F){case"hex":return Me(this,g,p);case"utf8":case"utf-8":return le(this,g,p);case"ascii":return pe(this,g,p);case"latin1":case"binary":return me(this,g,p);case"base64":return G(this,g,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _t(this,g,p);default:if(K)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),K=!0}}o(R,"slowToString"),h.prototype._isBuffer=!0;function D(F,g,p){const K=F[g];F[g]=F[p],F[p]=K}o(D,"swap"),h.prototype.swap16=o(function(){const g=this.length;if(g%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<g;p+=2)D(this,p,p+1);return this},"swap16"),h.prototype.swap32=o(function(){const g=this.length;if(g%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<g;p+=4)D(this,p,p+3),D(this,p+1,p+2);return this},"swap32"),h.prototype.swap64=o(function(){const g=this.length;if(g%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<g;p+=8)D(this,p,p+7),D(this,p+1,p+6),D(this,p+2,p+5),D(this,p+3,p+4);return this},"swap64"),h.prototype.toString=o(function(){const g=this.length;return g===0?"":arguments.length===0?le(this,0,g):R.apply(this,arguments)},"toString"),h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=o(function(g){if(!h.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:h.compare(this,g)===0},"equals"),h.prototype.inspect=o(function(){let g="";const p=d.INSPECT_MAX_BYTES;return g=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(g+=" ... "),"<Buffer "+g+">"},"inspect"),w&&(h.prototype[w]=h.prototype.inspect),h.prototype.compare=o(function(g,p,K,ue,Ee){if($e(g,Uint8Array)&&(g=h.from(g,g.offset,g.byteLength)),!h.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(p===void 0&&(p=0),K===void 0&&(K=g?g.length:0),ue===void 0&&(ue=0),Ee===void 0&&(Ee=this.length),p<0||K>g.length||ue<0||Ee>this.length)throw new RangeError("out of range index");if(ue>=Ee&&p>=K)return 0;if(ue>=Ee)return-1;if(p>=K)return 1;if(p>>>=0,K>>>=0,ue>>>=0,Ee>>>=0,this===g)return 0;let Pe=Ee-ue,qt=K-p;const ln=Math.min(Pe,qt),et=this.slice(ue,Ee),Ge=g.slice(p,K);for(let Le=0;Le<ln;++Le)if(et[Le]!==Ge[Le]){Pe=et[Le],qt=Ge[Le];break}return Pe<qt?-1:qt<Pe?1:0},"compare");function O(F,g,p,K,ue){if(F.length===0)return-1;if(typeof p=="string"?(K=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,Nt(p)&&(p=ue?0:F.length-1),p<0&&(p=F.length+p),p>=F.length){if(ue)return-1;p=F.length-1}else if(p<0)if(ue)p=0;else return-1;if(typeof g=="string"&&(g=h.from(g,K)),h.isBuffer(g))return g.length===0?-1:J(F,g,p,K,ue);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(F,g,p):Uint8Array.prototype.lastIndexOf.call(F,g,p):J(F,[g],p,K,ue);throw new TypeError("val must be string, number or Buffer")}o(O,"bidirectionalIndexOf");function J(F,g,p,K,ue){let Ee=1,Pe=F.length,qt=g.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(F.length<2||g.length<2)return-1;Ee=2,Pe/=2,qt/=2,p/=2}function ln(Ge,Le){return Ee===1?Ge[Le]:Ge.readUInt16BE(Le*Ee)}o(ln,"read");let et;if(ue){let Ge=-1;for(et=p;et<Pe;et++)if(ln(F,et)===ln(g,Ge===-1?0:et-Ge)){if(Ge===-1&&(Ge=et),et-Ge+1===qt)return Ge*Ee}else Ge!==-1&&(et-=et-Ge),Ge=-1}else for(p+qt>Pe&&(p=Pe-qt),et=p;et>=0;et--){let Ge=!0;for(let Le=0;Le<qt;Le++)if(ln(F,et+Le)!==ln(g,Le)){Ge=!1;break}if(Ge)return et}return-1}o(J,"arrayIndexOf"),h.prototype.includes=o(function(g,p,K){return this.indexOf(g,p,K)!==-1},"includes"),h.prototype.indexOf=o(function(g,p,K){return O(this,g,p,K,!0)},"indexOf"),h.prototype.lastIndexOf=o(function(g,p,K){return O(this,g,p,K,!1)},"lastIndexOf");function V(F,g,p,K){p=Number(p)||0;const ue=F.length-p;K?(K=Number(K),K>ue&&(K=ue)):K=ue;const Ee=g.length;K>Ee/2&&(K=Ee/2);let Pe;for(Pe=0;Pe<K;++Pe){const qt=parseInt(g.substr(Pe*2,2),16);if(Nt(qt))return Pe;F[p+Pe]=qt}return Pe}o(V,"hexWrite");function te(F,g,p,K){return xe(Je(g,F.length-p),F,p,K)}o(te,"utf8Write");function he(F,g,p,K){return xe(fn(g),F,p,K)}o(he,"asciiWrite");function ge(F,g,p,K){return xe(Ae(g),F,p,K)}o(ge,"base64Write");function re(F,g,p,K){return xe(St(g,F.length-p),F,p,K)}o(re,"ucs2Write"),h.prototype.write=o(function(g,p,K,ue){if(p===void 0)ue="utf8",K=this.length,p=0;else if(K===void 0&&typeof p=="string")ue=p,K=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(K)?(K=K>>>0,ue===void 0&&(ue="utf8")):(ue=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-p;if((K===void 0||K>Ee)&&(K=Ee),g.length>0&&(K<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");let Pe=!1;for(;;)switch(ue){case"hex":return V(this,g,p,K);case"utf8":case"utf-8":return te(this,g,p,K);case"ascii":case"latin1":case"binary":return he(this,g,p,K);case"base64":return ge(this,g,p,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,g,p,K);default:if(Pe)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),Pe=!0}},"write"),h.prototype.toJSON=o(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function G(F,g,p){return g===0&&p===F.length?E.fromByteArray(F):E.fromByteArray(F.slice(g,p))}o(G,"base64Slice");function le(F,g,p){p=Math.min(F.length,p);const K=[];let ue=g;for(;ue<p;){const Ee=F[ue];let Pe=null,qt=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ue+qt<=p){let ln,et,Ge,Le;switch(qt){case 1:Ee<128&&(Pe=Ee);break;case 2:ln=F[ue+1],(ln&192)==128&&(Le=(Ee&31)<<6|ln&63,Le>127&&(Pe=Le));break;case 3:ln=F[ue+1],et=F[ue+2],(ln&192)==128&&(et&192)==128&&(Le=(Ee&15)<<12|(ln&63)<<6|et&63,Le>2047&&(Le<55296||Le>57343)&&(Pe=Le));break;case 4:ln=F[ue+1],et=F[ue+2],Ge=F[ue+3],(ln&192)==128&&(et&192)==128&&(Ge&192)==128&&(Le=(Ee&15)<<18|(ln&63)<<12|(et&63)<<6|Ge&63,Le>65535&&Le<1114112&&(Pe=Le))}}Pe===null?(Pe=65533,qt=1):Pe>65535&&(Pe-=65536,K.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),K.push(Pe),ue+=qt}return de(K)}o(le,"utf8Slice");const oe=4096;function de(F){const g=F.length;if(g<=oe)return String.fromCharCode.apply(String,F);let p="",K=0;for(;K<g;)p+=String.fromCharCode.apply(String,F.slice(K,K+=oe));return p}o(de,"decodeCodePointsArray");function pe(F,g,p){let K="";p=Math.min(F.length,p);for(let ue=g;ue<p;++ue)K+=String.fromCharCode(F[ue]&127);return K}o(pe,"asciiSlice");function me(F,g,p){let K="";p=Math.min(F.length,p);for(let ue=g;ue<p;++ue)K+=String.fromCharCode(F[ue]);return K}o(me,"latin1Slice");function Me(F,g,p){const K=F.length;(!g||g<0)&&(g=0),(!p||p<0||p>K)&&(p=K);let ue="";for(let Ee=g;Ee<p;++Ee)ue+=Sn[F[Ee]];return ue}o(Me,"hexSlice");function _t(F,g,p){const K=F.slice(g,p);let ue="";for(let Ee=0;Ee<K.length-1;Ee+=2)ue+=String.fromCharCode(K[Ee]+K[Ee+1]*256);return ue}o(_t,"utf16leSlice"),h.prototype.slice=o(function(g,p){const K=this.length;g=~~g,p=p===void 0?K:~~p,g<0?(g+=K,g<0&&(g=0)):g>K&&(g=K),p<0?(p+=K,p<0&&(p=0)):p>K&&(p=K),p<g&&(p=g);const ue=this.subarray(g,p);return Object.setPrototypeOf(ue,h.prototype),ue},"slice");function qe(F,g,p){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+g>p)throw new RangeError("Trying to access beyond buffer length")}o(qe,"checkOffset"),h.prototype.readUintLE=h.prototype.readUIntLE=o(function(g,p,K){g=g>>>0,p=p>>>0,K||qe(g,p,this.length);let ue=this[g],Ee=1,Pe=0;for(;++Pe<p&&(Ee*=256);)ue+=this[g+Pe]*Ee;return ue},"readUIntLE"),h.prototype.readUintBE=h.prototype.readUIntBE=o(function(g,p,K){g=g>>>0,p=p>>>0,K||qe(g,p,this.length);let ue=this[g+--p],Ee=1;for(;p>0&&(Ee*=256);)ue+=this[g+--p]*Ee;return ue},"readUIntBE"),h.prototype.readUint8=h.prototype.readUInt8=o(function(g,p){return g=g>>>0,p||qe(g,1,this.length),this[g]},"readUInt8"),h.prototype.readUint16LE=h.prototype.readUInt16LE=o(function(g,p){return g=g>>>0,p||qe(g,2,this.length),this[g]|this[g+1]<<8},"readUInt16LE"),h.prototype.readUint16BE=h.prototype.readUInt16BE=o(function(g,p){return g=g>>>0,p||qe(g,2,this.length),this[g]<<8|this[g+1]},"readUInt16BE"),h.prototype.readUint32LE=h.prototype.readUInt32LE=o(function(g,p){return g=g>>>0,p||qe(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},"readUInt32LE"),h.prototype.readUint32BE=h.prototype.readUInt32BE=o(function(g,p){return g=g>>>0,p||qe(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},"readUInt32BE"),h.prototype.readBigUInt64LE=_n(o(function(g){g=g>>>0,je(g,"offset");const p=this[g],K=this[g+7];(p===void 0||K===void 0)&&ot(g,this.length-8);const ue=p+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,Ee=this[++g]+this[++g]*2**8+this[++g]*2**16+K*2**24;return BigInt(ue)+(BigInt(Ee)<<BigInt(32))},"readBigUInt64LE")),h.prototype.readBigUInt64BE=_n(o(function(g){g=g>>>0,je(g,"offset");const p=this[g],K=this[g+7];(p===void 0||K===void 0)&&ot(g,this.length-8);const ue=p*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],Ee=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+K;return(BigInt(ue)<<BigInt(32))+BigInt(Ee)},"readBigUInt64BE")),h.prototype.readIntLE=o(function(g,p,K){g=g>>>0,p=p>>>0,K||qe(g,p,this.length);let ue=this[g],Ee=1,Pe=0;for(;++Pe<p&&(Ee*=256);)ue+=this[g+Pe]*Ee;return Ee*=128,ue>=Ee&&(ue-=Math.pow(2,8*p)),ue},"readIntLE"),h.prototype.readIntBE=o(function(g,p,K){g=g>>>0,p=p>>>0,K||qe(g,p,this.length);let ue=p,Ee=1,Pe=this[g+--ue];for(;ue>0&&(Ee*=256);)Pe+=this[g+--ue]*Ee;return Ee*=128,Pe>=Ee&&(Pe-=Math.pow(2,8*p)),Pe},"readIntBE"),h.prototype.readInt8=o(function(g,p){return g=g>>>0,p||qe(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},"readInt8"),h.prototype.readInt16LE=o(function(g,p){g=g>>>0,p||qe(g,2,this.length);const K=this[g]|this[g+1]<<8;return K&32768?K|4294901760:K},"readInt16LE"),h.prototype.readInt16BE=o(function(g,p){g=g>>>0,p||qe(g,2,this.length);const K=this[g+1]|this[g]<<8;return K&32768?K|4294901760:K},"readInt16BE"),h.prototype.readInt32LE=o(function(g,p){return g=g>>>0,p||qe(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},"readInt32LE"),h.prototype.readInt32BE=o(function(g,p){return g=g>>>0,p||qe(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},"readInt32BE"),h.prototype.readBigInt64LE=_n(o(function(g){g=g>>>0,je(g,"offset");const p=this[g],K=this[g+7];(p===void 0||K===void 0)&&ot(g,this.length-8);const ue=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(K<<24);return(BigInt(ue)<<BigInt(32))+BigInt(p+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)},"readBigInt64LE")),h.prototype.readBigInt64BE=_n(o(function(g){g=g>>>0,je(g,"offset");const p=this[g],K=this[g+7];(p===void 0||K===void 0)&&ot(g,this.length-8);const ue=(p<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(ue)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+K)},"readBigInt64BE")),h.prototype.readFloatLE=o(function(g,p){return g=g>>>0,p||qe(g,4,this.length),b.read(this,g,!0,23,4)},"readFloatLE"),h.prototype.readFloatBE=o(function(g,p){return g=g>>>0,p||qe(g,4,this.length),b.read(this,g,!1,23,4)},"readFloatBE"),h.prototype.readDoubleLE=o(function(g,p){return g=g>>>0,p||qe(g,8,this.length),b.read(this,g,!0,52,8)},"readDoubleLE"),h.prototype.readDoubleBE=o(function(g,p){return g=g>>>0,p||qe(g,8,this.length),b.read(this,g,!1,52,8)},"readDoubleBE");function W(F,g,p,K,ue,Ee){if(!h.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>ue||g<Ee)throw new RangeError('"value" argument is out of bounds');if(p+K>F.length)throw new RangeError("Index out of range")}o(W,"checkInt"),h.prototype.writeUintLE=h.prototype.writeUIntLE=o(function(g,p,K,ue){if(g=+g,p=p>>>0,K=K>>>0,!ue){const qt=Math.pow(2,8*K)-1;W(this,g,p,K,qt,0)}let Ee=1,Pe=0;for(this[p]=g&255;++Pe<K&&(Ee*=256);)this[p+Pe]=g/Ee&255;return p+K},"writeUIntLE"),h.prototype.writeUintBE=h.prototype.writeUIntBE=o(function(g,p,K,ue){if(g=+g,p=p>>>0,K=K>>>0,!ue){const qt=Math.pow(2,8*K)-1;W(this,g,p,K,qt,0)}let Ee=K-1,Pe=1;for(this[p+Ee]=g&255;--Ee>=0&&(Pe*=256);)this[p+Ee]=g/Pe&255;return p+K},"writeUIntBE"),h.prototype.writeUint8=h.prototype.writeUInt8=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,1,255,0),this[p]=g&255,p+1},"writeUInt8"),h.prototype.writeUint16LE=h.prototype.writeUInt16LE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,2,65535,0),this[p]=g&255,this[p+1]=g>>>8,p+2},"writeUInt16LE"),h.prototype.writeUint16BE=h.prototype.writeUInt16BE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,2,65535,0),this[p]=g>>>8,this[p+1]=g&255,p+2},"writeUInt16BE"),h.prototype.writeUint32LE=h.prototype.writeUInt32LE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,4,4294967295,0),this[p+3]=g>>>24,this[p+2]=g>>>16,this[p+1]=g>>>8,this[p]=g&255,p+4},"writeUInt32LE"),h.prototype.writeUint32BE=h.prototype.writeUInt32BE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,4,4294967295,0),this[p]=g>>>24,this[p+1]=g>>>16,this[p+2]=g>>>8,this[p+3]=g&255,p+4},"writeUInt32BE");function Oe(F,g,p,K,ue){Te(g,K,ue,F,p,7);let Ee=Number(g&BigInt(4294967295));F[p++]=Ee,Ee=Ee>>8,F[p++]=Ee,Ee=Ee>>8,F[p++]=Ee,Ee=Ee>>8,F[p++]=Ee;let Pe=Number(g>>BigInt(32)&BigInt(4294967295));return F[p++]=Pe,Pe=Pe>>8,F[p++]=Pe,Pe=Pe>>8,F[p++]=Pe,Pe=Pe>>8,F[p++]=Pe,p}o(Oe,"wrtBigUInt64LE");function Ie(F,g,p,K,ue){Te(g,K,ue,F,p,7);let Ee=Number(g&BigInt(4294967295));F[p+7]=Ee,Ee=Ee>>8,F[p+6]=Ee,Ee=Ee>>8,F[p+5]=Ee,Ee=Ee>>8,F[p+4]=Ee;let Pe=Number(g>>BigInt(32)&BigInt(4294967295));return F[p+3]=Pe,Pe=Pe>>8,F[p+2]=Pe,Pe=Pe>>8,F[p+1]=Pe,Pe=Pe>>8,F[p]=Pe,p+8}o(Ie,"wrtBigUInt64BE"),h.prototype.writeBigUInt64LE=_n(o(function(g,p=0){return Oe(this,g,p,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),h.prototype.writeBigUInt64BE=_n(o(function(g,p=0){return Ie(this,g,p,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),h.prototype.writeIntLE=o(function(g,p,K,ue){if(g=+g,p=p>>>0,!ue){const ln=Math.pow(2,8*K-1);W(this,g,p,K,ln-1,-ln)}let Ee=0,Pe=1,qt=0;for(this[p]=g&255;++Ee<K&&(Pe*=256);)g<0&&qt===0&&this[p+Ee-1]!==0&&(qt=1),this[p+Ee]=(g/Pe>>0)-qt&255;return p+K},"writeIntLE"),h.prototype.writeIntBE=o(function(g,p,K,ue){if(g=+g,p=p>>>0,!ue){const ln=Math.pow(2,8*K-1);W(this,g,p,K,ln-1,-ln)}let Ee=K-1,Pe=1,qt=0;for(this[p+Ee]=g&255;--Ee>=0&&(Pe*=256);)g<0&&qt===0&&this[p+Ee+1]!==0&&(qt=1),this[p+Ee]=(g/Pe>>0)-qt&255;return p+K},"writeIntBE"),h.prototype.writeInt8=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,1,127,-128),g<0&&(g=255+g+1),this[p]=g&255,p+1},"writeInt8"),h.prototype.writeInt16LE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,2,32767,-32768),this[p]=g&255,this[p+1]=g>>>8,p+2},"writeInt16LE"),h.prototype.writeInt16BE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,2,32767,-32768),this[p]=g>>>8,this[p+1]=g&255,p+2},"writeInt16BE"),h.prototype.writeInt32LE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,4,2147483647,-2147483648),this[p]=g&255,this[p+1]=g>>>8,this[p+2]=g>>>16,this[p+3]=g>>>24,p+4},"writeInt32LE"),h.prototype.writeInt32BE=o(function(g,p,K){return g=+g,p=p>>>0,K||W(this,g,p,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[p]=g>>>24,this[p+1]=g>>>16,this[p+2]=g>>>8,this[p+3]=g&255,p+4},"writeInt32BE"),h.prototype.writeBigInt64LE=_n(o(function(g,p=0){return Oe(this,g,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),h.prototype.writeBigInt64BE=_n(o(function(g,p=0){return Ie(this,g,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function ze(F,g,p,K,ue,Ee){if(p+K>F.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}o(ze,"checkIEEE754");function ve(F,g,p,K,ue){return g=+g,p=p>>>0,ue||ze(F,g,p,4,34028234663852886e22,-34028234663852886e22),b.write(F,g,p,K,23,4),p+4}o(ve,"writeFloat"),h.prototype.writeFloatLE=o(function(g,p,K){return ve(this,g,p,!0,K)},"writeFloatLE"),h.prototype.writeFloatBE=o(function(g,p,K){return ve(this,g,p,!1,K)},"writeFloatBE");function ie(F,g,p,K,ue){return g=+g,p=p>>>0,ue||ze(F,g,p,8,17976931348623157e292,-17976931348623157e292),b.write(F,g,p,K,52,8),p+8}o(ie,"writeDouble"),h.prototype.writeDoubleLE=o(function(g,p,K){return ie(this,g,p,!0,K)},"writeDoubleLE"),h.prototype.writeDoubleBE=o(function(g,p,K){return ie(this,g,p,!1,K)},"writeDoubleBE"),h.prototype.copy=o(function(g,p,K,ue){if(!h.isBuffer(g))throw new TypeError("argument should be a Buffer");if(K||(K=0),!ue&&ue!==0&&(ue=this.length),p>=g.length&&(p=g.length),p||(p=0),ue>0&&ue<K&&(ue=K),ue===K||g.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),g.length-p<ue-K&&(ue=g.length-p+K);const Ee=ue-K;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,K,ue):Uint8Array.prototype.set.call(g,this.subarray(K,ue),p),Ee},"copy"),h.prototype.fill=o(function(g,p,K,ue){if(typeof g=="string"){if(typeof p=="string"?(ue=p,p=0,K=this.length):typeof K=="string"&&(ue=K,K=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!h.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(g.length===1){const Pe=g.charCodeAt(0);(ue==="utf8"&&Pe<128||ue==="latin1")&&(g=Pe)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(p<0||this.length<p||this.length<K)throw new RangeError("Out of range index");if(K<=p)return this;p=p>>>0,K=K===void 0?this.length:K>>>0,g||(g=0);let Ee;if(typeof g=="number")for(Ee=p;Ee<K;++Ee)this[Ee]=g;else{const Pe=h.isBuffer(g)?g:h.from(g,ue),qt=Pe.length;if(qt===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(Ee=0;Ee<K-p;++Ee)this[Ee+p]=Pe[Ee%qt]}return this},"fill");const ye={};function Ce(F,g,p){ye[F]=o(class extends p{constructor(){super();Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,this.stack,delete this.name}get code(){return F}set code(ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ue,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}},"NodeError")}o(Ce,"E"),Ce("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ce("ERR_INVALID_ARG_TYPE",function(F,g){return`The "${F}" argument must be of type number. Received type ${typeof g}`},TypeError),Ce("ERR_OUT_OF_RANGE",function(F,g,p){let K=`The value of "${F}" is out of range.`,ue=p;return Number.isInteger(p)&&Math.abs(p)>2**32?ue=ce(String(p)):typeof p=="bigint"&&(ue=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(ue=ce(ue)),ue+="n"),K+=` It must be ${g}. Received ${ue}`,K},RangeError);function ce(F){let g="",p=F.length;const K=F[0]==="-"?1:0;for(;p>=K+4;p-=3)g=`_${F.slice(p-3,p)}${g}`;return`${F.slice(0,p)}${g}`}o(ce,"addNumericalSeparator");function Re(F,g,p){je(g,"offset"),(F[g]===void 0||F[g+p]===void 0)&&ot(g,F.length-(p+1))}o(Re,"checkBounds");function Te(F,g,p,K,ue,Ee){if(F>p||F<g){const Pe=typeof g=="bigint"?"n":"";let qt;throw Ee>3?g===0||g===BigInt(0)?qt=`>= 0${Pe} and < 2${Pe} ** ${(Ee+1)*8}${Pe}`:qt=`>= -(2${Pe} ** ${(Ee+1)*8-1}${Pe}) and < 2 ** ${(Ee+1)*8-1}${Pe}`:qt=`>= ${g}${Pe} and <= ${p}${Pe}`,new ye.ERR_OUT_OF_RANGE("value",qt,F)}Re(K,ue,Ee)}o(Te,"checkIntBI");function je(F,g){if(typeof F!="number")throw new ye.ERR_INVALID_ARG_TYPE(g,"number",F)}o(je,"validateNumber");function ot(F,g,p){throw Math.floor(F)!==F?(je(F,p),new ye.ERR_OUT_OF_RANGE(p||"offset","an integer",F)):g<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${g}`,F)}o(ot,"boundsError");const Ye=/[^+/0-9A-Za-z-_]/g;function jt(F){if(F=F.split("=")[0],F=F.trim().replace(Ye,""),F.length<2)return"";for(;F.length%4!=0;)F=F+"=";return F}o(jt,"base64clean");function Je(F,g){g=g||1/0;let p;const K=F.length;let ue=null;const Ee=[];for(let Pe=0;Pe<K;++Pe){if(p=F.charCodeAt(Pe),p>55295&&p<57344){if(!ue){if(p>56319){(g-=3)>-1&&Ee.push(239,191,189);continue}else if(Pe+1===K){(g-=3)>-1&&Ee.push(239,191,189);continue}ue=p;continue}if(p<56320){(g-=3)>-1&&Ee.push(239,191,189),ue=p;continue}p=(ue-55296<<10|p-56320)+65536}else ue&&(g-=3)>-1&&Ee.push(239,191,189);if(ue=null,p<128){if((g-=1)<0)break;Ee.push(p)}else if(p<2048){if((g-=2)<0)break;Ee.push(p>>6|192,p&63|128)}else if(p<65536){if((g-=3)<0)break;Ee.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((g-=4)<0)break;Ee.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return Ee}o(Je,"utf8ToBytes");function fn(F){const g=[];for(let p=0;p<F.length;++p)g.push(F.charCodeAt(p)&255);return g}o(fn,"asciiToBytes");function St(F,g){let p,K,ue;const Ee=[];for(let Pe=0;Pe<F.length&&!((g-=2)<0);++Pe)p=F.charCodeAt(Pe),K=p>>8,ue=p%256,Ee.push(ue),Ee.push(K);return Ee}o(St,"utf16leToBytes");function Ae(F){return E.toByteArray(jt(F))}o(Ae,"base64ToBytes");function xe(F,g,p,K){let ue;for(ue=0;ue<K&&!(ue+p>=g.length||ue>=F.length);++ue)g[ue+p]=F[ue];return ue}o(xe,"blitBuffer");function $e(F,g){return F instanceof g||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===g.name}o($e,"isInstance");function Nt(F){return F!==F}o(Nt,"numberIsNaN");const Sn=function(){const F="0123456789abcdef",g=new Array(256);for(let p=0;p<16;++p){const K=p*16;for(let ue=0;ue<16;++ue)g[K+ue]=F[p]+F[ue]}return g}();function _n(F){return typeof BigInt=="undefined"?Dn:F}o(_n,"defineBigIntMethod");function Dn(){throw new Error("BigInt not supported")}o(Dn,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(ae){const d=await strtok3.fromStream(ae);try{return await fromTokenizer(d)}finally{await d.close()}}o(fromStream,"fromStream");async function fromBuffer(ae){if(!(ae instanceof Uint8Array||ae instanceof ArrayBuffer||Buffer.isBuffer(ae)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof ae}\``);const d=ae instanceof Buffer?ae:Buffer.from(ae);if(!(d&&d.length>1))return;const T=strtok3.fromBuffer(d);return fromTokenizer(T)}o(fromBuffer,"fromBuffer");function _check(ae,d,T){T={offset:0,...T};for(const[E,b]of d.entries())if(T.mask){if(b!==(T.mask[E]&ae[E+T.offset]))return!1}else if(b!==ae[E+T.offset])return!1;return!0}o(_check,"_check");async function fromTokenizer(ae){try{return _fromTokenizer(ae)}catch(d){if(!(d instanceof strtok3.EndOfStreamError))throw d}}o(fromTokenizer,"fromTokenizer");async function _fromTokenizer(ae){let d=Buffer.alloc(minimumBytes);const T=12,E=o((w,k)=>_check(d,w,k),"check"),b=o((w,k)=>E(stringToBytes(w),k),"checkString");if(ae.fileInfo.size||(ae.fileInfo.size=Number.MAX_SAFE_INTEGER),await ae.peekBuffer(d,{length:T,mayBeLess:!0}),E([66,77]))return{ext:"bmp",mime:"image/bmp"};if(E([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(E([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(E([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(E([37,33]))return await ae.peekBuffer(d,{length:24,mayBeLess:!0}),b("PS-Adobe-",{offset:2})&&b(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(E([31,160])||E([31,157]))return{ext:"Z",mime:"application/x-compress"};if(E([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(E([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(E([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(E([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(b("ID3")){await ae.ignore(6);const w=await ae.readToken(uint32SyncSafeToken);return ae.position+w>ae.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await ae.ignore(w),fromTokenizer(ae))}if(b("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((d[0]===67||d[0]===70)&&E([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(E([71,73,70]))return{ext:"gif",mime:"image/gif"};if(b("FLIF"))return{ext:"flif",mime:"image/flif"};if(b("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(b("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(b("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(b("FORM"))return{ext:"aif",mime:"audio/aiff"};if(b("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(E([80,75,3,4])){try{for(;ae.position+30<ae.fileInfo.size;){await ae.readBuffer(d,{length:30});const w={compressedSize:d.readUInt32LE(18),uncompressedSize:d.readUInt32LE(22),filenameLength:d.readUInt16LE(26),extraFieldLength:d.readUInt16LE(28)};if(w.filename=await ae.readToken(new Token.StringType(w.filenameLength,"utf-8")),await ae.ignore(w.extraFieldLength),w.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(w.filename.endsWith(".rels")||w.filename.endsWith(".xml"))switch(w.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(w.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(w.filename.startsWith("3D/")&&w.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(w.filename==="mimetype"&&w.compressedSize===w.uncompressedSize)switch(await ae.readToken(new Token.StringType(w.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(w.compressedSize===0){let k=-1;for(;k<0&&ae.position<ae.fileInfo.size;)await ae.peekBuffer(d,{mayBeLess:!0}),k=d.indexOf("504B0304",0,"hex"),await ae.ignore(k>=0?k:d.length)}else await ae.ignore(w.compressedSize)}}catch(w){if(!(w instanceof strtok3.EndOfStreamError))throw w}return{ext:"zip",mime:"application/zip"}}if(b("OggS")){await ae.ignore(28);const w=Buffer.alloc(8);return await ae.readBuffer(w),_check(w,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(w,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(w,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(w,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(w,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(w,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(E([80,75])&&(d[2]===3||d[2]===5||d[2]===7)&&(d[3]===4||d[3]===6||d[3]===8))return{ext:"zip",mime:"application/zip"};if(b("ftyp",{offset:4})&&(d[8]&96)!=0){const w=d.toString("binary",8,12).replace("\0"," ").trim();switch(w){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return w.startsWith("3g")?w.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(b("MThd"))return{ext:"mid",mime:"audio/midi"};if(b("wOFF")&&(E([0,1,0,0],{offset:4})||b("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(b("wOF2")&&(E([0,1,0,0],{offset:4})||b("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(E([212,195,178,161])||E([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(b("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(b("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(b("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(E([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(b("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(b("%PDF")){await ae.ignore(1350);const w=10*1024*1024,k=Buffer.alloc(Math.min(w,ae.fileInfo.size));return await ae.readBuffer(k,{mayBeLess:!0}),k.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(E([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(E([73,73,42,0]))return b("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:E([28,0,254,0],{offset:8})||E([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:E([8,0,0,0],{offset:4})&&(E([45,0,254,0],{offset:8})||E([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(d=Buffer.alloc(24),await ae.peekBuffer(d),(E([16,251,134,1],{offset:4})||E([8,0,0,0],{offset:4}))&&E([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(E([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(b("MAC "))return{ext:"ape",mime:"audio/ape"};if(E([26,69,223,163])){async function w(){const _=await ae.peekNumber(Token.UINT8);let x=128,m=0;for(;(_&x)==0&&x!==0;)++m,x>>=1;const C=Buffer.alloc(m+1);return await ae.readBuffer(C),C}o(w,"readField");async function k(){const _=await w(),x=await w();x[0]^=128>>x.length-1;const m=Math.min(6,x.length);return{id:_.readUIntBE(0,_.length),len:x.readUIntBE(x.length-m,m)}}o(k,"readElement");async function z(_,x){for(;x>0;){const m=await k();if(m.id===17026)return ae.readToken(new Token.StringType(m.len,"utf-8"));await ae.ignore(m.len),--x}}o(z,"readChildren");const A=await k();switch(await z(1,A.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(E([82,73,70,70])){if(E([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(E([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(E([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(b("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(E([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(b("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(b("MSCF")||b("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(E([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(E([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(E([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(E([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(b("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(b("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(E([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(b("IMPM"))return{ext:"it",mime:"audio/x-it"};if(b("-lh0-",{offset:2})||b("-lh1-",{offset:2})||b("-lh2-",{offset:2})||b("-lh3-",{offset:2})||b("-lh4-",{offset:2})||b("-lh5-",{offset:2})||b("-lh6-",{offset:2})||b("-lh7-",{offset:2})||b("-lzs-",{offset:2})||b("-lz4-",{offset:2})||b("-lz5-",{offset:2})||b("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(E([0,0,1,186])){if(E([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(E([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(b("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(E([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(b("<?xml "))return{ext:"xml",mime:"application/xml"};if(E([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(E([82,97,114,33,26,7])&&(d[6]===0||d[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(b("solid "))return{ext:"stl",mime:"model/stl"};if(b("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(b("!<arch>"))return await ae.ignore(8),await ae.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(E([137,80,78,71,13,10,26,10])){await ae.ignore(8);async function w(){return{length:await ae.readToken(Token.INT32_BE),type:await ae.readToken(new Token.StringType(4,"binary"))}}o(w,"readChunkHeader");do{const k=await w();if(k.length<0)return;switch(k.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await ae.ignore(k.length+4)}}while(ae.position+8<ae.fileInfo.size);return{ext:"png",mime:"image/png"}}if(E([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(E([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(E([102,114,101,101],{offset:4})||E([109,100,97,116],{offset:4})||E([109,111,111,118],{offset:4})||E([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(E([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(b("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(E([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(E([48,38,178,117,142,102,207,17,166,217])){async function w(){const k=Buffer.alloc(16);return await ae.readBuffer(k),{id:k,size:Number(await ae.readToken(Token.UINT64_LE))}}for(o(w,"readHeader"),await ae.ignore(30);ae.position+24<ae.fileInfo.size;){const k=await w();let z=k.size-24;if(_check(k.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const A=Buffer.alloc(16);if(z-=await ae.readBuffer(A),_check(A,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(A,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await ae.ignore(z)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(E([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((E([126,16,4])||E([126,24,4]))&&E([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(E([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(E([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await ae.ignore(20),await ae.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(E([255,10])||E([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(E([0,0,1,186])||E([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(E([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(E([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(E([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(E([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await ae.peekBuffer(d,{length:Math.min(256,ae.fileInfo.size),mayBeLess:!0}),b("BEGIN:")){if(b("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(b("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(b("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(b("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(b("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(E([4,0,0,0])&&d.length>=16){const w=d.readUInt32LE(12);if(w>12&&d.length>=w+16)try{const k=d.slice(16,w+16).toString();if(JSON.parse(k).files)return{ext:"asar",mime:"application/x-asar"}}catch(k){}}if(E([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(b("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(E([71],{offset:4})&&(E([71],{offset:192})||E([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(E([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(E([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(E([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(E([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(E([76,80],{offset:34})&&(E([0,0,1],{offset:8})||E([1,0,2],{offset:8})||E([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(E([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await ae.peekBuffer(d,{length:Math.min(512,ae.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(d))return{ext:"tar",mime:"application/x-tar"};if(E([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(b("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(d.length>=2&&E([255,224],{offset:0,mask:[255,224]})){if(E([16],{offset:1,mask:[22]}))return E([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(E([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(E([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(E([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}o(_fromTokenizer,"_fromTokenizer");const stream=o(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const ae=new stream.PassThrough;let d;stream.pipeline?d=stream.pipeline(readableStream,ae,()=>{}):d=readableStream.pipe(ae);const T=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const E=await fromBuffer(T);ae.fileType=E}catch(E){reject(E)}resolve(d)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(ae,d,T)=>{"use strict";const E=T(6597),b=T(1);async function w(z){const A=await E.fromFile(z);try{return await b.fromTokenizer(A)}finally{await A.close()}}o(w,"fromFile");const k={fromFile:w};Object.assign(k,b),Object.defineProperty(k,"extensions",{get(){return b.extensions}}),Object.defineProperty(k,"mimeTypes",{get(){return b.mimeTypes}}),ae.exports=k},9898:ae=>{"use strict";ae.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(ae,d)=>{"use strict";d.stringToBytes=T=>[...T].map(E=>E.charCodeAt(0)),d.tarHeaderChecksumMatches=(T,E=0)=>{const b=parseInt(T.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(b))return!1;let w=8*32;for(let k=E;k<E+148;k++)w+=T[k];for(let k=E+156;k<E+512;k++)w+=T[k];return b===w},d.uint32SyncSafeToken={get:(T,E)=>T[E+3]&127|T[E+2]<<7|T[E+1]<<14|T[E]<<21,len:4}},7360:function(ae,d){var T,E,b;(function(w,k){E=[],T=k,b=typeof T=="function"?T.apply(d,E):T,b!==void 0&&(ae.exports=b)})(this,o(function(){function k(L){var B={single:function(P,R,D){if(!P||($(P)||(P=B.getPreparedSearch(P)),!R))return null;$(R)||(R=B.getPrepared(R));var O=D&&D.allowTypo!==void 0?D.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,J=O?B.algorithm:B.algorithmNoTypo;return J(P,R,P[0])},go:function(P,R,D){if(!P)return _;P=B.prepareSearch(P);var O=P[0],J=D&&D.threshold||L&&L.threshold||-9007199254740991,V=D&&D.limit||L&&L.limit||9007199254740991,te=D&&D.allowTypo!==void 0?D.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,he=te?B.algorithm:B.algorithmNoTypo,ge=0,re=0,G=R.length;if(D&&D.keys)for(var le=D.scoreFn||M,oe=D.keys,de=oe.length,pe=G-1;pe>=0;--pe){for(var me=R[pe],Me=new Array(de),_t=de-1;_t>=0;--_t){var qe=oe[_t],W=I(me,qe);if(!W){Me[_t]=null;continue}$(W)||(W=B.getPrepared(W)),Me[_t]=he(P,W,O)}Me.obj=me;var Oe=le(Me);Oe!==null&&(Oe<J||(Me.score=Oe,ge<V?(ee.add(Me),++ge):(++re,Oe>ee.peek().score&&ee.replaceTop(Me))))}else if(D&&D.key)for(var qe=D.key,pe=G-1;pe>=0;--pe){var me=R[pe],W=I(me,qe);if(!!W){$(W)||(W=B.getPrepared(W));var Ie=he(P,W,O);Ie!==null&&(Ie.score<J||(Ie={target:Ie.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Ie.score,indexes:Ie.indexes,obj:me},ge<V?(ee.add(Ie),++ge):(++re,Ie.score>ee.peek().score&&ee.replaceTop(Ie))))}}else for(var pe=G-1;pe>=0;--pe){var W=R[pe];if(!!W){$(W)||(W=B.getPrepared(W));var Ie=he(P,W,O);Ie!==null&&(Ie.score<J||(ge<V?(ee.add(Ie),++ge):(++re,Ie.score>ee.peek().score&&ee.replaceTop(Ie))))}}if(ge===0)return _;for(var ze=new Array(ge),pe=ge-1;pe>=0;--pe)ze[pe]=ee.poll();return ze.total=ge+re,ze},goAsync:function(P,R,D){var O=!1,J=new Promise(function(V,te){if(!P)return V(_);P=B.prepareSearch(P);var he=P[0],ge=Q(),re=R.length-1,G=D&&D.threshold||L&&L.threshold||-9007199254740991,le=D&&D.limit||L&&L.limit||9007199254740991,oe=D&&D.allowTypo!==void 0?D.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,de=oe?B.algorithm:B.algorithmNoTypo,pe=0,me=0;function Me(){if(O)return te("canceled");var _t=Date.now();if(D&&D.keys)for(var qe=D.scoreFn||M,W=D.keys,Oe=W.length;re>=0;--re){for(var Ie=R[re],ze=new Array(Oe),ve=Oe-1;ve>=0;--ve){var ie=W[ve],ye=I(Ie,ie);if(!ye){ze[ve]=null;continue}$(ye)||(ye=B.getPrepared(ye)),ze[ve]=de(P,ye,he)}ze.obj=Ie;var Ce=qe(ze);if(Ce!==null&&!(Ce<G)&&(ze.score=Ce,pe<le?(ge.add(ze),++pe):(++me,Ce>ge.peek().score&&ge.replaceTop(ze)),re%1e3==0&&Date.now()-_t>=10)){z?setImmediate(Me):setTimeout(Me);return}}else if(D&&D.key)for(var ie=D.key;re>=0;--re){var Ie=R[re],ye=I(Ie,ie);if(!!ye){$(ye)||(ye=B.getPrepared(ye));var ce=de(P,ye,he);if(ce!==null&&!(ce.score<G)&&(ce={target:ce.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:ce.score,indexes:ce.indexes,obj:Ie},pe<le?(ge.add(ce),++pe):(++me,ce.score>ge.peek().score&&ge.replaceTop(ce)),re%1e3==0&&Date.now()-_t>=10)){z?setImmediate(Me):setTimeout(Me);return}}}else for(;re>=0;--re){var ye=R[re];if(!!ye){$(ye)||(ye=B.getPrepared(ye));var ce=de(P,ye,he);if(ce!==null&&!(ce.score<G)&&(pe<le?(ge.add(ce),++pe):(++me,ce.score>ge.peek().score&&ge.replaceTop(ce)),re%1e3==0&&Date.now()-_t>=10)){z?setImmediate(Me):setTimeout(Me);return}}}if(pe===0)return V(_);for(var Re=new Array(pe),Te=pe-1;Te>=0;--Te)Re[Te]=ge.poll();Re.total=pe+me,V(Re)}o(Me,"step"),z?setImmediate(Me):Me()});return J.cancel=function(){O=!0},J},highlight:function(P,R,D){if(P===null)return null;R===void 0&&(R="<b>"),D===void 0&&(D="</b>");for(var O="",J=0,V=!1,te=P.target,he=te.length,ge=P.indexes,re=0;re<he;++re){var G=te[re];if(ge[J]===re){if(++J,V||(V=!0,O+=R),J===ge.length){O+=G+D+te.substr(re+1);break}}else V&&(V=!1,O+=D);O+=G}return O},prepare:function(P){if(!!P)return{target:P,_targetLowerCodes:B.prepareLowerCodes(P),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(P){if(!!P)return{target:P,_targetLowerCodes:B.prepareLowerCodes(P),_nextBeginningIndexes:B.prepareNextBeginningIndexes(P),score:null,indexes:null,obj:null}},prepareSearch:function(P){if(!!P)return B.prepareLowerCodes(P)},getPrepared:function(P){if(P.length>999)return B.prepare(P);var R=A.get(P);return R!==void 0||(R=B.prepare(P),A.set(P,R)),R},getPreparedSearch:function(P){if(P.length>999)return B.prepareSearch(P);var R=h.get(P);return R!==void 0||(R=B.prepareSearch(P),h.set(P,R)),R},algorithm:function(P,R,D){for(var O=R._targetLowerCodes,J=P.length,V=O.length,te=0,he=0,ge=0,re=0;;){var G=D===O[he];if(G){if(x[re++]=he,++te,te===J)break;D=P[ge===0?te:ge===te?te+1:ge===te-1?te-1:te]}if(++he,he>=V)for(;;){if(te<=1)return null;if(ge===0){--te;var le=P[te];if(D===le)continue;ge=te}else{if(ge===1)return null;--ge,te=ge,D=P[te+1];var le=P[te];if(D===le)continue}re=te,he=x[re-1]+1;break}}var te=0,oe=0,de=!1,pe=0,me=R._nextBeginningIndexes;me===null&&(me=R._nextBeginningIndexes=B.prepareNextBeginningIndexes(R.target));var Me=he=x[0]===0?0:me[x[0]-1];if(he!==V)for(;;)if(he>=V){if(te<=0){if(++oe,oe>J-2)break;if(P[oe]===P[oe+1])continue;he=Me;continue}--te;var _t=m[--pe];he=me[_t]}else{var G=P[oe===0?te:oe===te?te+1:oe===te-1?te-1:te]===O[he];if(G){if(m[pe++]=he,++te,te===J){de=!0;break}++he}else he=me[he]}{if(de)var qe=m,W=pe;else var qe=x,W=re;for(var Oe=0,Ie=-1,ze=0;ze<J;++ze){var he=qe[ze];Ie!==he-1&&(Oe-=he),Ie=he}de?oe!==0&&(Oe+=-20):(Oe*=1e3,ge!==0&&(Oe+=-20)),Oe-=V-J,R.score=Oe,R.indexes=new Array(W);for(var ze=W-1;ze>=0;--ze)R.indexes[ze]=qe[ze];return R}},algorithmNoTypo:function(P,R,D){for(var O=R._targetLowerCodes,J=P.length,V=O.length,te=0,he=0,ge=0;;){var re=D===O[he];if(re){if(x[ge++]=he,++te,te===J)break;D=P[te]}if(++he,he>=V)return null}var te=0,G=!1,le=0,oe=R._nextBeginningIndexes;oe===null&&(oe=R._nextBeginningIndexes=B.prepareNextBeginningIndexes(R.target));var de=he=x[0]===0?0:oe[x[0]-1];if(he!==V)for(;;)if(he>=V){if(te<=0)break;--te;var pe=m[--le];he=oe[pe]}else{var re=P[te]===O[he];if(re){if(m[le++]=he,++te,te===J){G=!0;break}++he}else he=oe[he]}{if(G)var me=m,Me=le;else var me=x,Me=ge;for(var _t=0,qe=-1,W=0;W<J;++W){var he=me[W];qe!==he-1&&(_t-=he),qe=he}G||(_t*=1e3),_t-=V-J,R.score=_t,R.indexes=new Array(Me);for(var W=Me-1;W>=0;--W)R.indexes[W]=me[W];return R}},prepareLowerCodes:function(P){for(var R=P.length,D=[],O=P.toLowerCase(),J=0;J<R;++J)D[J]=O.charCodeAt(J);return D},prepareBeginningIndexes:function(P){for(var R=P.length,D=[],O=0,J=!1,V=!1,te=0;te<R;++te){var he=P.charCodeAt(te),ge=he>=65&&he<=90,re=ge||he>=97&&he<=122||he>=48&&he<=57,G=ge&&!J||!V||!re;J=ge,V=re,G&&(D[O++]=te)}return D},prepareNextBeginningIndexes:function(P){for(var R=P.length,D=B.prepareBeginningIndexes(P),O=[],J=D[0],V=0,te=0;te<R;++te)J>te?O[te]=J:(J=D[++V],O[te]=J===void 0?R:J);return O},cleanup:C,new:k};return B}o(k,"fuzzysortNew");var z=typeof window=="undefined",A=new Map,h=new Map,_=[];_.total=0;var x=[],m=[];function C(){A.clear(),h.clear(),x=[],m=[]}o(C,"cleanup");function M(L){for(var B=-9007199254740991,P=L.length-1;P>=0;--P){var R=L[P];if(R!==null){var D=R.score;D>B&&(B=D)}}return B===-9007199254740991?null:B}o(M,"defaultScoreFn");function I(L,B){var P=L[B];if(P!==void 0)return P;var R=B;Array.isArray(B)||(R=B.split("."));for(var D=R.length,O=-1;L&&++O<D;)L=L[R[O]];return L}o(I,"getValue");function $(L){return typeof L=="object"}o($,"isObj");var Q=o(function(){var L=[],B=0,P={};function R(){for(var D=0,O=L[D],J=1;J<B;){var V=J+1;D=J,V<B&&L[V].score<L[J].score&&(D=V),L[D-1>>1]=L[D],J=1+(D<<1)}for(var te=D-1>>1;D>0&&O.score<L[te].score;te=(D=te)-1>>1)L[D]=L[te];L[D]=O}return o(R,"n"),P.add=function(D){var O=B;L[B++]=D;for(var J=O-1>>1;O>0&&D.score<L[J].score;J=(O=J)-1>>1)L[O]=L[J];L[O]=D},P.poll=function(){if(B!==0){var D=L[0];return L[0]=L[--B],R(),D}},P.peek=function(D){if(B!==0)return L[0]},P.replaceTop=function(D){L[0]=D,R()},P},"fastpriorityqueue"),ee=Q();return k()},"UMD"))},645:(ae,d)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(T,E,b,w,k){var z,A,h=k*8-w-1,_=(1<<h)-1,x=_>>1,m=-7,C=b?k-1:0,M=b?-1:1,I=T[E+C];for(C+=M,z=I&(1<<-m)-1,I>>=-m,m+=h;m>0;z=z*256+T[E+C],C+=M,m-=8);for(A=z&(1<<-m)-1,z>>=-m,m+=w;m>0;A=A*256+T[E+C],C+=M,m-=8);if(z===0)z=1-x;else{if(z===_)return A?NaN:(I?-1:1)*(1/0);A=A+Math.pow(2,w),z=z-x}return(I?-1:1)*A*Math.pow(2,z-w)},d.write=function(T,E,b,w,k,z){var A,h,_,x=z*8-k-1,m=(1<<x)-1,C=m>>1,M=k===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=w?0:z-1,$=w?1:-1,Q=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(h=isNaN(E)?1:0,A=m):(A=Math.floor(Math.log(E)/Math.LN2),E*(_=Math.pow(2,-A))<1&&(A--,_*=2),A+C>=1?E+=M/_:E+=M*Math.pow(2,1-C),E*_>=2&&(A++,_/=2),A+C>=m?(h=0,A=m):A+C>=1?(h=(E*_-1)*Math.pow(2,k),A=A+C):(h=E*Math.pow(2,C-1)*Math.pow(2,k),A=0));k>=8;T[b+I]=h&255,I+=$,h/=256,k-=8);for(A=A<<k|h,x+=k;x>0;T[b+I]=A&255,I+=$,A/=256,x-=8);T[b+I-$]|=Q*128}},3300:(ae,d)=>{"use strict";var T=o(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof E!="undefined")return E;throw new Error("unable to locate global object")},"getGlobal"),E=T();ae.exports=d=E.fetch,E.fetch&&(d.default=E.fetch.bind(E)),d.Headers=E.Headers,d.Request=E.Request,d.Response=E.Response},447:(ae,d,T)=>{var E=T(2479);ae.exports=E(b),ae.exports.strict=E(w),b.proto=b(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return b(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})});function b(k){var z=o(function(){return z.called?z.value:(z.called=!0,z.value=k.apply(this,arguments))},"f");return z.called=!1,z}o(b,"once");function w(k){var z=o(function(){if(z.called)throw new Error(z.onceError);return z.called=!0,z.value=k.apply(this,arguments)},"f"),A=k.name||"Function wrapped with `once`";return z.onceError=A+" shouldn't be called more than once",z.called=!1,z}o(w,"onceStrict")},6470:(ae,d,T)=>{"use strict";var E=T(4155);function b(A){if(typeof A!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(A))}o(b,"assertPath");function w(A,h){for(var _="",x=0,m=-1,C=0,M,I=0;I<=A.length;++I){if(I<A.length)M=A.charCodeAt(I);else{if(M===47)break;M=47}if(M===47){if(!(m===I-1||C===1))if(m!==I-1&&C===2){if(_.length<2||x!==2||_.charCodeAt(_.length-1)!==46||_.charCodeAt(_.length-2)!==46){if(_.length>2){var $=_.lastIndexOf("/");if($!==_.length-1){$===-1?(_="",x=0):(_=_.slice(0,$),x=_.length-1-_.lastIndexOf("/")),m=I,C=0;continue}}else if(_.length===2||_.length===1){_="",x=0,m=I,C=0;continue}}h&&(_.length>0?_+="/..":_="..",x=2)}else _.length>0?_+="/"+A.slice(m+1,I):_=A.slice(m+1,I),x=I-m-1;m=I,C=0}else M===46&&C!==-1?++C:C=-1}return _}o(w,"normalizeStringPosix");function k(A,h){var _=h.dir||h.root,x=h.base||(h.name||"")+(h.ext||"");return _?_===h.root?_+x:_+A+x:x}o(k,"_format");var z={resolve:o(function(){for(var h="",_=!1,x,m=arguments.length-1;m>=-1&&!_;m--){var C;m>=0?C=arguments[m]:(x===void 0&&(x=E.cwd()),C=x),b(C),C.length!==0&&(h=C+"/"+h,_=C.charCodeAt(0)===47)}return h=w(h,!_),_?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:o(function(h){if(b(h),h.length===0)return".";var _=h.charCodeAt(0)===47,x=h.charCodeAt(h.length-1)===47;return h=w(h,!_),h.length===0&&!_&&(h="."),h.length>0&&x&&(h+="/"),_?"/"+h:h},"normalize"),isAbsolute:o(function(h){return b(h),h.length>0&&h.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var h,_=0;_<arguments.length;++_){var x=arguments[_];b(x),x.length>0&&(h===void 0?h=x:h+="/"+x)}return h===void 0?".":z.normalize(h)},"join"),relative:o(function(h,_){if(b(h),b(_),h===_||(h=z.resolve(h),_=z.resolve(_),h===_))return"";for(var x=1;x<h.length&&h.charCodeAt(x)===47;++x);for(var m=h.length,C=m-x,M=1;M<_.length&&_.charCodeAt(M)===47;++M);for(var I=_.length,$=I-M,Q=C<$?C:$,ee=-1,L=0;L<=Q;++L){if(L===Q){if($>Q){if(_.charCodeAt(M+L)===47)return _.slice(M+L+1);if(L===0)return _.slice(M+L)}else C>Q&&(h.charCodeAt(x+L)===47?ee=L:L===0&&(ee=0));break}var B=h.charCodeAt(x+L),P=_.charCodeAt(M+L);if(B!==P)break;B===47&&(ee=L)}var R="";for(L=x+ee+1;L<=m;++L)(L===m||h.charCodeAt(L)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+_.slice(M+ee):(M+=ee,_.charCodeAt(M)===47&&++M,_.slice(M))},"relative"),_makeLong:o(function(h){return h},"_makeLong"),dirname:o(function(h){if(b(h),h.length===0)return".";for(var _=h.charCodeAt(0),x=_===47,m=-1,C=!0,M=h.length-1;M>=1;--M)if(_=h.charCodeAt(M),_===47){if(!C){m=M;break}}else C=!1;return m===-1?x?"/":".":x&&m===1?"//":h.slice(0,m)},"dirname"),basename:o(function(h,_){if(_!==void 0&&typeof _!="string")throw new TypeError('"ext" argument must be a string');b(h);var x=0,m=-1,C=!0,M;if(_!==void 0&&_.length>0&&_.length<=h.length){if(_.length===h.length&&_===h)return"";var I=_.length-1,$=-1;for(M=h.length-1;M>=0;--M){var Q=h.charCodeAt(M);if(Q===47){if(!C){x=M+1;break}}else $===-1&&(C=!1,$=M+1),I>=0&&(Q===_.charCodeAt(I)?--I==-1&&(m=M):(I=-1,m=$))}return x===m?m=$:m===-1&&(m=h.length),h.slice(x,m)}else{for(M=h.length-1;M>=0;--M)if(h.charCodeAt(M)===47){if(!C){x=M+1;break}}else m===-1&&(C=!1,m=M+1);return m===-1?"":h.slice(x,m)}},"basename"),extname:o(function(h){b(h);for(var _=-1,x=0,m=-1,C=!0,M=0,I=h.length-1;I>=0;--I){var $=h.charCodeAt(I);if($===47){if(!C){x=I+1;break}continue}m===-1&&(C=!1,m=I+1),$===46?_===-1?_=I:M!==1&&(M=1):_!==-1&&(M=-1)}return _===-1||m===-1||M===0||M===1&&_===m-1&&_===x+1?"":h.slice(_,m)},"extname"),format:o(function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return k("/",h)},"format"),parse:o(function(h){b(h);var _={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return _;var x=h.charCodeAt(0),m=x===47,C;m?(_.root="/",C=1):C=0;for(var M=-1,I=0,$=-1,Q=!0,ee=h.length-1,L=0;ee>=C;--ee){if(x=h.charCodeAt(ee),x===47){if(!Q){I=ee+1;break}continue}$===-1&&(Q=!1,$=ee+1),x===46?M===-1?M=ee:L!==1&&(L=1):M!==-1&&(L=-1)}return M===-1||$===-1||L===0||L===1&&M===$-1&&M===I+1?$!==-1&&(I===0&&m?_.base=_.name=h.slice(1,$):_.base=_.name=h.slice(I,$)):(I===0&&m?(_.name=h.slice(1,M),_.base=h.slice(1,$)):(_.name=h.slice(I,M),_.base=h.slice(I,$)),_.ext=h.slice(M,$)),I>0?_.dir=h.slice(0,I-1):m&&(_.dir="/"),_},"parse"),sep:"/",delimiter:":",win32:null,posix:null};z.posix=z,ae.exports=z},8985:(ae,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Deferred=void 0;class T{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((b,w)=>{this.reject=w,this.resolve=b})}}o(T,"Deferred"),d.Deferred=T},7279:(ae,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class T extends Error{constructor(){super(d.defaultMessages)}}o(T,"EndOfStreamError"),d.EndOfStreamError=T},6654:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const E=T(7279),b=T(8985);var w=T(7279);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});const k=1*1024*1024;class z{constructor(h){if(this.s=h,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!h.read||!h.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new E.EndOfStreamError)),this.s.once("error",_=>this.reject(_)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(h,_,x){const m=await this.read(h,_,x);return this.peekQueue.push(h.subarray(_,_+m)),m}async read(h,_,x){if(x===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new E.EndOfStreamError;let m=x,C=0;for(;this.peekQueue.length>0&&m>0;){const M=this.peekQueue.pop();if(!M)throw new Error("peekData should be defined");const I=Math.min(M.length,m);h.set(M.subarray(0,I),_+C),C+=I,m-=I,I<M.length&&this.peekQueue.push(M.subarray(I))}for(;m>0&&!this.endOfStream;){const M=Math.min(m,k),I=await this.readFromStream(h,_+C,M);if(C+=I,I<M)break;m-=I}return C}async readFromStream(h,_,x){const m=this.s.read(x);if(m)return h.set(m,_),m.length;{const C={buffer:h,offset:_,length:x,deferred:new b.Deferred};return this.deferred=C.deferred,this.s.once("readable",()=>{this.readDeferred(C)}),C.deferred.promise}}readDeferred(h){const _=this.s.read(h.length);_?(h.buffer.set(_,h.offset),h.deferred.resolve(_.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(h)})}reject(h){this.endOfStream=!0,this.deferred&&(this.deferred.reject(h),this.deferred=null)}}o(z,"StreamReader"),d.StreamReader=z},5167:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var E=T(7279);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return E.EndOfStreamError}});var b=T(6654);Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return b.StreamReader}})},4155:ae=>{var d=ae.exports={},T,E;function b(){throw new Error("setTimeout has not been defined")}o(b,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}o(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?T=setTimeout:T=b}catch($){T=b}try{typeof clearTimeout=="function"?E=clearTimeout:E=w}catch($){E=w}}();function k($){if(T===setTimeout)return setTimeout($,0);if((T===b||!T)&&setTimeout)return T=setTimeout,setTimeout($,0);try{return T($,0)}catch(Q){try{return T.call(null,$,0)}catch(ee){return T.call(this,$,0)}}}o(k,"runTimeout");function z($){if(E===clearTimeout)return clearTimeout($);if((E===w||!E)&&clearTimeout)return E=clearTimeout,clearTimeout($);try{return E($)}catch(Q){try{return E.call(null,$)}catch(ee){return E.call(this,$)}}}o(z,"runClearTimeout");var A=[],h=!1,_,x=-1;function m(){!h||!_||(h=!1,_.length?A=_.concat(A):x=-1,A.length&&C())}o(m,"cleanUpNextTick");function C(){if(!h){var $=k(m);h=!0;for(var Q=A.length;Q;){for(_=A,A=[];++x<Q;)_&&_[x].run();x=-1,Q=A.length}_=null,h=!1,z($)}}o(C,"drainQueue"),d.nextTick=function($){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var ee=1;ee<arguments.length;ee++)Q[ee-1]=arguments[ee];A.push(new M($,Q)),A.length===1&&!h&&k(C)};function M($,Q){this.fun=$,this.array=Q}o(M,"Item"),M.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={};function I(){}o(I,"noop"),d.on=I,d.addListener=I,d.once=I,d.off=I,d.removeListener=I,d.removeAllListeners=I,d.emit=I,d.prependListener=I,d.prependOnceListener=I,d.listeners=function($){return[]},d.binding=function($){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function($){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},842:(ae,d,T)=>{"use strict";var E=T(8764).Buffer;Object.defineProperty(d,"__esModule",{value:!0}),d.AbstractTokenizer=void 0;const b=T(5167);class w{constructor(z){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=z||{}}async readToken(z,A=this.position){const h=E.alloc(z.len);if(await this.readBuffer(h,{position:A})<z.len)throw new b.EndOfStreamError;return z.get(h,0)}async peekToken(z,A=this.position){const h=E.alloc(z.len);if(await this.peekBuffer(h,{position:A})<z.len)throw new b.EndOfStreamError;return z.get(h,0)}async readNumber(z){if(await this.readBuffer(this.numBuffer,{length:z.len})<z.len)throw new b.EndOfStreamError;return z.get(this.numBuffer,0)}async peekNumber(z){if(await this.peekBuffer(this.numBuffer,{length:z.len})<z.len)throw new b.EndOfStreamError;return z.get(this.numBuffer,0)}async ignore(z){if(this.fileInfo.size!==void 0){const A=this.fileInfo.size-this.position;if(z>A)return this.position+=A,A}return this.position+=z,z}async close(){}normalizeOptions(z,A){if(A&&A.position!==void 0&&A.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return A?{mayBeLess:A.mayBeLess===!0,offset:A.offset?A.offset:0,length:A.length?A.length:z.length-(A.offset?A.offset:0),position:A.position?A.position:this.position}:{mayBeLess:!1,offset:0,length:z.length,position:this.position}}}o(w,"AbstractTokenizer"),d.AbstractTokenizer=w},778:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BufferTokenizer=void 0;const E=T(5167),b=T(842);class w extends b.AbstractTokenizer{constructor(z,A){super(A);this.uint8Array=z,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:z.length}async readBuffer(z,A){if(A&&A.position){if(A.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=A.position}const h=await this.peekBuffer(z,A);return this.position+=h,h}async peekBuffer(z,A){const h=this.normalizeOptions(z,A),_=Math.min(this.uint8Array.length-h.position,h.length);if(!h.mayBeLess&&_<h.length)throw new E.EndOfStreamError;return z.set(this.uint8Array.subarray(h.position,h.position+_),h.offset),_}async close(){}}o(w,"BufferTokenizer"),d.BufferTokenizer=w},7859:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.fromFile=d.FileTokenizer=void 0;const E=T(842),b=T(5167),w=T(7209);class k extends E.AbstractTokenizer{constructor(h,_){super(_);this.fd=h}async readBuffer(h,_){const x=this.normalizeOptions(h,_);this.position=x.position;const m=await w.read(this.fd,h,x.offset,x.length,x.position);if(this.position+=m.bytesRead,m.bytesRead<x.length&&(!_||!_.mayBeLess))throw new b.EndOfStreamError;return m.bytesRead}async peekBuffer(h,_){const x=this.normalizeOptions(h,_),m=await w.read(this.fd,h,x.offset,x.length,x.position);if(!x.mayBeLess&&m.bytesRead<x.length)throw new b.EndOfStreamError;return m.bytesRead}async close(){return w.close(this.fd)}}o(k,"FileTokenizer"),d.FileTokenizer=k;async function z(A){const h=await w.stat(A);if(!h.isFile)throw new Error(`File not a file: ${A}`);const _=await w.open(A,"r");return new k(_,{path:A,size:h.size})}o(z,"fromFile"),d.fromFile=z},7209:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.readFile=d.writeFileSync=d.writeFile=d.read=d.open=d.close=d.stat=d.createReadStream=d.pathExists=void 0;const E=T(4059);d.pathExists=E.existsSync,d.createReadStream=E.createReadStream;async function b(x){return new Promise((m,C)=>{E.stat(x,(M,I)=>{M?C(M):m(I)})})}o(b,"stat"),d.stat=b;async function w(x){return new Promise((m,C)=>{E.close(x,M=>{M?C(M):m()})})}o(w,"close"),d.close=w;async function k(x,m){return new Promise((C,M)=>{E.open(x,m,(I,$)=>{I?M(I):C($)})})}o(k,"open"),d.open=k;async function z(x,m,C,M,I){return new Promise(($,Q)=>{E.read(x,m,C,M,I,(ee,L,B)=>{ee?Q(ee):$({bytesRead:L,buffer:B})})})}o(z,"read"),d.read=z;async function A(x,m){return new Promise((C,M)=>{E.writeFile(x,m,I=>{I?M(I):C()})})}o(A,"writeFile"),d.writeFile=A;function h(x,m){E.writeFileSync(x,m)}o(h,"writeFileSync"),d.writeFileSync=h;async function _(x){return new Promise((m,C)=>{E.readFile(x,(M,I)=>{M?C(M):m(I)})})}o(_,"readFile"),d.readFile=_},599:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ReadStreamTokenizer=void 0;const E=T(842),b=T(5167),w=256e3;class k extends E.AbstractTokenizer{constructor(A,h){super(h);this.streamReader=new b.StreamReader(A)}async getFileInfo(){return this.fileInfo}async readBuffer(A,h){const _=this.normalizeOptions(A,h),x=_.position-this.position;if(x>0)return await this.ignore(x),this.readBuffer(A,h);if(x<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(_.length===0)return 0;const m=await this.streamReader.read(A,_.offset,_.length);if(this.position+=m,(!h||!h.mayBeLess)&&m<_.length)throw new b.EndOfStreamError;return m}async peekBuffer(A,h){const _=this.normalizeOptions(A,h);let x=0;if(_.position){const m=_.position-this.position;if(m>0){const C=new Uint8Array(_.length+m);return x=await this.peekBuffer(C,{mayBeLess:_.mayBeLess}),A.set(C.subarray(m),_.offset),x-m}else if(m<0)throw new Error("Cannot peek from a negative offset in a stream")}if(_.length>0){try{x=await this.streamReader.peek(A,_.offset,_.length)}catch(m){if(h&&h.mayBeLess&&m instanceof b.EndOfStreamError)return 0;throw m}if(!_.mayBeLess&&x<_.length)throw new b.EndOfStreamError}return x}async ignore(A){const h=Math.min(w,A),_=new Uint8Array(h);let x=0;for(;x<A;){const m=A-x,C=await this.readBuffer(_,{length:Math.min(h,m)});if(C<0)return C;x+=C}return x}}o(k,"ReadStreamTokenizer"),d.ReadStreamTokenizer=k},5849:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const E=T(599),b=T(778);var w=T(5167);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});function k(A,h){return h=h||{},new E.ReadStreamTokenizer(A,h)}o(k,"fromStream"),d.fromStream=k;function z(A,h){return new b.BufferTokenizer(A,h)}o(z,"fromBuffer"),d.fromBuffer=z},6597:(ae,d,T)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.fromStream=d.fromBuffer=d.EndOfStreamError=d.fromFile=void 0;const E=T(7209),b=T(5849);var w=T(7859);Object.defineProperty(d,"fromFile",{enumerable:!0,get:function(){return w.fromFile}});var k=T(5849);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return k.EndOfStreamError}}),Object.defineProperty(d,"fromBuffer",{enumerable:!0,get:function(){return k.fromBuffer}});async function z(A,h){if(h=h||{},A.path){const _=await E.stat(A.path);h.path=A.path,h.size=_.size}return b.fromStream(A,h)}o(z,"fromStream"),d.fromStream=z},3416:(ae,d,T)=>{"use strict";var E=T(8764).Buffer;Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const b=T(645);function w(x){return new DataView(x.buffer,x.byteOffset)}o(w,"dv"),d.UINT8={len:1,get(x,m){return w(x).getUint8(m)},put(x,m,C){return w(x).setUint8(m,C),m+1}},d.UINT16_LE={len:2,get(x,m){return w(x).getUint16(m,!0)},put(x,m,C){return w(x).setUint16(m,C,!0),m+2}},d.UINT16_BE={len:2,get(x,m){return w(x).getUint16(m)},put(x,m,C){return w(x).setUint16(m,C),m+2}},d.UINT24_LE={len:3,get(x,m){const C=w(x);return C.getUint8(m)+(C.getUint16(m+1,!0)<<8)},put(x,m,C){const M=w(x);return M.setUint8(m,C&255),M.setUint16(m+1,C>>8,!0),m+3}},d.UINT24_BE={len:3,get(x,m){const C=w(x);return(C.getUint16(m)<<8)+C.getUint8(m+2)},put(x,m,C){const M=w(x);return M.setUint16(m,C>>8),M.setUint8(m+2,C&255),m+3}},d.UINT32_LE={len:4,get(x,m){return w(x).getUint32(m,!0)},put(x,m,C){return w(x).setUint32(m,C,!0),m+4}},d.UINT32_BE={len:4,get(x,m){return w(x).getUint32(m)},put(x,m,C){return w(x).setUint32(m,C),m+4}},d.INT8={len:1,get(x,m){return w(x).getInt8(m)},put(x,m,C){return w(x).setInt8(m,C),m+2}},d.INT16_BE={len:2,get(x,m){return w(x).getInt16(m)},put(x,m,C){return w(x).setInt16(m,C),m+2}},d.INT16_LE={len:2,get(x,m){return w(x).getInt16(m,!0)},put(x,m,C){return w(x).setInt16(m,C,!0),m+2}},d.INT24_LE={len:3,get(x,m){const C=d.UINT24_LE.get(x,m);return C>8388607?C-16777216:C},put(x,m,C){const M=w(x);return M.setUint8(m,C&255),M.setUint16(m+1,C>>8,!0),m+3}},d.INT24_BE={len:3,get(x,m){const C=d.UINT24_BE.get(x,m);return C>8388607?C-16777216:C},put(x,m,C){const M=w(x);return M.setUint16(m,C>>8),M.setUint8(m+2,C&255),m+3}},d.INT32_BE={len:4,get(x,m){return w(x).getInt32(m)},put(x,m,C){return w(x).setInt32(m,C),m+4}},d.INT32_LE={len:4,get(x,m){return w(x).getInt32(m,!0)},put(x,m,C){return w(x).setInt32(m,C,!0),m+4}},d.UINT64_LE={len:8,get(x,m){return w(x).getBigUint64(m,!0)},put(x,m,C){return w(x).setBigUint64(m,C,!0),m+8}},d.INT64_LE={len:8,get(x,m){return w(x).getBigInt64(m,!0)},put(x,m,C){return w(x).setBigInt64(m,C,!0),m+8}},d.UINT64_BE={len:8,get(x,m){return w(x).getBigUint64(m)},put(x,m,C){return w(x).setBigUint64(m,C),m+8}},d.INT64_BE={len:8,get(x,m){return w(x).getBigInt64(m)},put(x,m,C){return w(x).setBigInt64(m,C),m+8}},d.Float16_BE={len:2,get(x,m){return b.read(x,m,!1,10,this.len)},put(x,m,C){return b.write(x,C,m,!1,10,this.len),m+this.len}},d.Float16_LE={len:2,get(x,m){return b.read(x,m,!0,10,this.len)},put(x,m,C){return b.write(x,C,m,!0,10,this.len),m+this.len}},d.Float32_BE={len:4,get(x,m){return w(x).getFloat32(m)},put(x,m,C){return w(x).setFloat32(m,C),m+4}},d.Float32_LE={len:4,get(x,m){return w(x).getFloat32(m,!0)},put(x,m,C){return w(x).setFloat32(m,C,!0),m+4}},d.Float64_BE={len:8,get(x,m){return w(x).getFloat64(m)},put(x,m,C){return w(x).setFloat64(m,C),m+8}},d.Float64_LE={len:8,get(x,m){return w(x).getFloat64(m,!0)},put(x,m,C){return w(x).setFloat64(m,C,!0),m+8}},d.Float80_BE={len:10,get(x,m){return b.read(x,m,!1,63,this.len)},put(x,m,C){return b.write(x,C,m,!1,63,this.len),m+this.len}},d.Float80_LE={len:10,get(x,m){return b.read(x,m,!0,63,this.len)},put(x,m,C){return b.write(x,C,m,!0,63,this.len),m+this.len}};class k{constructor(m){this.len=m}get(m,C){}}o(k,"IgnoreType"),d.IgnoreType=k;class z{constructor(m){this.len=m}get(m,C){return m.subarray(C,C+this.len)}}o(z,"Uint8ArrayType"),d.Uint8ArrayType=z;class A{constructor(m){this.len=m}get(m,C){return E.from(m.subarray(C,C+this.len))}}o(A,"BufferType"),d.BufferType=A;class h{constructor(m,C){this.len=m,this.encoding=C}get(m,C){return E.from(m).toString(this.encoding,C,C+this.len)}}o(h,"StringType"),d.StringType=h;class _{constructor(m){this.len=m}static decode(m,C,M){let I="";for(let $=C;$<M;++$)I+=_.codePointToString(_.singleByteDecoder(m[$]));return I}static inRange(m,C,M){return C<=m&&m<=M}static codePointToString(m){return m<=65535?String.fromCharCode(m):(m-=65536,String.fromCharCode((m>>10)+55296,(m&1023)+56320))}static singleByteDecoder(m){if(_.inRange(m,0,127))return m;const C=_.windows1252[m-128];if(C===null)throw Error("invaliding encoding");return C}get(m,C=0){return _.decode(m,C,C+this.len)}}o(_,"AnsiStringType"),d.AnsiStringType=_,_.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},2479:ae=>{ae.exports=d;function d(T,E){if(T&&E)return d(T)(E);if(typeof T!="function")throw new TypeError("need wrapper function");return Object.keys(T).forEach(function(w){b[w]=T[w]}),b;function b(){for(var w=new Array(arguments.length),k=0;k<w.length;k++)w[k]=arguments[k];var z=T.apply(this,w),A=w[w.length-1];return typeof z=="function"&&z!==A&&Object.keys(A).forEach(function(h){z[h]=A[h]}),z}o(b,"wrapper")}o(d,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(ae){var d=__webpack_module_cache__[ae];if(d!==void 0)return d.exports;var T=__webpack_module_cache__[ae]={id:ae,loaded:!1,exports:{}};return __webpack_modules__[ae].call(T.exports,T,T.exports,__webpack_require__),T.loaded=!0,T.exports}o(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=ae=>{var d=ae&&ae.__esModule?()=>ae.default:()=>ae;return __webpack_require__.d(d,{a:d}),d}})(),(()=>{__webpack_require__.d=(ae,d)=>{for(var T in d)__webpack_require__.o(d,T)&&!__webpack_require__.o(ae,T)&&Object.defineProperty(ae,T,{enumerable:!0,get:d[T]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(ae){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(ae,d)=>Object.prototype.hasOwnProperty.call(ae,d)})(),(()=>{__webpack_require__.r=ae=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=ae=>(ae.paths=[],ae.children||(ae.children=[]),ae)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{activate:()=>w1});var ae={};__webpack_require__.r(ae),__webpack_require__.d(ae,{max:()=>ur,min:()=>ei});const d=require("vscode"),T=new TextDecoder,E=new TextEncoder,b=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function w(e){const t=E.encode(e),n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=b[t[r]];return n.join("")}o(w,"encodeUtf8Hex");function k(e){const t=e.match(/(\w{2})/g);if(t===null)return"";const n=new Uint8Array(t.map(r=>parseInt(r,16)));return T.decode(n)}o(k,"decodeUtf8Hex");const z=/^[0-9a-f]{40}$/i;function A(e){return e!==void 0&&z.test(e)}o(A,"isSha");const h=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function _(e){return h.test(e)}o(_,"isValidBranchName");function x(e){return e===""||e==="~"||e==="HEAD"?e:e.endsWith("^")?`${e.substr(0,7)}^`:e.substr(0,7)}o(x,"shortenRef");const m=47;function C(e){if(e===void 0)return;const t=e.path.endsWith("/");return!t&&!e.fragment?e.toString():e.with({path:t?e.path.slice(0,-1):e.path,fragment:""}).toString()}o(C,"asKey");function M(e){if(e===void 0)return;const t=e.path.endsWith("/");return!t&&!e.query&&!e.fragment?e.toString():e.with({path:t?e.path.slice(0,-1):e.path,query:"",fragment:""}).toString()}o(M,"asFileKey");function I(e,t){return`${(t==null?void 0:t.excludeScheme)?"":`${e.scheme}-`}${e.authority}${e.path.endsWith("/")?e.path.slice(0,-1):e.path}`}o(I,"asFileStorageKey");function $(e){const t=e.path;let n=0,r=-1,i=!0;for(let a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===m){if(!i){n=a+1;break}}else r===-1&&(i=!1,r=a+1);return r===-1?"":t.slice(n,r)}o($,"basename");function Q(e){const t=e.path;if(t.length===1)return"/";let n,r=-1,i=!0;for(let a=t.length-1;a>=1;--a)if(n=t.charCodeAt(a),n===m){if(!i){r=a;break}}else i=!1;return r===-1?"/":t.slice(0,r)}o(Q,"dirname");function ee(e){const t=e.path.lastIndexOf("/");return t===-1?e.with({path:"/"}):e.with({path:e.path.substring(0,t)})}o(ee,"getParent");function L(e,t){const n=typeof t=="string"?t:t.path;return n.startsWith(e.path)?d.Uri.joinPath(e,n.substr(e.path.length)):d.Uri.joinPath(e,n)}o(L,"joinRelativePath");function B(e,t){return typeof t=="string"?(t.startsWith("/")||(t=`/${t}`),P(e,t)&&e.path.substr(t.length+(t.endsWith("/")?0:1)).split("/").length===1):P(e,t)&&e.path.substr(t.path.length+(t.path.endsWith("/")?0:1)).split("/").length===1}o(B,"isChild");function P(e,t){return typeof t=="string"?(t.startsWith("/")||(t=`/${t}`),t.length===1||e.path.startsWith(t.endsWith("/")?t:`${t}/`)):t.scheme===e.scheme&&t.authority===e.authority&&(t.path.length===1||e.path.startsWith(t.path.endsWith("/")?t.path:`${t.path}/`))}o(P,"isDescendent");function R(e){return e&&typeof e=="object"&&"scheme"in e}o(R,"isSerializedUri");var D;(function(e){e.authoritySeparator="+",e.scheme="vscode-vfs",e.baseVirtualWorkspaceUri=d.Uri.parse(`${e.scheme}://`);function t(u){const{authority:f}=u,y=f.indexOf(e.authoritySeparator);return y!==-1?f.substr(0,y):f}o(t,"getProviderId"),e.getProviderId=t;function n(u){return u.scheme!==e.scheme?u:u.with({scheme:t(u)})}o(n,"getProviderUri"),e.getProviderUri=n;function r(u,f){const y=new Map,v=d.workspace.textDocuments;if(v.length===0)return y;for(const S of v)S.uri.scheme===u&&f.some(H=>P(S.uri,H))&&y.set(C(S.uri),S.uri);return y}o(r,"getOpenUris"),e.getOpenUris=r;function i(u){return u.scheme===e.scheme?u:u.with({scheme:e.scheme})}o(i,"getVirtualUri"),e.getVirtualUri=i;function a(u,f){const[y,v]=u.authority.split(e.authoritySeparator);let S;if(v)try{const H=JSON.parse(k(v));S=f?f(H):H}catch{}return{scheme:y,metadata:S}}o(a,"decodeAuthority"),e.decodeAuthority=a;function s(u,f){const y=f?`${e.authoritySeparator}${w(JSON.stringify(f))}`:"";return`${u}${y}`}o(s,"encodeAuthority"),e.encodeAuthority=s;function l(u){return u.authority.indexOf(e.authoritySeparator)===-1}o(l,"isCanonicalUri"),e.isCanonicalUri=l;function c(){var u,f;return(f=(u=d.workspace.workspaceFolders)==null?void 0:u.every(y=>y.uri.scheme===e.scheme))!=null?f:!1}o(c,"isVirtualWorkspace"),e.isVirtualWorkspace=c})(D||(D={}));var O;(function(e){e[e.Admin=100]="Admin",e[e.Maintain=40]="Maintain",e[e.WriteToPullRequest=31]="WriteToPullRequest",e[e.Write=30]="Write",e[e.Triage=20]="Triage",e[e.Read=10]="Read",e[e.None=0]="None"})(O||(O={}));var J;(function(e){e[e.Branch=0]="Branch",e[e.RemoteBranch=1]="RemoteBranch",e[e.Tag=2]="Tag",e[e.Commit=3]="Commit"})(J||(J={}));var V;(function(e){function t(n){return n!==void 0&&n.type===ge.Active}o(t,"isActive"),e.isActive=t})(V||(V={}));var te;(function(e){function t(n){const r=D.decodeAuthority(n).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:he.Latest};if(A(r.idx))return{type:he.SHA,sha:r.idx}}}o(t,"decode"),e.decode=t})(te||(te={}));var he;(function(e){e[e.Latest=1]="Latest",e[e.SHA=2]="SHA"})(he||(he={}));var ge;(function(e){e[e.NotIndexed=0]="NotIndexed",e[e.Indexed=1]="Indexed",e[e.Match=2]="Match",e[e.Active=3]="Active"})(ge||(ge={})),function(e){function t(n){return n!==void 0&&(n===e.Indexed||n===e.Match||n===e.Active)}o(t,"hasIndex"),e.hasIndex=t}(ge||(ge={}));var re;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed",e[e.Merged=2]="Merged"})(re||(re={}));var G;(function(e){e[e.Changed=1]="Changed",e[e.Created=2]="Created",e[e.Deleted=3]="Deleted"})(G||(G={}));var le;(function(e){e.CurrentWindow="currentWindow",e.NewWindow="newWindow",e.AddToWorkspace="addToWorkspace"})(le||(le={}));var oe;(function(e){e[e.Branch=0]="Branch",e[e.Tag=1]="Tag",e[e.Commit=2]="Commit",e[e.PullRequest=3]="PullRequest",e[e.Tree=4]="Tree"})(oe||(oe={}));var de;(function(e){e[e.Abort=0]="Abort",e[e.KeepCurrent=1]="KeepCurrent",e[e.DiscardCurrent=2]="DiscardCurrent",e[e.Merge=3]="Merge"})(de||(de={}));var pe;(function(e){e[e.Repository=0]="Repository",e[e.PullRequest=1]="PullRequest",e[e.Branch=2]="Branch",e[e.Commit=3]="Commit",e[e.File=4]="File",e[e.Tag=5]="Tag"})(pe||(pe={}));var me;(function(e){e.Branch="branch",e.RemoteBranch="remoteBranch",e.PullRequestBranch="pullRequestBranch",e.PullRequestRemoteBranch="pullRequestRemoteBranch",e.Tag="tag",e.Commit="commit"})(me||(me={}));var Me;(function(e){e.None="none",e.Latest="latest",e.Match="match",e.TipPlusLatest="tip+latest"})(Me||(Me={}));var _t;(function(e){e.Browse="browse",e.Edit="edit"})(_t||(_t={}));var qe;(function(e){e.CommitFailedError="CommitFailedError",e.DetachedHEADError="DetachedHEADError",e.CommitToProtectedBranchError="CommitToProtectedBranchError",e.InvalidBranchNameError="InvalidBranchNameError",e.InvalidCredentialsError="InvalidCredentialsError",e.MergeConflictError="MergeConflictError",e.NothingToCommitError="NothingToCommitError",e.SyncConflictsError="SyncConflictsError",e.SyncOrFetchError="SyncOrFetchError",e.UnresolvedConflictsError="UnresolvedConflictsError",e.InvalidRepositoryError="InvalidRepositoryError",e.Unknown="Unknown"})(qe||(qe={}));class W extends Error{constructor(t,n,r){super(typeof t=="string"?t:t.message);this.messageOrError=t,this.errorCode=n,this.action=r}static CommitFailedError(){return new W("Failed to create and push commit",qe.CommitFailedError)}static DetachedHEADError(t){return new W(t,qe.DetachedHEADError)}static CommitToProtectedBranchError(t){return new W(t,qe.CommitToProtectedBranchError)}static InvalidBranchNameError(t,n=!1){const r=n?`Branch '${t}' already exists`:`Invalid branch name '${t}'`;return new W(r,qe.InvalidBranchNameError)}static InvalidCredentialsError(t,n){return new W(t,qe.InvalidCredentialsError,n)}static MergeConflictError(t){return new W(t,qe.MergeConflictError)}static NothingToCommitError(t){return new W(t,qe.NothingToCommitError)}static SyncOrFetchError(t=!1){const n=t?"Unable to sync the repository":"Unable to fetch the repository";return new W(n,qe.SyncOrFetchError)}static SyncConflictsError(){const t="Sync operation will result in conflicts";return new W(t,qe.SyncConflictsError)}static UnresolvedConflictsError(){return new W("You have unresolved merge conflicts.",qe.UnresolvedConflictsError)}static InvalidRepositoryError(){return new W("The current repository is invalid",qe.InvalidRepositoryError)}static asVirtualProviderErrorCode(t){return t instanceof Error&&"messageOrError"in t&&"errorCode"in t?t.errorCode:qe.Unknown}}o(W,"VirtualProviderError");const Oe=6;var Ie;(function(e){e.Off="off",e.Auto="auto",e.Always="always"})(Ie||(Ie={}));var ze;(function(e){e.None="none",e.Latest="latest",e.Match="match",e.TipPlusLatest="tip+latest"})(ze||(ze={})),function(e){function t(n){return n===e.None||n===e.Latest||n===e.Match||n===e.TipPlusLatest?n:e.None}o(t,"sanitize"),e.sanitize=t}(ze||(ze={}));var ve;(function(e){e.Browse="browse",e.Edit="edit"})(ve||(ve={})),function(e){function t(r){return r===e.Browse||r===e.Edit?r:e.Edit}o(t,"sanitize"),e.sanitize=t;function n(r){return r===e.Browse?e.Edit:e.Browse}o(n,"toggle"),e.toggle=n}(ve||(ve={}));var ie;(function(e){function t(n,r){return n.display===r.display&&n.index===r.index}o(t,"equals"),e.equals=t})(ie||(ie={}));var ye;(function(e){const t=new Map([[me.Branch,ze.None],[me.RemoteBranch,ze.None],[me.PullRequestBranch,ze.Match],[me.PullRequestRemoteBranch,ze.Match],[me.Commit,ze.Match],[me.Tag,ze.Match]]),n=new Map([[me.Branch,ve.Edit],[me.RemoteBranch,ve.Edit],[me.PullRequestBranch,ve.Browse],[me.PullRequestRemoteBranch,ve.Browse],[me.Commit,ve.Browse],[me.Tag,ve.Browse]]);function r(a){var s,l;return{display:(s=n.get(a))!=null?s:ve.Edit,index:(l=t.get(a))!=null?l:ze.None}}o(r,"getDefault"),e.getDefault=r;function i(a){switch(a){case me.Branch:case me.RemoteBranch:return{display:ve.Browse,index:ze.Latest};case me.PullRequestBranch:case me.PullRequestRemoteBranch:return{display:ve.Browse,index:ze.Match};case me.Commit:case me.Tag:return{display:ve.Browse,index:ze.Match};default:return{display:ve.Edit,index:ze.None}}}o(i,"getIndexDefault"),e.getIndexDefault=i})(ye||(ye={}));const Ce=null;var ce=__webpack_require__(5179),Re=__webpack_require__.n(ce);const Te="modes",je="indexMemento";class ot{constructor(){this._onDidChange=new d.EventEmitter,this._onDidChangeAny=new d.EventEmitter,this.memoryState=new Map}static configure(t,n){Ye.configPrefix=t,Ye.state=n.workspaceState,n.subscriptions.push(d.workspace.onDidChangeConfiguration(Ye.onConfigurationChanged,Ye))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(t){if(!t.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(t);return}this._onDidChangeAny.fire(t),this._onDidChange.fire(t)}set state(t){if(this._state=t,this.modes=this._state.get(Te),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const n of this.memoryState.entries())this.modes[n[0]]=n[1];this._state.update(Te,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(je),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(t,n,r){const i=this.inspect(t,n);return i===void 0&&r!==void 0?r:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(t,n,r){return r===void 0?d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).get(t===void 0?this.configPrefix:t):d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).get(t===void 0?this.configPrefix:t,r)}getMode(t,n,r){var i;const a=t.toString();let s=this.modes!==void 0?this.modes[a]:void 0;if(s!==void 0)return{display:ve.sanitize(s.display),index:ze.sanitize(s.index)};if(s=this.memoryState.get(a),s!==void 0)return s;if(n===me.Branch||n===me.RemoteBranch)switch((i=d.workspace.getConfiguration("remoteHub.richNavigation.indexMode",t))==null?void 0:i.get("branch")){case"none":return{display:ve.Edit,index:ze.None};case"latest":return{display:ve.Browse,index:ze.Latest};case"tipPlusLatest":return{display:ve.Edit,index:ze.TipPlusLatest}}if(!r)return ye.getDefault(n)}setMode(t,n){const r=t.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,n),Promise.resolve()):(this.modes[r]=n,this._state.update(Te,this.modes))}getIndexMemento(t){if(this.indexMemento!==void 0)return this.indexMemento[t.toString()]}setIndexMemento(t,n){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[t.toString()]=n,this._state.update(je,this.indexMemento))}getAny(t,n,r){return r===void 0?d.workspace.getConfiguration(void 0,n).get(t):d.workspace.getConfiguration(void 0,n).get(t,r)}changed(t,n,r){var i;return(i=t==null?void 0:t.affectsConfiguration(`${this.configPrefix}.${n}`,r))!=null?i:!0}inspect(t,n){return d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).inspect(t===void 0?this.configPrefix:t)}inspectAny(t,n){return d.workspace.getConfiguration(void 0,n).inspect(t)}async migrate(t,n,r){const i=Ye.inspect(t);if(i===void 0)return!1;let a=!1;return i.globalValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),a=!0),i.workspaceValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),a=!0),i.workspaceFolderValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder),a=!0),!a&&r.fallbackValue!==void 0&&(await this.update(n,r.fallbackValue,d.ConfigurationTarget.Global),a=!0),a}async migrateIfMissing(t,n,r){const i=Ye.inspect(t);if(i===void 0)return;const a=Ye.inspect(n);i.globalValue!==void 0&&(a===void 0||a.globalValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(a===void 0||a.workspaceValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(a===void 0||a.workspaceFolderValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder)}name(t){return t}update(t,n,r){return d.workspace.getConfiguration(this.configPrefix).update(t,n,r)}updateAny(t,n,r,i){return d.workspace.getConfiguration(void 0,r===d.ConfigurationTarget.Global?void 0:i).update(t,n,r)}updateEffective(t,n){const r=Ye.inspect(t);return r.workspaceFolderValue!==void 0?n===r.workspaceFolderValue?Promise.resolve(void 0):Ye.update(t,n,d.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?n===r.workspaceValue?Promise.resolve(void 0):Ye.update(t,n,d.ConfigurationTarget.Workspace):r.globalValue===n||r.globalValue===void 0&&n===r.defaultValue?Promise.resolve(void 0):Ye.update(t,Re()(n,r.defaultValue)?void 0:n,d.ConfigurationTarget.Global)}}o(ot,"Configuration");const Ye=new ot,jt="";var Je;(function(e){e.Off="off",e.Error="error",e.Warn="warn",e.Info="info",e.Debug="debug"})(Je||(Je={}));var fn;(function(e){e[e.Off=0]="Off",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Info=3]="Info",e[e.Debug=4]="Debug"})(fn||(fn={}));const St="[RemoteHub]",Ae=o(class{static configure(e,t,n){this._isDebugging=e.extensionMode===d.ExtensionMode.Development,this.outputChannelName=t,this.logLevel=n}static enabled(e){return this.level>=this.toOrderedLevel(e)}static get logLevel(){return this._logLevel}static set logLevel(e){var t,n;this._logLevel=e,this.level=this.toOrderedLevel(e),e===Je.Off?((t=this.output)==null||t.dispose(),this.output=void 0):this.output=(n=this.output)!=null?n:d.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(e){switch(e){case Je.Off:return 0;case Je.Error:return 1;case Je.Warn:return 2;case Je.Info:return 3;case Je.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(e,...t){Ae.isDebugging&&console.log(this.timestamp,St,e!=null?e:jt,...t),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:jt}${this.toLoggableParams(!0,t)}`)}static error(e,t,...n){if(!(this.level<1&&!Ae.isDebugging)){if(t===void 0){const r=e instanceof Error?e.stack:void 0;if(r){const i=/.*\s*?at\s(.+?)\s/.exec(r);i!==null&&(t=i[1])}}Ae.isDebugging&&console.error(this.timestamp,St,t!=null?t:jt,...n,e),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:jt}${this.toLoggableParams(!1,n)}
${String(e)}`)}}static log(e,...t){Ae.isDebugging&&console.log(this.timestamp,St,e!=null?e:jt,...t),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:jt}${this.toLoggableParams(!1,t)}`)}static warn(e,...t){Ae.isDebugging&&console.warn(this.timestamp,St,e!=null?e:jt,...t),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:jt}${this.toLoggableParams(!1,t)}`)}static showOutputChannel(){var e;(e=this.output)==null||e.show()}static toLoggable(e,t){if(typeof e!="object")return String(e);if(e instanceof d.Uri)return`Uri(${e.toString(!0)})`;try{return JSON.stringify(e,t)}catch{return"<error>"}}static toLoggableName(e){var t,n,r;let i;if(typeof e=="function"){if(e.prototype===void 0||e.prototype.constructor===void 0)return e.name;i=(t=e.prototype.constructor.name)!=null?t:jt}else i=(r=(n=e.constructor)==null?void 0:n.name)!=null?r:jt;const a=i.indexOf("_");return a===-1?i:i.substr(a+1)}static get timestamp(){const e=new Date;return`[${e.toISOString().replace(/T/," ").replace(/\..+/,jt)}:${`00${e.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(e,t){if(t.length===0||e&&this.level<4&&!Ae.isDebugging)return jt;const n=t.map(r=>this.toLoggable(r)).join(", ");return n.length!==0?` \u2014 ${n}`:jt}},"_Logger");let xe=Ae;xe.level=0,xe._logLevel=Je.Off;class $e{constructor(t){this.provider=t,this._timeout=0,this._disposable=Ye.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var t;if(this._config===void 0){const n=Ye.get("autoFetch");this._config={enabled:(t=n.enabled)!=null?t:!0,interval:n.interval*1e3}}return this._config}onConfigurationChanged(t){!Ye.changed(t,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const t=this.provider.repositories;t.length!==0&&(await d.window.withProgress({location:d.ProgressLocation.SourceControl},async()=>{for(const n of t)try{await this.provider.fetch(n.uri)}catch(r){xe.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}o($e,"AutoFetchService");function Nt(){}o(Nt,"Diff"),Nt.prototype={diff:o(function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var a=this;function s(Z){return i?(setTimeout(function(){i(void 0,Z)},0),!0):Z}o(s,"done"),t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var l=n.length,c=t.length,u=1,f=l+c,y=[{newPos:-1,components:[]}],v=this.extractCommon(y[0],n,t,0);if(y[0].newPos+1>=l&&v+1>=c)return s([{value:this.join(n),count:n.length}]);function S(){for(var Z=-1*u;Z<=u;Z+=2){var U=void 0,q=y[Z-1],ne=y[Z+1],fe=(ne?ne.newPos:0)-Z;q&&(y[Z-1]=void 0);var se=q&&q.newPos+1<l,be=ne&&0<=fe&&fe<c;if(!se&&!be){y[Z]=void 0;continue}if(!se||be&&q.newPos<ne.newPos?(U=_n(ne),a.pushComponent(U.components,void 0,!0)):(U=q,U.newPos++,a.pushComponent(U.components,!0,void 0)),fe=a.extractCommon(U,n,t,Z),U.newPos+1>=l&&fe+1>=c)return s(Sn(a,U.components,n,t,a.useLongestToken));y[Z]=U}u++}if(o(S,"execEditLength"),i)o(function Z(){setTimeout(function(){if(u>f)return i();S()||Z()},0)},"exec")();else for(;u<=f;){var H=S();if(H)return H}},"diff"),pushComponent:o(function(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},"pushComponent"),extractCommon:o(function(t,n,r,i){for(var a=n.length,s=r.length,l=t.newPos,c=l-i,u=0;l+1<a&&c+1<s&&this.equals(n[l+1],r[c+1]);)l++,c++,u++;return u&&t.components.push({count:u}),t.newPos=l,c},"extractCommon"),equals:o(function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return t.split("")},"tokenize"),join:o(function(t){return t.join("")},"join")};function Sn(e,t,n,r,i){for(var a=0,s=t.length,l=0,c=0;a<s;a++){var u=t[a];if(u.removed){if(u.value=e.join(r.slice(c,c+u.count)),c+=u.count,a&&t[a-1].added){var y=t[a-1];t[a-1]=t[a],t[a]=y}}else{if(!u.added&&i){var f=n.slice(l,l+u.count);f=f.map(function(S,H){var Z=r[c+H];return Z.length>S.length?Z:S}),u.value=e.join(f)}else u.value=e.join(n.slice(l,l+u.count));l+=u.count,u.added||(c+=u.count)}}var v=t[s-1];return s>1&&typeof v.value=="string"&&(v.added||v.removed)&&e.equals("",v.value)&&(t[s-2].value+=v.value,t.pop()),t}o(Sn,"buildValues");function _n(e){return{newPos:e.newPos,components:e.components.slice(0)}}o(_n,"clonePath");var Dn=new Nt;function F(e,t,n){return Dn.diff(e,t,n)}o(F,"diffChars");function g(e,t){if(typeof e=="function")t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}o(g,"generateOptions");var p=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,K=/\S/,ue=new Nt;ue.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!K.test(e)&&!K.test(t)},ue.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&p.test(t[n])&&p.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};function Ee(e,t,n){return n=g(n,{ignoreWhitespace:!0}),ue.diff(e,t,n)}o(Ee,"diffWords");function Pe(e,t,n){return ue.diff(e,t,n)}o(Pe,"diffWordsWithSpace");var qt=new Nt;qt.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};function ln(e,t,n){return qt.diff(e,t,n)}o(ln,"diffLines");function et(e,t,n){var r=g(n,{ignoreWhitespace:!0});return qt.diff(e,t,r)}o(et,"diffTrimmedLines");var Ge=new Nt;Ge.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function Le(e,t,n){return Ge.diff(e,t,n)}o(Le,"diffSentences");var Ke=new Nt;Ke.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function ht(e,t,n){return Ke.diff(e,t,n)}o(ht,"diffCss");function ut(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ut=o(function(t){return typeof t},"_typeof"):ut=o(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),ut(e)}o(ut,"_typeof");function st(e){return Lt(e)||Kt(e)||Zt(e)||gt()}o(st,"_toConsumableArray");function Lt(e){if(Array.isArray(e))return Ve(e)}o(Lt,"_arrayWithoutHoles");function Kt(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}o(Kt,"_iterableToArray");function Zt(e,t){if(!!e){if(typeof e=="string")return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}}o(Zt,"_unsupportedIterableToArray");function Ve(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}o(Ve,"_arrayLikeToArray");function gt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(gt,"_nonIterableSpread");var it=Object.prototype.toString,Tt=new Nt;Tt.useLongestToken=!0,Tt.tokenize=qt.tokenize,Tt.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(a,s){return typeof s=="undefined"?n:s}:r;return typeof e=="string"?e:JSON.stringify(un(e,null,null,i),i,"  ")},Tt.equals=function(e,t){return Nt.prototype.equals.call(Tt,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function kt(e,t,n){return Tt.diff(e,t,n)}o(kt,"diffJson");function un(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s;if(it.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=un(e[a],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),ut(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var l=[],c;for(c in e)e.hasOwnProperty(c)&&l.push(c);for(l.sort(),a=0;a<l.length;a+=1)c=l[a],s[c]=un(e[c],t,n,r,c);t.pop(),n.pop()}else s=e;return s}o(un,"canonicalize");var Y=new Nt;Y.tokenize=function(e){return e.slice()},Y.join=Y.removeEmpty=function(e){return e};function Be(e,t,n){return Y.diff(e,t,n)}o(Be,"diffArrays");function Qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],a=0;function s(){var u={};for(i.push(u);a<n.length;){var f=n[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(f))break;var y=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(f);y&&(u.index=y[1]),a++}for(l(u),l(u),u.hunks=[];a<n.length;){var v=n[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(v))break;if(/^@@/.test(v))u.hunks.push(c());else{if(v&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(v));a++}}}o(s,"parseIndex");function l(u){var f=/^(---|\+\+\+)\s+(.*)$/.exec(n[a]);if(f){var y=f[1]==="---"?"old":"new",v=f[2].split("	",2),S=v[0].replace(/\\\\/g,"\\");/^".*"$/.test(S)&&(S=S.substr(1,S.length-2)),u[y+"FileName"]=S,u[y+"Header"]=(v[1]||"").trim(),a++}}o(l,"parseFileHeader");function c(){var u=a,f=n[a++],y=f.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),v={oldStart:+y[1],oldLines:typeof y[2]=="undefined"?1:+y[2],newStart:+y[3],newLines:typeof y[4]=="undefined"?1:+y[4],lines:[],linedelimiters:[]};v.oldLines===0&&(v.oldStart+=1),v.newLines===0&&(v.newStart+=1);for(var S=0,H=0;a<n.length&&!(n[a].indexOf("--- ")===0&&a+2<n.length&&n[a+1].indexOf("+++ ")===0&&n[a+2].indexOf("@@")===0);a++){var Z=n[a].length==0&&a!=n.length-1?" ":n[a][0];if(Z==="+"||Z==="-"||Z===" "||Z==="\\")v.lines.push(n[a]),v.linedelimiters.push(r[a]||`
`),Z==="+"?S++:Z==="-"?H++:Z===" "&&(S++,H++);else break}if(!S&&v.newLines===1&&(v.newLines=0),!H&&v.oldLines===1&&(v.oldLines=0),t.strict){if(S!==v.newLines)throw new Error("Added line count did not match for hunk at line "+(u+1));if(H!==v.oldLines)throw new Error("Removed line count did not match for hunk at line "+(u+1))}return v}for(o(c,"parseHunk");a<n.length;)s();return i}o(Qe,"parsePatch");function vt(e,t,n){var r=!0,i=!1,a=!1,s=1;return o(function l(){if(r&&!a){if(i?s++:r=!1,e+s<=n)return s;a=!0}if(!i)return a||(r=!0),t<=e-s?-s++:(i=!0,l())},"iterator")}o(vt,"distanceIterator");function Bt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string"&&(t=Qe(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var r=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,s=n.compareLine||function(ft,bt,Et,Gt){return bt===Gt},l=0,c=n.fuzzFactor||0,u=0,f=0,y,v;function S(ft,bt){for(var Et=0;Et<ft.lines.length;Et++){var Gt=ft.lines[Et],Xt=Gt.length>0?Gt[0]:" ",vn=Gt.length>0?Gt.substr(1):Gt;if(Xt===" "||Xt==="-"){if(!s(bt+1,r[bt],Xt,vn)&&(l++,l>c))return!1;bt++}}return!0}o(S,"hunkFits");for(var H=0;H<a.length;H++){for(var Z=a[H],U=r.length-Z.oldLines,q=0,ne=f+Z.oldStart-1,fe=vt(ne,u,U);q!==void 0;q=fe())if(S(Z,ne+q)){Z.offset=f+=q;break}if(q===void 0)return!1;u=Z.offset+Z.oldStart+Z.oldLines}for(var se=0,be=0;be<a.length;be++){var rt=a[be],Ue=rt.oldStart+rt.offset+se-1;se+=rt.newLines-rt.oldLines;for(var ke=0;ke<rt.lines.length;ke++){var wt=rt.lines[ke],Fe=wt.length>0?wt[0]:" ",Ct=wt.length>0?wt.substr(1):wt,on=rt.linedelimiters[ke];if(Fe===" ")Ue++;else if(Fe==="-")r.splice(Ue,1),i.splice(Ue,1);else if(Fe==="+")r.splice(Ue,0,Ct),i.splice(Ue,0,on),Ue++;else if(Fe==="\\"){var Mn=rt.lines[ke-1]?rt.lines[ke-1][0]:null;Mn==="+"?y=!0:Mn==="-"&&(v=!0)}}}if(y)for(;!r[r.length-1];)r.pop(),i.pop();else v&&(r.push(""),i.push(`
`));for(var Se=0;Se<r.length-1;Se++)r[Se]=r[Se]+i[Se];return r.join("")}o(Bt,"applyPatch");function De(e,t){typeof e=="string"&&(e=Qe(e));var n=0;function r(){var i=e[n++];if(!i)return t.complete();t.loadFile(i,function(a,s){if(a)return t.complete(a);var l=Bt(s,i,t);t.patched(i,l,function(c){if(c)return t.complete(c);r()})})}o(r,"processIndex"),r()}o(De,"applyPatches");function mt(e,t,n,r,i,a,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var l=ln(n,r,s);l.push({value:"",lines:[]});function c(q){return q.map(function(ne){return" "+ne})}o(c,"contextLines");for(var u=[],f=0,y=0,v=[],S=1,H=1,Z=o(function(ne){var fe=l[ne],se=fe.lines||fe.value.replace(/\n$/,"").split(`
`);if(fe.lines=se,fe.added||fe.removed){var be;if(!f){var rt=l[ne-1];f=S,y=H,rt&&(v=s.context>0?c(rt.lines.slice(-s.context)):[],f-=v.length,y-=v.length)}(be=v).push.apply(be,st(se.map(function(Se){return(fe.added?"+":"-")+Se}))),fe.added?H+=se.length:S+=se.length}else{if(f)if(se.length<=s.context*2&&ne<l.length-2){var Ue;(Ue=v).push.apply(Ue,st(c(se)))}else{var ke,wt=Math.min(se.length,s.context);(ke=v).push.apply(ke,st(c(se.slice(0,wt))));var Fe={oldStart:f,oldLines:S-f+wt,newStart:y,newLines:H-y+wt,lines:v};if(ne>=l.length-2&&se.length<=s.context){var Ct=/\n$/.test(n),on=/\n$/.test(r),Mn=se.length==0&&v.length>Fe.oldLines;!Ct&&Mn&&n.length>0&&v.splice(Fe.oldLines,0,"\\ No newline at end of file"),(!Ct&&!Mn||!on)&&v.push("\\ No newline at end of file")}u.push(Fe),f=0,y=0,v=[]}S+=se.length,H+=se.length}},"_loop"),U=0;U<l.length;U++)Z(U);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:a,hunks:u}}o(mt,"structuredPatch");function Mt(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader=="undefined"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader=="undefined"?"":"	"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var r=e.hunks[n];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),t.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),t.push.apply(t,r.lines)}return t.join(`
`)+`
`}o(Mt,"formatPatch");function dt(e,t,n,r,i,a,s){return Mt(mt(e,t,n,r,i,a,s))}o(dt,"createTwoFilesPatch");function Xe(e,t,n,r,i,a){return dt(e,e,t,n,r,i,a)}o(Xe,"createPatch");function $t(e,t){return e.length!==t.length?!1:Ot(e,t)}o($t,"arrayEqual");function Ot(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}o(Ot,"arrayStartsWith");function yt(e){var t=Tn(e.lines),n=t.oldLines,r=t.newLines;n!==void 0?e.oldLines=n:delete e.oldLines,r!==void 0?e.newLines=r:delete e.newLines}o(yt,"calcLineCount");function en(e,t,n){e=Jt(e,n),t=Jt(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(hn(e)?hn(t)?(r.oldFileName=Fn(r,e.oldFileName,t.oldFileName),r.newFileName=Fn(r,e.newFileName,t.newFileName),r.oldHeader=Fn(r,e.oldHeader,t.oldHeader),r.newHeader=Fn(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var i=0,a=0,s=0,l=0;i<e.hunks.length||a<t.hunks.length;){var c=e.hunks[i]||{oldStart:1/0},u=t.hunks[a]||{oldStart:1/0};if(er(c,u))r.hunks.push(xn(c,s)),i++,l+=c.newLines-c.oldLines;else if(er(u,c))r.hunks.push(xn(u,l)),a++,s+=u.newLines-u.oldLines;else{var f={oldStart:Math.min(c.oldStart,u.oldStart),oldLines:0,newStart:Math.min(c.newStart+s,u.oldStart+l),newLines:0,lines:[]};tt(f,c.oldStart,c.lines,u.oldStart,u.lines),a++,i++,r.hunks.push(f)}}return r}o(en,"merge");function Jt(e,t){if(typeof e=="string"){if(/^@@/m.test(e)||/^Index:/m.test(e))return Qe(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return mt(void 0,void 0,t,e)}return e}o(Jt,"loadPatch");function hn(e){return e.newFileName&&e.newFileName!==e.oldFileName}o(hn,"fileNameChanged");function Fn(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}o(Fn,"selectField");function er(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}o(er,"hunkBefore");function xn(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}o(xn,"cloneHunk");function tt(e,t,n,r,i){var a={offset:t,lines:n,index:0},s={offset:r,lines:i,index:0};for(Yt(e,a,s),Yt(e,s,a);a.index<a.lines.length&&s.index<s.lines.length;){var l=a.lines[a.index],c=s.lines[s.index];if((l[0]==="-"||l[0]==="+")&&(c[0]==="-"||c[0]==="+"))Wt(e,a,s);else if(l[0]==="+"&&c[0]===" "){var u;(u=e.lines).push.apply(u,st(Vt(a)))}else if(c[0]==="+"&&l[0]===" "){var f;(f=e.lines).push.apply(f,st(Vt(s)))}else l[0]==="-"&&c[0]===" "?Ft(e,a,s):c[0]==="-"&&l[0]===" "?Ft(e,s,a,!0):l===c?(e.lines.push(l),a.index++,s.index++):pt(e,Vt(a),Vt(s))}tn(e,a),tn(e,s),yt(e)}o(tt,"mergeLines");function Wt(e,t,n){var r=Vt(t),i=Vt(n);if(kn(r)&&kn(i)){if(Ot(r,i)&&Cn(n,r,r.length-i.length)){var a;(a=e.lines).push.apply(a,st(r));return}else if(Ot(i,r)&&Cn(t,i,i.length-r.length)){var s;(s=e.lines).push.apply(s,st(i));return}}else if($t(r,i)){var l;(l=e.lines).push.apply(l,st(r));return}pt(e,r,i)}o(Wt,"mutualChange");function Ft(e,t,n,r){var i=Vt(t),a=gn(n,i);if(a.merged){var s;(s=e.lines).push.apply(s,st(a.merged))}else pt(e,r?a:i,r?i:a)}o(Ft,"removal");function pt(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}o(pt,"conflict");function Yt(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}o(Yt,"insertLeading");function tn(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}o(tn,"insertTrailing");function Vt(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if(n==="-"&&r[0]==="+"&&(n="+"),n===r[0])t.push(r),e.index++;else break}return t}o(Vt,"collectChange");function gn(e,t){for(var n=[],r=[],i=0,a=!1,s=!1;i<t.length&&e.index<e.lines.length;){var l=e.lines[e.index],c=t[i];if(c[0]==="+")break;if(a=a||l[0]!==" ",r.push(c),i++,l[0]==="+")for(s=!0;l[0]==="+";)n.push(l),l=e.lines[++e.index];c.substr(1)===l.substr(1)?(n.push(l),e.index++):s=!0}if((t[i]||"")[0]==="+"&&a&&(s=!0),s)return n;for(;i<t.length;)r.push(t[i++]);return{merged:r,changes:n}}o(gn,"collectContext");function kn(e){return e.reduce(function(t,n){return t&&n[0]==="-"},!0)}o(kn,"allRemoves");function Cn(e,t,n){for(var r=0;r<n;r++){var i=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+i)return!1}return e.index+=n,!0}o(Cn,"skipRemoveSuperset");function Tn(e){var t=0,n=0;return e.forEach(function(r){if(typeof r!="string"){var i=Tn(r.mine),a=Tn(r.theirs);t!==void 0&&(i.oldLines===a.oldLines?t+=i.oldLines:t=void 0),n!==void 0&&(i.newLines===a.newLines?n+=i.newLines:n=void 0)}else n!==void 0&&(r[0]==="+"||r[0]===" ")&&n++,t!==void 0&&(r[0]==="-"||r[0]===" ")&&t++}),{oldLines:t,newLines:n}}o(Tn,"calcOldNewLineCount");function Vn(e){for(var t=[],n,r,i=0;i<e.length;i++)n=e[i],n.added?r=1:n.removed?r=-1:r=0,t.push([r,n.value]);return t}o(Vn,"convertChangesToDMP");function tr(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(dn(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")}o(tr,"convertChangesToXML");function dn(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}o(dn,"escapeHTML");var Gn=/[^a-zA-Z0-9]/,$n=/\s/,nr=/[\r\n]/,jn=/\n\r?\n$/,nn=/^\r?\n\r?\n/,We;(function(e){e[e.DIFF_DELETE=-1]="DIFF_DELETE",e[e.DIFF_INSERT=1]="DIFF_INSERT",e[e.DIFF_EQUAL=0]="DIFF_EQUAL"})(We||(We={}));function ei(e,t){return e<t?e:t}o(ei,"min");function ur(e,t){return e>t?e:t}o(ur,"max");var zn=ae,Hr=function(){function e(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return o(e,"PatchObject"),e.prototype.toString=function(){var t,n;this.length1===0?t=this.start1+",0":this.length1===1?t=this.start1+1:t=this.start1+1+","+this.length1,this.length2===0?n=this.start2+",0":this.length2===1?n=this.start2+1:n=this.start2+1+","+this.length2;for(var r=["@@ -"+t+" +"+n+` @@
`],i,a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case We.DIFF_INSERT:i="+";break;case We.DIFF_DELETE:i="-";break;case We.DIFF_EQUAL:i=" ";break}r[a+1]=i+encodeURI(this.diffs[a][1])+`
`}return r.join("").replace(/%20/g," ")},e}(),zr=function(){function e(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return o(e,"DiffMatchPatch"),e.prototype.diff_main=function(t,n,r,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var a=i;if(t==null||n==null)throw new Error("Null input. (diff_main)");if(t===n)return t?[[We.DIFF_EQUAL,t]]:[];typeof r=="undefined"&&(r=!0);var s=r,l=this.diff_commonPrefix(t,n),c=t.substring(0,l);t=t.substring(l),n=n.substring(l),l=this.diff_commonSuffix(t,n);var u=t.substring(t.length-l);t=t.substring(0,t.length-l),n=n.substring(0,n.length-l);var f=this.diff_compute_(t,n,s,a);return c&&f.unshift([We.DIFF_EQUAL,c]),u&&f.push([We.DIFF_EQUAL,u]),this.diff_cleanupMerge(f),f},e.prototype.diff_commonPrefix=function(t,n){if(!t||!n||t.charAt(0)!==n.charAt(0))return 0;for(var r=0,i=zn.min(t.length,n.length),a=i,s=0;r<a;)t.substring(s,a)===n.substring(s,a)?(r=a,s=r):i=a,a=Math.floor((i-r)/2+r);return a},e.prototype.diff_commonSuffix=function(t,n){if(!t||!n||t.charAt(t.length-1)!==n.charAt(n.length-1))return 0;for(var r=0,i=zn.min(t.length,n.length),a=i,s=0;r<a;)t.substring(t.length-a,t.length-s)===n.substring(n.length-a,n.length-s)?(r=a,s=r):i=a,a=Math.floor((i-r)/2+r);return a},e.prototype.diff_cleanupSemantic=function(t){for(var n=!1,r=[],i=0,a=null,s=0,l=0,c=0,u=0,f=0;s<t.length;)t[s][0]===We.DIFF_EQUAL?(r[i++]=s,l=u,c=f,u=0,f=0,a=t[s][1]):(t[s][0]===We.DIFF_INSERT?u+=t[s][1].length:f+=t[s][1].length,a&&a.length<=zn.max(l,c)&&a.length<=zn.max(u,f)&&(t.splice(r[i-1],0,[We.DIFF_DELETE,a]),t[r[i-1]+1][0]=We.DIFF_INSERT,i--,i--,s=i>0?r[i-1]:-1,l=0,c=0,u=0,f=0,a=null,n=!0)),s++;for(n&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),s=1;s<t.length;){if(t[s-1][0]===We.DIFF_DELETE&&t[s][0]===We.DIFF_INSERT){var y=t[s-1][1],v=t[s][1],S=this.diff_commonOverlap_(y,v),H=this.diff_commonOverlap_(v,y);S>=H?(S>=y.length/2||S>=v.length/2)&&(t.splice(s,0,[We.DIFF_EQUAL,v.substring(0,S)]),t[s-1][1]=y.substring(0,y.length-S),t[s+1][1]=v.substring(S),s++):(H>=y.length/2||H>=v.length/2)&&(t.splice(s,0,[We.DIFF_EQUAL,y.substring(0,H)]),t[s-1][0]=We.DIFF_INSERT,t[s-1][1]=v.substring(0,v.length-H),t[s+1][0]=We.DIFF_DELETE,t[s+1][1]=y.substring(H),s++),s++}s++}},e.prototype.diff_cleanupSemanticLossless=function(t){for(var n=1;n<t.length-1;){if(t[n-1][0]===We.DIFF_EQUAL&&t[n+1][0]===We.DIFF_EQUAL){var r=t[n-1][1],i=t[n][1],a=t[n+1][1],s=this.diff_commonSuffix(r,i);if(s){var l=i.substring(i.length-s);r=r.substring(0,r.length-s),i=l+i.substring(0,i.length-s),a=l+a}for(var c=r,u=i,f=a,y=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,a);i.charAt(0)===a.charAt(0);){r+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);var v=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,a);v>=y&&(y=v,c=r,u=i,f=a)}t[n-1][1]!==c&&(c?t[n-1][1]=c:(t.splice(n-1,1),n--),t[n][1]=u,f?t[n+1][1]=f:(t.splice(n+1,1),n--))}n++}},e.prototype.diff_cleanupEfficiency=function(t){for(var n=!1,r=[],i=0,a=null,s=0,l=!1,c=!1,u=!1,f=!1;s<t.length;)t[s][0]===We.DIFF_EQUAL?(t[s][1].length<this.diffEditCost&&(u||f)?(r[i++]=s,l=u,c=f,a=t[s][1]):(i=0,a=null),u=f=!1):(t[s][0]===We.DIFF_DELETE?f=!0:u=!0,a&&(l&&c&&u&&f||a.length<this.diffEditCost/2&&Number(l)+Number(c)+Number(u)+Number(f)===3)&&(t.splice(r[i-1],0,[We.DIFF_DELETE,a]),t[r[i-1]+1][0]=We.DIFF_INSERT,i--,a=null,l&&c?(u=f=!0,i=0):(i--,s=i>0?r[i-1]:-1,u=f=!1),n=!0)),s++;n&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([We.DIFF_EQUAL,""]);for(var n=0,r=0,i=0,a="",s="",l;n<t.length;)switch(t[n][0]){case We.DIFF_INSERT:i++,s+=t[n][1],n++;break;case We.DIFF_DELETE:r++,a+=t[n][1],n++;break;case We.DIFF_EQUAL:r+i>1?(r!==0&&i!==0&&(l=this.diff_commonPrefix(s,a),l!==0&&(n-r-i>0&&t[n-r-i-1][0]===We.DIFF_EQUAL?t[n-r-i-1][1]+=s.substring(0,l):(t.splice(0,0,[We.DIFF_EQUAL,s.substring(0,l)]),n++),s=s.substring(l),a=a.substring(l)),l=this.diff_commonSuffix(s,a),l!==0&&(t[n][1]=s.substring(s.length-l)+t[n][1],s=s.substring(0,s.length-l),a=a.substring(0,a.length-l))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[We.DIFF_DELETE,a]),n++),s.length&&(t.splice(n,0,[We.DIFF_INSERT,s]),n++),n++):n!==0&&t[n-1][0]===We.DIFF_EQUAL?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",s="";break}t[t.length-1][1]===""&&t.pop();var c=!1;for(n=1;n<t.length-1;)t[n-1][0]===We.DIFF_EQUAL&&t[n+1][0]===We.DIFF_EQUAL&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;c&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,n){var r=0,i=0,a=0,s=0,l;for(l=0;l<t.length&&(t[l][0]!==We.DIFF_INSERT&&(r+=t[l][1].length),t[l][0]!==We.DIFF_DELETE&&(i+=t[l][1].length),!(r>n));l++)a=r,s=i;return t.length!==l&&t[l][0]===We.DIFF_DELETE?s:s+(n-a)},e.prototype.diff_prettyHtml=function(t){for(var n=[],r=/&/g,i=/</g,a=/>/g,s=/\n/g,l=0;l<t.length;l++){var c=t[l][0],u=t[l][1],f=u.replace(r,"&amp;").replace(i,"&lt;").replace(a,"&gt;").replace(s,"&para;<br>");switch(c){case We.DIFF_INSERT:n[l]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case We.DIFF_DELETE:n[l]='<del style="background:#ffe6e6;">'+f+"</del>";break;case We.DIFF_EQUAL:n[l]="<span>"+f+"</span>";break}}return n.join("")},e.prototype.diff_text1=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==We.DIFF_INSERT&&(n[r]=t[r][1]);return n.join("")},e.prototype.diff_text2=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==We.DIFF_DELETE&&(n[r]=t[r][1]);return n.join("")},e.prototype.diff_levenshtein=function(t){for(var n=0,r=0,i=0,a=0;a<t.length;a++){var s=t[a][0],l=t[a][1];switch(s){case We.DIFF_INSERT:r+=l.length;break;case We.DIFF_DELETE:i+=l.length;break;case We.DIFF_EQUAL:n+=zn.max(r,i),r=0,i=0;break}}return n+=zn.max(r,i),n},e.prototype.diff_toDelta=function(t){for(var n=[],r=0;r<t.length;r++)switch(t[r][0]){case We.DIFF_INSERT:n[r]="+"+encodeURI(t[r][1]);break;case We.DIFF_DELETE:n[r]="-"+t[r][1].length;break;case We.DIFF_EQUAL:n[r]="="+t[r][1].length;break}return n.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,n){for(var r=[],i=0,a=0,s=n.split(/\t/g),l=0;l<s.length;l++){var c=s[l].substring(1);switch(s[l].charAt(0)){case"+":try{r[i++]=[We.DIFF_INSERT,decodeURI(c)]}catch(y){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var f=t.substring(a,a+=u);s[l].charAt(0)==="="?r[i++]=[We.DIFF_EQUAL,f]:r[i++]=[We.DIFF_DELETE,f];break;default:if(s[l])throw new Error("Invalid diff operation in diff_fromDelta: "+s[l])}}if(a!==t.length)throw new Error("Delta length ("+a+") does not equal source text length ("+t.length+")");return r},e.prototype.diff_linesToChars=function(t,n){var r=[],i={};r[0]="";var a=this.diff_linesToCharsMunge_(t,r,i,4e4),s=this.diff_linesToCharsMunge_(n,r,i,65535);return{chars1:a,chars2:s,lineArray:r}},e.prototype.diff_charsToLines=function(t,n){for(var r=0;r<t.length;r++){for(var i=t[r][1],a=[],s=0;s<i.length;s++)a[s]=n[i.charCodeAt(s)];t[r][1]=a.join("")}},e.prototype.match_main=function(t,n,r){if(t==null||n==null||r==null)throw new Error("Null input. (match_main)");return r=zn.max(0,zn.min(r,t.length)),t===n?0:t.length?t.substring(r,r+n.length)===n?r:this.match_bitap_(t,n,r):-1},e.prototype.patch_make=function(t,n,r){var i,a;if(typeof t=="string"&&typeof n=="string"&&typeof r=="undefined")i=t,a=this.diff_main(i,n,!0),a.length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(t&&typeof t=="object"&&typeof n=="undefined"&&typeof r=="undefined")a=t,i=this.diff_text1(a);else if(typeof t=="string"&&n&&typeof n=="object"&&typeof r=="undefined")i=t,a=n;else if(typeof t=="string"&&typeof n=="string"&&r&&typeof r=="object")i=t,a=r;else throw new Error("Unknown call format to patch_make");if(a.length===0)return[];for(var s=[],l=new Hr,c=0,u=0,f=0,y=i,v=i,S=0;S<a.length;S++){var H=a[S][0],Z=a[S][1];switch(!c&&H!==We.DIFF_EQUAL&&(l.start1=u,l.start2=f),H){case We.DIFF_INSERT:l.diffs[c++]=a[S],l.length2+=Z.length,v=v.substring(0,f)+Z+v.substring(f);break;case We.DIFF_DELETE:l.length1+=Z.length,l.diffs[c++]=a[S],v=v.substring(0,f)+v.substring(f+Z.length);break;case We.DIFF_EQUAL:Z.length<=2*this.patchMargin&&c&&a.length!==S+1?(l.diffs[c++]=a[S],l.length1+=Z.length,l.length2+=Z.length):Z.length>=2*this.patchMargin&&c&&(this.patch_addContext_(l,y),s.push(l),l=new Hr,c=0,y=v,u=f);break}H!==We.DIFF_INSERT&&(u+=Z.length),H!==We.DIFF_DELETE&&(f+=Z.length)}return c&&(this.patch_addContext_(l,y),s.push(l)),s},e.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){for(var i=t[r],a=new Hr,s=0;s<i.diffs.length;s++)a.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];a.start1=i.start1,a.start2=i.start2,a.length1=i.length1,a.length2=i.length2,n[r]=a}return n},e.prototype.patch_apply=function(t,n){if(t.length===0)return[n,[]];t=this.patch_deepCopy(t);var r=this.patch_addPadding(t);n=r+n+r,this.patch_splitMax(t);for(var i=0,a=[],s=0;s<t.length;s++){var l=t[s].start2+i,c=this.diff_text1(t[s].diffs),u=void 0,f=-1;if(c.length>this.matchMaxBits?(u=this.match_main(n,c.substring(0,this.matchMaxBits),l),u!==-1&&(f=this.match_main(n,c.substring(c.length-this.matchMaxBits),l+c.length-this.matchMaxBits),(f===-1||u>=f)&&(u=-1))):u=this.match_main(n,c,l),u===-1)a[s]=!1,i-=t[s].length2-t[s].length1;else{a[s]=!0,i=u-l;var y=void 0;if(f===-1?y=n.substring(u,u+c.length):y=n.substring(u,f+this.matchMaxBits),c===y)n=n.substring(0,u)+this.diff_text2(t[s].diffs)+n.substring(u+c.length);else{var v=this.diff_main(c,y,!1);if(c.length>this.matchMaxBits&&this.diff_levenshtein(v)/c.length>this.patchDeleteThreshold)a[s]=!1;else{this.diff_cleanupSemanticLossless(v);for(var S=0,H=0,Z=0;Z<t[s].diffs.length;Z++){var U=t[s].diffs[Z];U[0]!==We.DIFF_EQUAL&&(H=this.diff_xIndex(v,S)),U[0]===We.DIFF_INSERT?n=n.substring(0,u+H)+U[1]+n.substring(u+H):U[0]===We.DIFF_DELETE&&(n=n.substring(0,u+H)+n.substring(u+this.diff_xIndex(v,S+U[1].length))),U[0]!==We.DIFF_DELETE&&(S+=U[1].length)}}}}}return n=n.substring(r.length,n.length-r.length),[n,a]},e.prototype.patch_addPadding=function(t){for(var n=this.patchMargin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=n,t[i].start2+=n;var a=t[0],s=a.diffs;if(s.length===0||s[0][0]!==We.DIFF_EQUAL)s.unshift([We.DIFF_EQUAL,r]),a.start1-=n,a.start2-=n,a.length1+=n,a.length2+=n;else if(n>s[0][1].length){var l=n-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],a.start1-=l,a.start2-=l,a.length1+=l,a.length2+=l}if(a=t[t.length-1],s=a.diffs,s.length===0||s[s.length-1][0]!==We.DIFF_EQUAL)s.push([We.DIFF_EQUAL,r]),a.length1+=n,a.length2+=n;else if(n>s[s.length-1][1].length){var l=n-s[s.length-1][1].length;s[s.length-1][1]+=r.substring(0,l),a.length1+=l,a.length2+=l}return r},e.prototype.patch_splitMax=function(t){for(var n=this.matchMaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=n)){var i=t[r];t.splice(r--,1);for(var a=i.start1,s=i.start2,l="";i.diffs.length!==0;){var c=new Hr,u=!0;for(c.start1=a-l.length,c.start2=s-l.length,l!==""&&(c.length1=c.length2=l.length,c.diffs.push([We.DIFF_EQUAL,l]));i.diffs.length!==0&&c.length1<n-this.patchMargin;){var f=i.diffs[0][0],y=i.diffs[0][1];f===We.DIFF_INSERT?(c.length2+=y.length,s+=y.length,c.diffs.push(i.diffs.shift()),u=!1):f===We.DIFF_DELETE&&c.diffs.length===1&&c.diffs[0][0]===We.DIFF_EQUAL&&y.length>2*n?(c.length1+=y.length,a+=y.length,u=!1,c.diffs.push([f,y]),i.diffs.shift()):(y=y.substring(0,n-c.length1-this.patchMargin),c.length1+=y.length,a+=y.length,f===We.DIFF_EQUAL?(c.length2+=y.length,s+=y.length):u=!1,c.diffs.push([f,y]),y===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(y.length))}l=this.diff_text2(c.diffs),l=l.substring(l.length-this.patchMargin);var v=this.diff_text1(i.diffs).substring(0,this.patchMargin);v!==""&&(c.length1+=v.length,c.length2+=v.length,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===We.DIFF_EQUAL?c.diffs[c.diffs.length-1][1]+=v:c.diffs.push([We.DIFF_EQUAL,v])),u||t.splice(++r,0,c)}}},e.prototype.patch_toText=function(t){for(var n=[],r=0;r<t.length;r++)n[r]=t[r];return n.join("")},e.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var r=t.split(`
`),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var s=r[i].match(a);if(!s)throw new Error("Invalid patch string: "+r[i]);var l=new Hr;n.push(l),l.start1=parseInt(s[1],10),s[2]===""?(l.start1--,l.length1=1):s[2]==="0"?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),s[4]===""?(l.start2--,l.length2=1):s[4]==="0"?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),i++;for(var c=void 0,u=void 0,f=void 0;i<r.length;){c=r[i].charAt(0),f=r[i].substring(1);try{u=decodeURI(f)}catch(y){throw new Error("Illegal escape in patch_fromText: "+f)}if(c==="-")l.diffs.push([We.DIFF_DELETE,u]);else if(c==="+")l.diffs.push([We.DIFF_INSERT,u]);else if(c===" ")l.diffs.push([We.DIFF_EQUAL,u]);else{if(c==="@")break;if(c!=="")throw new Error('Invalid patch mode "'+c+'" in: '+u)}i++}}return n},e.prototype.diff_compute_=function(t,n,r,i){var a;if(!t)return[[We.DIFF_INSERT,n]];if(!n)return[[We.DIFF_DELETE,t]];var s=t.length>n.length?t:n,l=t.length>n.length?n:t,c=s.indexOf(l);if(c!==-1)return a=[[We.DIFF_INSERT,s.substring(0,c)],[We.DIFF_EQUAL,l],[We.DIFF_INSERT,s.substring(c+l.length)]],t.length>n.length&&(a[0][0]=We.DIFF_DELETE,a[2][0]=We.DIFF_DELETE),a;if(l.length===1)return[[We.DIFF_DELETE,t],[We.DIFF_INSERT,n]];var u=this.diff_halfMatch_(t,n);if(u){var f=u[0],y=u[1],v=u[2],S=u[3],H=u[4],Z=this.diff_main(f,v,r,i),U=this.diff_main(y,S,r,i);return Z.concat([[We.DIFF_EQUAL,H]],U)}return r&&t.length>100&&n.length>100?this.diff_lineMode_(t,n,i):this.diff_bisect_(t,n,i)},e.prototype.diff_lineMode_=function(t,n,r){var i=this.diff_linesToChars(t,n);t=i.chars1,n=i.chars2;var a=i.lineArray,s=this.diff_main(t,n,!1,r);this.diff_charsToLines(s,a),this.diff_cleanupSemantic(s),s.push([We.DIFF_EQUAL,""]);for(var l=0,c=0,u=0,f="",y="";l<s.length;){switch(s[l][0]){case We.DIFF_INSERT:u++,y+=s[l][1];break;case We.DIFF_DELETE:c++,f+=s[l][1];break;case We.DIFF_EQUAL:if(c>=1&&u>=1){s.splice(l-c-u,c+u),l=l-c-u;for(var v=this.diff_main(f,y,!1,r),S=v.length-1;S>=0;S--)s.splice(l,0,v[S]);l=l+v.length}u=0,c=0,f="",y="";break}l++}return s.pop(),s},e.prototype.diff_bisect_=function(t,n,r){for(var i=t.length,a=n.length,s=Math.ceil((i+a)/2),l=s,c=2*s,u=new Array(c),f=new Array(c),y=0;y<c;y++)u[y]=-1,f[y]=-1;u[l+1]=0,f[l+1]=0;for(var v=i-a,S=v%2!=0,H=0,Z=0,U=0,q=0,ne=0;ne<s&&!(Date.now()>r);ne++){for(var fe=-ne+H;fe<=ne-Z;fe+=2){var se=l+fe,be=void 0;fe===-ne||fe!==ne&&u[se-1]<u[se+1]?be=u[se+1]:be=u[se-1]+1;for(var rt=be-fe;be<i&&rt<a&&t.charAt(be)===n.charAt(rt);)be++,rt++;if(u[se]=be,be>i)Z+=2;else if(rt>a)H+=2;else if(S){var Ue=l+v-fe;if(Ue>=0&&Ue<c&&f[Ue]!==-1){var ke=i-f[Ue];if(be>=ke)return this.diff_bisectSplit_(t,n,be,rt,r)}}}for(var wt=-ne+U;wt<=ne-q;wt+=2){var Ue=l+wt,ke=void 0;wt===-ne||wt!==ne&&f[Ue-1]<f[Ue+1]?ke=f[Ue+1]:ke=f[Ue-1]+1;for(var Fe=ke-wt;ke<i&&Fe<a&&t.charAt(i-ke-1)===n.charAt(a-Fe-1);)ke++,Fe++;if(f[Ue]=ke,ke>i)q+=2;else if(Fe>a)U+=2;else if(!S){var se=l+v-wt;if(se>=0&&se<c&&u[se]!==-1){var be=u[se],rt=l+be-se;if(ke=i-ke,be>=ke)return this.diff_bisectSplit_(t,n,be,rt,r)}}}}return[[We.DIFF_DELETE,t],[We.DIFF_INSERT,n]]},e.prototype.diff_bisectSplit_=function(t,n,r,i,a){var s=t.substring(0,r),l=n.substring(0,i),c=t.substring(r),u=n.substring(i),f=this.diff_main(s,l,!1,a),y=this.diff_main(c,u,!1,a);return f.concat(y)},e.prototype.diff_linesToCharsMunge_=function(t,n,r,i){for(var a="",s=0,l=-1,c=n.length;l<t.length-1;){l=t.indexOf(`
`,s),l===-1&&(l=t.length-1);var u=t.substring(s,l+1);(r.hasOwnProperty?r.hasOwnProperty(u):r[u]!==void 0)?a+=String.fromCharCode(r[u]):(c===i&&(u=t.substring(s),l=t.length),a+=String.fromCharCode(c),r[u]=c,n[c++]=u),s=l+1}return a},e.prototype.diff_commonOverlap_=function(t,n){var r=t.length,i=n.length;if(r===0||i===0)return 0;r>i?t=t.substring(r-i):r<i&&(n=n.substring(0,r));var a=zn.min(r,i);if(t===n)return a;for(var s=0,l=1;;){var c=t.substring(a-l),u=n.indexOf(c);if(u===-1)return s;l+=u,(u===0||t.substring(a-l)===n.substring(0,l))&&(s=l,l++)}},e.prototype.diff_halfMatch_=function(t,n){if(this.diffTimeout<=0)return null;var r=t.length>n.length?t:n,i=t.length>n.length?n:t;if(r.length<4||i.length*2<r.length)return null;var a=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),s=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2)),l;if(!a&&!s)return null;s?a?l=a[4].length>s[4].length?a:s:l=s:l=a;var c,u,f,y,v=l[4];return t.length>n.length?(c=l[0],u=l[1],f=l[2],y=l[3]):(f=l[0],y=l[1],c=l[2],u=l[3]),[c,u,f,y,v]},e.prototype.diff_halfMatchI_=function(t,n,r){for(var i=t.substring(r,r+Math.floor(t.length/4)),a="",s,l,c,u,f=n.indexOf(i,0);f!==-1;){var y=this.diff_commonPrefix(t.substring(r),n.substring(f)),v=this.diff_commonSuffix(t.substring(0,r),n.substring(0,f));a.length<v+y&&(a=n.substring(f-v,f)+n.substring(f,f+y),s=t.substring(0,r-v),l=t.substring(r+y),c=n.substring(0,f-v),u=n.substring(f+y)),f=n.indexOf(i,f+1)}return a.length*2>=t.length?[s,l,c,u,a]:null},e.prototype.diff_cleanupSemanticScore_=function(t,n){if(!t||!n)return 6;var r=t.charAt(t.length-1),i=n.charAt(0),a=r.match(Gn),s=i.match(Gn),l=a&&r.match($n),c=s&&i.match($n),u=l&&r.match(nr),f=c&&i.match(nr),y=u&&t.match(jn),v=f&&n.match(nn);return y||v?5:u||f?4:a&&!l&&c?3:l||c?2:a||s?1:0},e.prototype.match_bitap_=function(t,n,r){if(n.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(n),a=this.matchThreshold,s=t.indexOf(n,r);s!==-1&&(a=zn.min(this.match_bitapScore_(0,s,n,r),a),s=t.lastIndexOf(n,r+n.length),s!==-1&&(a=zn.min(this.match_bitapScore_(0,s,n,r),a)));var l=1<<n.length-1;s=-1;for(var c,u,f=n.length+t.length,y,v=0;v<n.length;v++){for(c=0,u=f;c<u;)this.match_bitapScore_(v,r+u,n,r)<=a?c=u:f=u,u=Math.floor((f-c)/2+c);f=u;var S=zn.max(1,r-u+1),H=zn.min(r+u,t.length)+n.length,Z=Array(H+2);Z[H+1]=(1<<v)-1;for(var U=H;U>=S;U--){var q=i[t.charAt(U-1)];if(v===0?Z[U]=(Z[U+1]<<1|1)&q:Z[U]=(Z[U+1]<<1|1)&q|((y[U+1]|y[U])<<1|1)|y[U+1],Z[U]&l){var ne=this.match_bitapScore_(v,U-1,n,r);if(ne<=a)if(a=ne,s=U-1,s>r)S=zn.max(1,2*r-s);else break}}if(this.match_bitapScore_(v+1,r,n,r)>a)break;y=Z}return s},e.prototype.match_bitapScore_=function(t,n,r,i){var a=t/r.length,s=Math.abs(i-n);return this.matchDistance?a+s/this.matchDistance:s?1:a},e.prototype.match_alphabet_=function(t){for(var n={},r=0;r<t.length;r++)n[t.charAt(r)]=0;for(var r=0;r<t.length;r++)n[t.charAt(r)]|=1<<t.length-r-1;return n},e.prototype.patch_addContext_=function(t,n){if(n.length!==0){if(t.start2==null)throw Error("patch not initialized");for(var r=n.substring(t.start2,t.start2+t.length1),i=0;n.indexOf(r)!==n.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=n.substring(t.start2-i,t.start2+t.length1+i);i+=this.patchMargin;var a=n.substring(t.start2-i,t.start2);a&&t.diffs.unshift([We.DIFF_EQUAL,a]);var s=n.substring(t.start2+t.length1,t.start2+t.length1+i);s&&t.diffs.push([We.DIFF_EQUAL,s]),t.start1-=a.length,t.start2-=a.length,t.length1+=a.length+s.length,t.length2+=a.length+s.length}},e}();function Mr(e,t){let n={};for(let a=0;a<t.length;a++){const s=t[a];n[s]?n[s].push(a):n[s]=[a]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let a=0;a<e.length;a++){const s=e[a],l=n[s]||[];let c=0,u=i[0];for(let f=0;f<l.length;f++){const y=l[f];let v;for(v=c;v<i.length&&!(i[v].buffer2index<y&&(v===i.length-1||i[v+1].buffer2index>y));v++);if(v<i.length){const S={buffer1index:a,buffer2index:y,chain:i[v]};if(c===i.length?i.push(u):i[c]=u,c=v+1,u=S,c===i.length)break}}i[c]=u}return i[i.length-1]}o(Mr,"LCS");function Xn(e,t){const n=Mr(e,t);let r=[],i=e.length,a=t.length,s={common:[]};function l(){s.common.length&&(s.common.reverse(),r.push(s),s={common:[]})}o(l,"processCommon");for(let c=n;c!==null;c=c.chain){let u={buffer1:[],buffer2:[]};for(;--i>c.buffer1index;)u.buffer1.push(e[i]);for(;--a>c.buffer2index;)u.buffer2.push(t[a]);(u.buffer1.length||u.buffer2.length)&&(l(),u.buffer1.reverse(),u.buffer2.reverse(),r.push(u)),i>=0&&s.common.push(e[i])}return l(),r.reverse(),r}o(Xn,"diffComm");function qr(e,t){const n=Mr(e,t);let r=[],i=e.length,a=t.length;for(let s=n;s!==null;s=s.chain){const l=i-s.buffer1index-1,c=a-s.buffer2index-1;i=s.buffer1index,a=s.buffer2index,(l||c)&&r.push({buffer1:[i+1,l],buffer1Content:e.slice(i+1,i+1+l),buffer2:[a+1,c],buffer2Content:t.slice(a+1,a+1+c)})}return r.reverse(),r}o(qr,"diffIndices");function di(e,t){const n=Mr(e,t);let r=[],i=e.length,a=t.length;function s(l,c,u){let f=[];for(let y=0;y<u;y++)f.push(l[c+y]);return{offset:c,length:u,chunk:f}}o(s,"chunkDescription");for(let l=n;l!==null;l=l.chain){const c=i-l.buffer1index-1,u=a-l.buffer2index-1;i=l.buffer1index,a=l.buffer2index,(c||u)&&r.push({buffer1:s(e,l.buffer1index+1,c),buffer2:s(t,l.buffer2index+1,u)})}return r.reverse(),r}o(di,"diffPatch");function sr(e,t,n){let r=[];function i(c,u){r.push({ab:u,oStart:c.buffer1[0],oLength:c.buffer1[1],abStart:c.buffer2[0],abLength:c.buffer2[1]})}o(i,"addHunk"),qr(t,e).forEach(c=>i(c,"a")),qr(t,n).forEach(c=>i(c,"b")),r.sort((c,u)=>c.oStart-u.oStart);let a=[],s=0;function l(c){c>s&&(a.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:c-s,bufferContent:t.slice(s,c)}),s=c)}for(o(l,"advanceTo");r.length;){let c=r.shift(),u=c.oStart,f=c.oStart+c.oLength,y=[c];for(l(u);r.length;){const v=r[0],S=v.oStart;if(S>f)break;f=Math.max(f,S+v.oLength),y.push(r.shift())}if(y.length===1){if(c.abLength>0){const v=c.ab==="a"?e:n;a.push({stable:!0,buffer:c.ab,bufferStart:c.abStart,bufferLength:c.abLength,bufferContent:v.slice(c.abStart,c.abStart+c.abLength)})}}else{let v={a:[e.length,-1,t.length,-1],b:[n.length,-1,t.length,-1]};for(;y.length;){c=y.shift();const ne=c.oStart,fe=ne+c.oLength,se=c.abStart,be=se+c.abLength;let rt=v[c.ab];rt[0]=Math.min(se,rt[0]),rt[1]=Math.max(be,rt[1]),rt[2]=Math.min(ne,rt[2]),rt[3]=Math.max(fe,rt[3])}const S=v.a[0]+(u-v.a[2]),H=v.a[1]+(f-v.a[3]),Z=v.b[0]+(u-v.b[2]),U=v.b[1]+(f-v.b[3]);let q={stable:!1,aStart:S,aLength:H-S,aContent:e.slice(S,H),oStart:u,oLength:f-u,oContent:t.slice(u,f),bStart:Z,bLength:U-Z,bContent:n.slice(Z,U)};a.push(q)}s=f}return l(t.length),a}o(sr,"diff3MergeRegions");function Ar(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const a=typeof e=="string",s=typeof t=="string",l=typeof n=="string";a&&(e=e.split(r.stringSeparator)),s&&(t=t.split(r.stringSeparator)),l&&(n=n.split(r.stringSeparator));let c=[];const u=sr(e,t,n);let f=[];function y(){f.length&&c.push({ok:f}),f=[]}o(y,"flushOk");function v(S,H){if(S.length!==H.length)return!1;for(let Z=0;Z<S.length;Z++)if(S[Z]!==H[Z])return!1;return!0}return o(v,"isFalseConflict"),u.forEach(S=>{S.stable?f.push(...S.bufferContent):r.excludeFalseConflicts&&v(S.aContent,S.bContent)?f.push(...S.aContent):(y(),c.push({conflict:{a:S.aContent,aIndex:S.aStart,o:S.oContent,oIndex:S.oStart,b:S.bContent,bIndex:S.bStart}}))}),y(),c}o(Ar,"diff3Merge");function Zi(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const a=Ar(e,t,n,r);let s=!1,l=[];return a.forEach(c=>{c.ok?l=l.concat(c.ok):c.conflict&&(s=!0,l.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),l=l.concat(c.conflict.a),l.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),l=l.concat(c.conflict.o),l.push("======="),l=l.concat(c.conflict.b),l.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:s,result:l}}o(Zi,"mergeDiff3");function Qi(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const a=Ar(e,t,n,r);let s=!1,l=[];for(let c=0;c<a.length;c++){const u=a[c];u.ok?l=l.concat(u.ok):(s=!0,l=l.concat([`
<<<<<<<<<
`],u.conflict.a,[`
=========
`],u.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:l}}o(Qi,"node_diff3_merge");function va(e,t,n,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const a=Ar(e,t,n,r);let s=!1,l=[];for(let c=0;c<a.length;c++){const u=a[c];if(u.ok)l=l.concat(u.ok);else{const f=Xn(u.conflict.a,u.conflict.b);for(let y=0;y<f.length;y++){let v=f[y];v.common?l=l.concat(v.common):(s=!0,l=l.concat([`
<<<<<<<<<
`],v.buffer1,[`
=========
`],v.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:l}}o(va,"mergeDigIn");function ma(e,t){let n=[],r=0;function i(a){for(;r<a;)n.push(e[r]),r++}o(i,"advanceTo");for(let a=0;a<t.length;a++){let s=t[a];i(s.buffer1.offset);for(let l=0;l<s.buffer2.chunk.length;l++)n.push(s.buffer2.chunk[l]);r+=s.buffer1.length}return i(e.length),n}o(ma,"patch");function Vr(e){return e.map(t=>({buffer1:{offset:t.buffer1.offset,length:t.buffer1.length},buffer2:{chunk:t.buffer2.chunk}}))}o(Vr,"stripPatch");function Ai(e){return e.map(t=>({buffer1:t.buffer2,buffer2:t.buffer1}))}o(Ai,"invertPatch");const ti=new zr;ti.diffTimeout=0;function Wr(e,t,n){return Ye.get("experimental.useDiffMatchPatch")===!0?ti.patch_toText(ti.patch_make(t,n)):Xe(e,t,n)}o(Wr,"diffs_createPatch");function Lr(e,t,n,r){const i=`diff --git a/${e} b/${e}`;switch(r){case"modify":return Wr(e,t,n);case"add":{let a;!n.endsWith(`
`)&&!n.endsWith(`\r
`)?a=`
\\ No newline at end of file`:a="";const s=/\r?\n/g,l=n.split(s),c=n.match(s)||[],u=l.length,f=[];for(let y=0;y<u;y+=1)(y<l.length-1||y===l.length-1&&l[y]!=="")&&f.push("+"),f.push(l[y]),y<c.length&&f.push(c[y]);return n=f.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${e}
@@ -0,0 +1,${u} @@
${n}${a}`}case"delete":{let a=0;return t=t.replace(/\r?\n/g,s=>(a++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${e}
+++ /dev/null
@@ -1,${a} +0,0 @@
-${t}`}}}o(Lr,"createPatch2");function wr(e,t,n){return Bt(e,t,n)}o(wr,"diffs_applyPatch");function Xi(e,t){const n=[];for(const r of Qe(e,t))n.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(a=>a[0]==="-"?`+${a.slice(1)}`:a[0]==="+"?`-${a.slice(1)}`:a)}))}),n.push(r);return n}o(Xi,"reversePatch");function _e(e,t,n,r){let i=`
`;const a=e.match(/(?:\r?\n)/g);if(a!==null&&a.length!==0){const u=a.filter(f=>f===`\r
`).length;i=u>a.length-u?`\r
`:`
`}const s=Qi(e,t,n,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),l=s.result;let c=s.conflict;for(let u=0;u<l.length;u+=1)l[u]===`
<<<<<<<<<
`?l[u]="<<<<<<< HEAD":l[u]===`
=========
`?l[u]="=======":l[u]===`
>>>>>>>>>
`&&(l[u]=`>>>>>>> ${r}`);return{conflicts:c,mergedContent:l.join(i)}}o(_e,"diffs_merge");function nt(e){return e!==void 0&&typeof e.then=="function"}o(nt,"isPromise");const at="";function ct(...e){if(e.length===1){const t=e[0];return t===void 0?at:typeof t=="string"?t:typeof t=="number"||typeof t=="boolean"||t instanceof Error?String(t):t instanceof d.Uri?t.toString():JSON.stringify(t)}return JSON.stringify(e)}o(ct,"defaultResolver");function Pt(e){return(t,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const a=`$gate$${n}`;r.value=function(...s){const l=s.length===0?a:`${a}$${(e!=null?e:ct)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[l];if(c===void 0){let u;try{if(u=i.apply(this,s),u==null||!nt(u))return u;this[l]=c=u.then(f=>(this[l]=void 0,f)).catch(f=>{throw this[l]=void 0,f})}catch(f){throw this[l]=void 0,f}}return c}}}o(Pt,"gate");function an(e){const t=performance.now()*.001;let n=Math.floor(t),r=Math.floor(t%1*1e9);return e!==void 0&&(n=n-e[0],r=r-e[1],r<0&&(n--,r+=1e9)),[n,r]}o(an,"hrtime");let rn=0;function mn(){return rn===Number.MAX_SAFE_INTEGER&&(rn=0),++rn}o(mn,"getNextInstanceId");const N=o(class{constructor(e,t,...n){this.context=e,this.instance=`[${mn().toString().padStart(5)}] `;var r,i,a,s,l,c;let u;if(typeof(t==null?void 0:t.log)=="boolean"?u=t.log?{}:void 0:u=(r=t==null?void 0:t.log)!=null?r:{},this.logLevel=(i=t==null?void 0:t.logLevel)!=null?i:Je.Info,this.time=an(),u){if(!xe.enabled(this.logLevel))return;n.length?X(this.logLevel,`${this.instance}${(a=u.prefix)!=null?a:""}${e}${(s=u.message)!=null?s:""}`,...n):X(this.logLevel,`${this.instance}${(l=u.prefix)!=null?l:""}${e}${(c=u.message)!=null?c:""}`)}}log(e){this.logCore(this.context,e,!1)}logStep(e,t){(!e||t)&&this.logCore(this.context,t,!1),this.step=e?{time:an(),label:e}:void 0}restart(e){this.logCore(this.context,e,!0),this.step=void 0,this.time=an()}stop(e){this.restart(e)}logCore(e,t,n){var r,i,a,s,l,c,u;if(!xe.enabled(this.logLevel))return;let f="";if(this.step){const[H,Z]=an(this.step.time),U=H*1e3+Math.floor(Z/1e6);f=`${this.step.label?`${this.step.label} took `:""}${U} ms`}if(!n){X(this.logLevel,`${this.instance}${(r=t==null?void 0:t.prefix)!=null?r:""}${e}${(i=t==null?void 0:t.message)!=null?i:""}${f?` ${f}`:""}${(a=t==null?void 0:t.suffix)!=null?a:""}`);return}const[y,v]=an(this.time),S=y*1e3+Math.floor(v/1e6);X(S>500?Je.Warn:this.logLevel,`${this.instance}${(s=t==null?void 0:t.prefix)!=null?s:""}${e}${(l=t==null?void 0:t.message)!=null?l:""}${(c=t==null?void 0:t.took)!=null?c:" took "}${S} ms${f?` (${f})`:""}${(u=t==null?void 0:t.suffix)!=null?u:""}`)}static start(e,t,...n){var r;(r=N.watches.get(e))==null||r.log(),N.watches.set(e,new N(e,t,...n))}static log(e,t){var n;(n=N.watches.get(e))==null||n.log(t)}static stop(e,t){var n;(n=N.watches.get(e))==null||n.stop(t),N.watches.delete(e)}},"_Stopwatch");let j=N;j.watches=new Map;function X(e,t,...n){switch(e){case Je.Warn:xe.warn(t,...n);break;case Je.Info:xe.log(t,...n);break;default:xe.debug(t,...n);break}}o(X,"log");let we=0;function He(){return we===Number.MAX_SAFE_INTEGER&&(we=0),String(++we)}o(He,"getNextLockId");class Ne{constructor(){this.id=He()}async synchronize(t){let n;const r=this.promise;this.promise=new Promise(i=>n=i),await r;try{return await t()}finally{n()}}}o(Ne,"Lock");class It{constructor(t){this.lock=new Ne,this.readers=new Set,this.counter=0,this._id=t!=null?t:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(t,n){let r;const i=new j(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:Je.Debug});let a;await this.lock.synchronize(async()=>{this.writer&&await this.writer,a=new Promise(s=>r=s),this.readers.add(a)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await t()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),a!==void 0&&this.readers.delete(a),r()}}async synchronizeWrite(t,n){let r;const i=new j(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:Je.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const a=[...this.readers];this.readers.clear(),await Promise.all(a)}this.writer=new Promise(a=>r=a)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await t()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),r(),this.writer=void 0}}}o(It,"ReaderWriterLock");class Ht{constructor(){this.locks=new Map}async synchronizeRead(t,n,r){let i=this.locks.get(t);return i===void 0&&(i=new It(String(t)),this.locks.set(t,i)),i.synchronizeRead(n,r)}async synchronizeWrite(t,n,r){let i=this.locks.get(t);return i===void 0&&(i=new It(String(t)),this.locks.set(t,i)),i.synchronizeWrite(n,r)}}o(Ht,"KeyedReaderWriterLock");const yn=new TextDecoder,pn=new TextEncoder;async function An(e){const t=typeof e=="string"?pn.encode(e):e;let n;if(globalThis.crypto.subtle)n=await globalThis.crypto.subtle.digest({name:"sha-1"},t);else{const r=new ni;r.update(t),n=r.digest()}return globalThis.btoa(encodeURIComponent(yn.decode(n)))}o(An,"sha1");var Jn;(function(e){e[e.BLOCK_SIZE=64]="BLOCK_SIZE"})(Jn||(Jn={}));function rr(e,t,n=32){const r=n-t,i=~((1<<r)-1);return(e<<t|(i&e)>>>r)>>>0}o(rr,"leftRotate");function _r(e,t=0,n=e.byteLength,r=0){for(let i=0;i<n;i++)e[t+i]=r}o(_r,"fill");const Rr=o(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(e){const t=this._buff;let n=this._buffLen,r=0;const i=e.byteLength;for(;r<i;){const a=Math.min(64-n,i-r);for(let s=0;s<a;s++)t[n++]=e[r++];n>=64&&(this._step(),n-=64,this._totalLen+=64)}this._buffLen=n}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this._h0,!1),t.setUint32(4,this._h1,!1),t.setUint32(8,this._h2,!1),t.setUint32(12,this._h3,!1),t.setUint32(16,this._h4,!1),e}_wrapUp(){this._buff[this._buffLen++]=128,_r(this._buff,this._buffLen),this._buffLen>56&&(this._step(),_r(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Rr._bigBlock32,t=this._buffDV;for(let f=0;f<64;f+=4)e.setUint32(f,t.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)e.setUint32(f,rr(e.getUint32(f-12,!1)^e.getUint32(f-32,!1)^e.getUint32(f-56,!1)^e.getUint32(f-64,!1),1),!1);let n=this._h0,r=this._h1,i=this._h2,a=this._h3,s=this._h4,l,c,u;for(let f=0;f<80;f++)f<20?(l=r&i|~r&a,c=1518500249):f<40?(l=r^i^a,c=1859775393):f<60?(l=r&i|r&a|i&a,c=2400959708):(l=r^i^a,c=3395469782),u=rr(n,5)+l+s+c+e.getUint32(f*4,!1)&4294967295,s=a,a=i,i=rr(r,30),r=n,n=u;this._h0=this._h0+n&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+a&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let ni=Rr;ni._bigBlock32=new DataView(new ArrayBuffer(320));function ri(e){const t=globalThis.atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}o(ri,"fromBase64");const{fromCharCode:Ri}=String;function Rs(e){let t;if(typeof e=="string")t=e;else{t="";for(let n=0,{length:r}=e;n<r;n++)t+=Ri(e[n])}return globalThis.btoa(t)}o(Rs,"toBase64");function Wa(e,t){if(e===t)return-1;let n=0;for(;e[n]===t[n];)n++;return n}o(Wa,"indexOfDifference");var ja=Object.defineProperty,q0=Object.getOwnPropertyDescriptor,V0=o((e,t,n,r)=>{for(var i=r>1?void 0:r?q0(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&ja(t,n,i),i},"__decorateClass");const G0=d.FileSystemError.FileNotFound().code,Yf=`===================================================================
`,hi=new TextDecoder,Z0=new TextEncoder;function Q0(e){return e&&"type"in e&&"uri"in e&&"uri"in e&&"fileType"in e&&"revision"in e&&"timestamp"in e}o(Q0,"isOperation");function Ds(e,t,n){return{type:e.type,rootUri:t,uri:n!=null?n:e.uri}}o(Ds,"toEvent");const Ao=o(class{constructor(e,t,n,r,i,a){this.providerService=e,this.storageService=t,this.fileStorageService=n,this.telemetryService=r,this.workspaceId=i,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new Ht,this.scopedStores=new Map,a===void 0&&(this.disposable=d.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var e;(e=this.disposable)==null||e.dispose()}async exportDebugInfo(e){var t;async function n(r){const i=await d.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void d.window.showTextDocument(i)}if(o(n,"exportCore"),e===void 0)for(const r of(t=d.workspace.workspaceFolders)!=null?t:[])await n.call(this,r.uri);else return n.call(this,e)}async getWorkspacesWithChanges(){var e;const t=new j("ChangeStore.getWorkspacesWithChanges()");try{const n=[];for(const r of(e=d.workspace.workspaceFolders)!=null?e:[])r.uri.scheme===D.scheme&&await this.hasChanges(r.uri)&&n.push(r.uri);return n.length>0?n:void 0}finally{t.stop()}}async acceptAll(e,t){const n=`ChangeStore.acceptAll(${e.toString()}, ${t==null?void 0:t.staged})`;xe.log(n);const r=[];await this.lock.synchronizeWrite(C(e),async()=>{const i=await this.getWorkingOperations(e),a=[];let s=[];const l=(t==null?void 0:t.staged)&&!(t.staged==="auto"&&!i.some(c=>c.staged));for(const c of i){if(l&&!c.staged){s.push(c);continue}c.fileType===d.FileType.File&&await this.discardWorkingContent(e,c.uri);let u;if(c.type===G.Created&&c.fileType===d.FileType.Directory&&(i.some(f=>B(f.uri,c.uri))||(u={type:G.Deleted,rootUri:e,uri:c.uri})),r.push(u!=null?u:Ds(c,e)),c.type===G.Created){let f=c.uri;for(;;){const{parent:y}=this.findParent(f,i,v=>v.type===G.Created);if(y){a.push(y),f=y.uri;continue}break}}}s.length>0&&a.length>0&&(s=s.filter(c=>a.includes(c)?(r.push(Ds(c,e)),!1):!0)),await this.saveWorkingOperations(e,s)},n),r.length!==0&&this._onDidChange.fire(r)}async discard(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.discard(${e.toString()})`;xe.log(n);const r=[];await this.lock.synchronizeWrite(C(t),async()=>this.discardCore(t,e,r),n),r.length!==0&&this._onDidChange.fire(r)}async discardCore(e,t,n){xe.debug(`ChangeStore.discardCore(${t.toString()})`);let r=await this.getWorkingOperations(e);if(r.length===0)return;const i=M(t),a=r.findIndex(c=>M(c.uri)===i);if(a===-1)return;const[s]=r.splice(a,1);let l;switch(s.type){case G.Created:l=G.Deleted;break;case G.Deleted:l=G.Created;break;default:l=s.type;break}if(n.push({type:l,rootUri:e,uri:t}),s.type===G.Created){let c=s.uri;for(;;){const{parent:u,parentIndex:f}=this.findNewParentWithOnlyChild(c,r);if(u){r.splice(f,1),n.push({type:G.Deleted,rootUri:e,uri:u.uri}),c=u.uri;continue}break}}else if(s.type===G.Deleted){let c=s.uri;const u=this.findDeletedParents(c,r);let f=[...r];u.forEach(({parent:y,parentIndex:v})=>{f[v]=void 0,n.push({type:G.Created,rootUri:e,uri:y.uri})}),r=f.filter(y=>y!==void 0)}await this.saveWorkingOperations(e,r),s.fileType===d.FileType.File&&await this.discardWorkingContent(e,t)}async discardAll(e,t){const n=this.getUriScope(e);if(n)return this.getScopedChangeStore(n).discardAll(e,t);const r=`ChangeStore.discardAll(${e.toString()}, ${t==null?void 0:t.staged})`;xe.log(r);const i=[];await this.lock.synchronizeWrite(C(e),async()=>{const a=await this.getWorkingOperations(e),s=[];let l=[];const c=(t==null?void 0:t.staged)&&!(t.staged==="auto"&&!a.some(u=>u.staged));for(const u of a){if(c&&!u.staged){l.push(u);continue}u.fileType===d.FileType.File&&await this.discardWorkingContent(e,u.uri);let f;switch(u.type){case G.Created:f=G.Deleted;break;case G.Deleted:f=G.Created;break;default:f=u.type;break}if(i.push({type:f,rootUri:e,uri:u.uri}),u.type===G.Created){let y=u.uri;for(;;){const{parent:v}=this.findNewParentWithOnlyChild(y,a);if(v){s.push(v),y=v.uri;continue}break}}}l.length>0&&s.length>0&&(l=l.filter(u=>s.includes(u)?(i.push({type:G.Deleted,rootUri:e,uri:u.uri}),!1):!0)),await this.saveWorkingOperations(e,l)},r),i.length!==0&&this._onDidChange.fire(i)}async stage(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.stage(${e.toString()})`;xe.log(n);const r=[];await this.lock.synchronizeWrite(C(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);i!==void 0&&await this.stageCore(t,e,i,r,a)},n),r.length!==0&&this._onDidChange.fire(r)}async stageAll(e){const t=`ChangeStore.stageAll(${e.toString()})`;xe.log(t);const n=[];await this.lock.synchronizeWrite(C(e),async()=>{const r=(await this.getWorkingOperations(e)).filter(i=>!i.staged);if(r.length!==0)for(const i of r){const{index:a}=await this.getWorkingOperation(i.uri,e);if(!await this.stageCore(e,i.uri,i,n,a))return}},t),n.length!==0&&this._onDidChange.fire(n)}async stageCore(e,t,n,r,i){if(n.conflicts){if(!n.conflicts.status.includes(G.Deleted)){const s=d.l10n.t("Yes");if(await d.window.showWarningMessage(d.l10n.t("Are you sure you want to stage {0} with merge conflicts?",$(t)),{modal:!0},s)!==s)return!1}const[,a]=n.conflicts.status;switch(a){case G.Changed:switch(n.type){case G.Created:return!1;case G.Changed:return await this.spliceOperation(t,i,{...n,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0;case G.Deleted:const s=d.l10n.t("Keep Their Version"),l=d.l10n.t("Delete File"),c=await d.window.showInformationMessage(d.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,$(t)),{modal:!0},s,l);return c===s?(await this.discardCore(e,t,r),!0):c===l?(await this.spliceOperation(t,i,{...n,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):!1}case G.Created:switch(n.type){case G.Changed:case G.Deleted:return!1;case G.Created:return await this.spliceOperation(t,i,{...n,type:G.Changed,conflicts:void 0,size:n.size,hash:n.hash,originalHash:n.originalHash,staged:!0,timestamp:Date.now()},r),!0}case G.Deleted:switch(n.type){case G.Created:case G.Changed:{const s=d.l10n.t("Keep Our Version"),l=d.l10n.t("Delete File"),c=await d.window.showInformationMessage(d.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,$(t)),{modal:!0},s,l);return c===s?(await this.spliceOperation(t,i,{...n,type:G.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):c===l?(await this.discardCore(e,t,r),!0):!1}case G.Deleted:return await this.discardCore(e,t,r),!0}}}return await this.spliceOperation(t,i,{...n,staged:!0,conflicts:void 0,timestamp:Date.now()},r),!0}async unstage(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.unstage(${e.toString()})`;xe.log(n);const r=[];await this.lock.synchronizeWrite(C(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);i!==void 0&&await this.spliceOperation(e,a,{...i,staged:!1,timestamp:Date.now()},r)},n),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(e){const t=`ChangeStore.unstageAll(${e.toString()})`;xe.log(t);const n=[];await this.lock.synchronizeWrite(C(e),async()=>{const r=(await this.getWorkingOperations(e)).map(i=>({...i,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(e,r),n.push(...r.map(i=>Ds(i,e))))},t),n.length!==0&&this._onDidChange.fire(n)}async hasChanges(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).hasChanges(e);const n=C(e),r=this.cache.get(n);return r!==void 0?r.length!==0:this.lock.synchronizeRead(n,async()=>(await this.getWorkingOperations(e)).length!==0,`ChangeStore.hasChanges(${e.toString()})`)}maybeHasChanges(e,t){const n=this.getUriScope(e);if(n)return this.getScopedChangeStore(n).maybeHasChanges(e,t);const r=C(e),i=this.cache.get(r);if(i===void 0)return;if(i.length===0)return!1;if(t===void 0)return!0;const a=M(t);return i.some(s=>M(s.uri)===a)}async hasMergeConflicts(e){return this.lock.synchronizeRead(C(e),async()=>(await this.getWorkingOperations(e)).some(t=>t.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${e.toString()})`)}async hasStagedChanges(e){return this.lock.synchronizeRead(C(e),async()=>(await this.getWorkingOperations(e)).some(t=>t.staged&&t.conflicts===void 0),`ChangeStore.hasStagedChanges(${e.toString()})`)}async hasWorkingChanges(e){return this.lock.synchronizeRead(C(e),async()=>(await this.getWorkingOperations(e)).some(t=>!t.staged&&t.conflicts===void 0),`ChangeStore.hasWorkingChanges(${e.toString()})`)}async getChange(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).getChange(e);const n=this.providerService.getVirtualRootUri(e);if(n!==void 0)return this.lock.synchronizeRead(C(n),async()=>{const{operation:r}=await this.getWorkingOperation(e,n);return r},`ChangeStore.getChange(${e.toString()})`)}async getChanges(e,t){const n=this.getUriScope(e);return n?this.getScopedChangeStore(n).getChanges(e,t):this.lock.synchronizeRead(C(e),async()=>{let r=await this.getWorkingOperations(e);if((t==null?void 0:t.excludeConflicts)||(t==null?void 0:t.predicate)){const{excludeConflicts:i,predicate:a}=t;r=r.filter(s=>{var l;return(!i||s.conflicts===void 0)&&((l=a==null?void 0:a(s))!=null?l:!0)})}return r},`ChangeStore.getChanges(${e.toString()})`)}async getGroupedChanges(e,t){const n=this.getUriScope(e);return n?this.getScopedChangeStore(n).getGroupedChanges(e,t):this.lock.synchronizeRead(C(e),async()=>{var r,i;const a=await this.getWorkingOperations(e),s={conflicts:[],staged:[],working:[]};for(const l of a)!((i=(r=t==null?void 0:t.predicate)==null?void 0:r.call(t,l))!=null?i:!0)||(l.conflicts?s.conflicts.push(l):l.staged?s.staged.push(l):s.working.push(l));return s},`ChangeStore.getChangesByType(${e.toString()})`)}async getContent(e){const t=this.providerService.getVirtualRootUri(e);if(t===void 0)throw new Error(`Unable to find content for ${e.toString()}; Repository not found`);const n=C(t),r=this.cache.get(n);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${e.toString()}`);return this.lock.synchronizeRead(n,async()=>{const i=hi.decode(await this.getWorkingContent(t,e));if(i!==void 0)return i;throw new Error(`Unable to find content for ${e.toString()}`)},`ChangeStore.getContent(${e.toString()}}`)}async getMergeConflicts(e,t){return this.lock.synchronizeRead(C(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return r.conflicts!==void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getMergeConflicts(${e.toString()})`)}async getStagedChanges(e,t){return this.lock.synchronizeRead(C(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return r.staged&&r.conflicts===void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getStagedChanges(${e.toString()})`)}async getWorkingChanges(e,t){return this.lock.synchronizeRead(C(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return!r.staged&&r.conflicts===void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getWorkingChanges(${e.toString()})`)}async applyChangeset(e,t,n,r){var i;let a;Q0(n)?a=n:r=r!=null?r:n,xe.log(`ChangeStore.applyChangeset${e.toString()}`,t.workspaceId,t.uri,a==null?void 0:a.uri,r==null?void 0:r.save);const s=this.getScopedChangeStore(t.workspaceId),l=(i=t.patch)!=null?i:await s.createPatch(t.uri,a==null?void 0:a.uri);await this.applyPatchCore(e,l,{...r,getIncomingContent:async c=>{const u=this.getScopedUri(this.providerService.createRelativeVirtualUri(t.uri,c),t.workspaceId);return hi.decode(await d.workspace.fs.readFile(u))},merge:async(c,u,f)=>{try{const y=D.getProviderUri(c),v=hi.decode(await d.workspace.fs.readFile(y)),S=this.getScopedUri(this.providerService.createRelativeVirtualUri(t.uri,u),t.workspaceId),H=hi.decode(await d.workspace.fs.readFile(S)),Z=await this.providerService.getMetadata(S);return{..._e(f,v,H,Z.HEAD.sha),baseUri:y,incomingUri:S}}catch(y){throw new Error(`Unable to apply patch to ${u}: ${String(y)}`)}}})}async applyPatch(e,t,n){if(xe.log(`ChangeStore.applyPatch(${e.toString()})`,n==null?void 0:n.save),!t.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(e,t,n)}async applyPatchCore(e,t,n={}){const r=`ChangeStore.applyPatchCore(${e.toString()})`;xe.debug(r,n==null?void 0:n.save);const i=new d.WorkspaceEdit,a=[],s=new Map;async function l(v){var S;const H=C(v),Z=d.workspace.textDocuments.find(U=>C(U.uri)===H);return(S=Z==null?void 0:Z.getText())!=null?S:hi.decode(await d.workspace.fs.readFile(v))}o(l,"getContent");async function c(v){try{const S=await d.workspace.fs.stat(v);return Boolean(S)}catch{return!1}}o(c,"exists");async function u(v,S,H){let Z=wr("",H,{fuzzFactor:0});if(Z===!1){if(!n.getIncomingContent)throw new Error(`Unable to apply patch to ${S}`);Z=await n.getIncomingContent(S)}i.createFile(v,{overwrite:!0}),i.replace(v,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Z)}o(u,"applyCreate");async function f(v,S,H,Z){const U=await l(v);let q=wr(U,H,{fuzzFactor:1});if(q===!1){if(n.merge===void 0)throw new Error(`Unable to apply patch to ${S}; Resulted in conflicts`);const ne={title:d.l10n.t("Merge")},fe={title:d.l10n.t("Skip File"),isCloseAffordance:!0};if(await d.window.showWarningMessage(d.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,S),{modal:!0},ne,fe)!==ne)return;const be=await n.merge(v,S,U);q=be.mergedContent,be.conflicts&&s.set(C(v),{type:Z,baseUri:be.baseUri,incomingUri:be.incomingUri})}i.replace(v,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),q)}o(f,"applyModification");const y=(n==null?void 0:n.reverse)?Xi(t,{}):Qe(t,{});for(const v of y)if(v.oldFileName==="/dev/null"){if(!v.newFileName)continue;const S=v.newFileName.startsWith("b/")?v.newFileName.substr(2):v.newFileName,H=this.providerService.createRelativeVirtualUri(e,S);a.push(C(H)),!await c(H)?await u(H,S,v):await f(H,S,v,G.Created)}else if(v.newFileName==="/dev/null"){if(!v.oldFileName)continue;const S=v.oldFileName.startsWith("a/")?v.oldFileName.substr(2):v.oldFileName,H=this.providerService.createRelativeVirtualUri(e,S);await c(H)&&i.deleteFile(H)}else if(v.oldFileName===v.newFileName){if(!v.newFileName)continue;const S=this.providerService.createRelativeVirtualUri(e,v.newFileName);a.push(C(S)),!await c(S)?await u(S,v.newFileName,v):await f(S,v.newFileName,v,G.Changed)}else throw new Error(`Unable to apply patch to ${v.oldFileName}; Renames aren't currently supported`);if(await d.workspace.applyEdit(i),n.save&&a.length)for(const v of a){const S=d.workspace.textDocuments.find(H=>C(H.uri)===v);await(S==null?void 0:S.save())}s.size&&setTimeout(async()=>{const v=[];await this.lock.synchronizeWrite(C(e),async()=>{const S=await this.getWorkingOperations(e);if(S.length===0)return;let H=-1;for(const Z of S){H++;const U=s.get(C(Z.uri));U!==void 0&&await this.spliceOperation(Z.uri,H,{...Z,conflicts:{baseUri:U.baseUri,incomingUri:U.incomingUri,status:[Z.type,U.type]},timestamp:Date.now()},v)}},r),v.length!==0&&this._onDidChange.fire(v)},0)}async createChangeset(e){xe.log(`ChangeStore.createChangeset${e.toString()})`);const t=await this.createPatch(e);return t?{workspaceId:this.workspaceId,uri:e,patch:t}:void 0}async createPatch(e,t,n){if(xe.log(`ChangeStore.createPatch${e.toString()})`,t),t===void 0){let a=await this.getWorkingOperations(e);if((n==null?void 0:n.staged)&&(a=a.filter(l=>l.staged)),a.length===0)return"";const s=[];for(const l of a){const c=await this.createPatchCore(e,l);s.push(c)}return s.join("")}const{operation:r}=await this.getWorkingOperation(t,e);if(r===void 0)throw new Error(`Unable to create patch for ${t.toString()}`);return(n==null?void 0:n.staged)&&r.staged?"":await this.createPatchCore(e,r)}async createPatchCore(e,t){if(t.fileType!==d.FileType.File)return"";const n=this.providerService.getRelativeFilePath(e,t.uri),r=`diff --git a/${n} b/${n}`;if(t.type===G.Created){let c=await this.getContent(t.uri);return Lr(n,"",c,"add")}if(t.type===G.Deleted){let c=hi.decode(await d.workspace.fs.readFile(D.getProviderUri(t.uri)));return Lr(n,c,"","delete")}const i=await this.getContent(t.uri),a=hi.decode(await d.workspace.fs.readFile(D.getProviderUri(t.uri))),s=Wr(n,a,i),l=s.indexOf(Yf);return`${r}
${s.substr(l+Yf.length)}`}async keep(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return;const r=`ChangeStore.keep(${e.toString()})`;xe.log(r,t);const i=[];await this.lock.synchronizeWrite(C(n),async()=>{const{operation:a,index:s}=await this.getWorkingOperation(e,n);if(a===void 0)return;if(t===void 0&&a.conflicts){const[,c]=a.conflicts.status;switch(c){case G.Changed:switch(a.type){case G.Changed:case G.Created:case G.Deleted:await this.spliceOperation(e,s,{...a,conflicts:void 0,timestamp:Date.now()},i);break}break;case G.Created:switch(a.type){case G.Changed:case G.Deleted:await this.spliceOperation(e,s,{...a,conflicts:void 0,timestamp:Date.now()},i);break;case G.Created:await this.spliceOperation(e,s,{...a,type:G.Changed,size:a.size,hash:a.hash,originalHash:a.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case G.Deleted:switch(a.type){case G.Deleted:await this.discardCore(n,e,i);break;case G.Changed:await this.spliceOperation(e,s,{...a,type:G.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case G.Created:await this.spliceOperation(e,s,{...a,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(t===void 0)return;switch(t.type){case G.Changed:switch(a.type){case G.Deleted:await this.spliceOperation(e,s,{...a,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case G.Created:break;case G.Changed:break}break;case G.Created:switch(a.type){case G.Changed:case G.Deleted:return;case G.Created:break}break;case G.Deleted:switch(a.type){case G.Deleted:return this.discardCore(n,e,i);case G.Changed:await this.spliceOperation(e,s,{...a,type:G.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case G.Created:return}}const l=t!==void 0?await d.workspace.fs.readFile(t.providerUri):void 0;await this.spliceOperation(e,s,{...a,type:G.Changed,originalHash:l!==void 0?await An(l):a.originalHash,conflicts:void 0,timestamp:Date.now()},i)},r),i.length!==0&&this._onDidChange.fire(i)}async merge(e,t,n){const r=this.providerService.getVirtualWorkspaceUri(e);if(r===void 0)return;const i=`ChangeStore.merge(${e.toString()})`;xe.log(i,t,n);const a=[];await this.lock.synchronizeWrite(C(r),async()=>{const{operation:s,index:l}=await this.getWorkingOperation(e,r);if(s===void 0)return;switch(t.type){case G.Changed:switch(s.type){case G.Deleted:await this.spliceOperation(e,l,{...s,type:G.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:n.providerUri,incomingUri:t.providerUri,status:[s.type,t.type]},timestamp:Date.now()},a);return;case G.Created:break;case G.Changed:break}break;case G.Created:switch(s.type){case G.Deleted:case G.Changed:return;case G.Created:const S=await d.workspace.fs.readFile(t.providerUri);await this.spliceOperation(e,l,{...s,originalHash:S!==void 0?await An(S):s.originalHash,conflicts:{baseUri:n.providerUri,incomingUri:t.providerUri,status:[s.type,t.type]},type:G.Changed,timestamp:Date.now()},a);break}break;case G.Deleted:switch(s.type){case G.Deleted:return this.discardCore(r,e,a);case G.Changed:await this.spliceOperation(e,l,{...s,type:G.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:t.providerUri,status:[s.type,t.type]},timestamp:Date.now()},a);return;case G.Created:return}}const c=await this.providerService.getMetadata(t.providerUri),u=await this.getWorkingContent(r,e),f=s.type===G.Created?new Uint8Array(0):await d.workspace.fs.readFile(n.providerUri),y=await d.workspace.fs.readFile(t.providerUri),v=_e(hi.decode(u),hi.decode(f),hi.decode(y),c.HEAD.sha);await this.writeFileCore(r,e,a,Z0.encode(v.mergedContent),y!=null?y:new Uint8Array(0),v.conflicts?{baseUri:n.providerUri,incomingUri:t.providerUri,status:[s.type,t.type]}:void 0)},i),a.length!==0&&this._onDidChange.fire(a)}async resolveDiffCommand(e,t,n,r){let i;const a=this.providerService.getVirtualRootUri(e);return a!==void 0&&({operation:i}=await this.getWorkingOperation(e,a)),(i==null?void 0:i.type)===G.Deleted?this.resolveOpenCommand(t):((i==null?void 0:i.type)===G.Created&&(t=t.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[t,e,n,r]})}resolveOpenCommand(e,t){return{command:"vscode.open",title:"Open File",arguments:[e,t]}}getScopedUri(e,t){const n=typeof t=="string"?t:t.workspaceId;return n===this.workspaceId?e:e.with({fragment:n})}getUriScope(e){return e.fragment||void 0}getScopedChangeStore(e){const t=typeof e=="string"?e:e.workspaceId;xe.log(`ChangeStore.getScopedChangeStore(${t})`);let n=this.scopedStores.get(t);return n===void 0&&(n=t===this.workspaceId?new Ao.ScopedChangeStore(this,t,this.workspaceId):new Ao.ScopedChangeStore(new Ao(this.providerService,this.storageService.with(t),this.fileStorageService.with(t),this.telemetryService,this.workspaceId,t),t,this.workspaceId),this.scopedStores.set(t,n)),n}async stat(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).stat(e);const n=this.providerService.getVirtualRootUri(e);if(n===void 0)return;const r=C(n),i=this.cache.get(r);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(r,async()=>{var a;const{operation:s}=await this.getWorkingOperation(e,n);if(s!==void 0){if(s.type===G.Deleted)throw d.FileSystemError.FileNotFound(`The ${s.fileType===d.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(a=s.size)!=null?a:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${e.toString()}`)}async readFile(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).readFile(e);const n=new j(`ChangeStore.readFile(${e.toString()})`);try{const r=this.providerService.getVirtualRootUri(e);if(r===void 0)return;const i=C(r),a=this.cache.get(i);return(a==null?void 0:a.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){n.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,e)},n.context)}finally{n.stop()}}async createDirectory(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new j(`ChangeStore.createDirectory(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(C(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t),s=await this.providerService.getMetadata(e);await this.spliceOperation(e,a,i===void 0?{type:G.Created,uri:e,fileType:d.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async deleteDirectory(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new j(`ChangeStore.deleteDirectory(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(C(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);if((i==null?void 0:i.type)===G.Created)return this.discardCore(t,e,r);const s=await this.providerService.getMetadata(e);await this.spliceOperation(e,a,{type:G.Deleted,uri:e,fileType:d.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async updateDirectoryEntries(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return t;const r=new j(`ChangeStore.updateDirectoryEntries(${e.toString()})`,{},t.length);try{const i=C(n),a=this.cache.get(i);return(a==null?void 0:a.length)===0?t:await this.lock.synchronizeRead(i,async()=>{const{path:s}=L(n,e),l=await this.getWorkingOperations(n);for(const c of l)switch(c.type){case G.Changed:break;case G.Created:{if(B(c.uri,s)){const u=this.providerService.getRelativeFilePath(e,c.uri);t.push([u,c.fileType])}break}case G.Deleted:{if(B(c.uri,s)){const u=this.providerService.getRelativeFilePath(e,c.uri),f=t.findIndex(([y])=>y===u);f!==-1&&t.splice(f,1)}break}}return t},r.context)}finally{r.stop()}}async writeFile(e,t,n,r){const i=this.providerService.getVirtualWorkspaceUri(e);if(i===void 0)return;const a=new j(`ChangeStore.writeFile(${e.toString()})`,{},t.length,r);try{const s=[];if(await this.lock.synchronizeWrite(C(i),async()=>this.writeFileCore(i,e,s,t,n,r),a.context),s.length===0)return;this._onDidChange.fire(s)}finally{a.stop()}}async writeFileCore(e,t,n,r,i,a){const s=new j(`ChangeStore.writeFileCore(${t.toString()})`,{},r.length,a);try{const[{operation:l,index:c},u,f]=await Promise.all([this.getWorkingOperation(t,e),An(r),An(i)]);if(u===f&&(!l||(l==null?void 0:l.type)===G.Changed))return this.discardCore(e,t,n);if(u===(l==null?void 0:l.hash)&&f===(l==null?void 0:l.originalHash))return;const[{HEAD:y}]=await Promise.all([this.providerService.getMetadata(t),this.saveWorkingContent(e,t,r)]);await this.spliceOperation(t,c,l===void 0?{type:G.Changed,uri:t,fileType:d.FileType.File,revision:y.sha,timestamp:Date.now(),size:r.byteLength,hash:u,originalHash:f,conflicts:a,staged:!1}:{...l,revision:y.sha,timestamp:Date.now(),size:r.byteLength,hash:u,originalHash:f,conflicts:a,staged:!1},n)}finally{s.stop()}}async createFile(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return;const r=new j(`ChangeStore.createFile(${e.toString()})`,{},t.length);try{const i=[];if(await this.lock.synchronizeWrite(C(n),async()=>{const[{operation:a,index:s},l,c]=await Promise.all([this.getWorkingOperation(e,n),An(t),this.providerService.getMetadata(e),this.saveWorkingContent(n,e,t)]);await this.spliceOperation(e,s,a===void 0?{type:G.Created,uri:e,fileType:d.FileType.File,revision:c.HEAD.sha,timestamp:Date.now(),size:t.byteLength,hash:l,originalHash:l}:{...a,type:G.Created,revision:c.HEAD.sha,timestamp:Date.now(),size:t.byteLength,hash:l},i)},r.context),i.length===0)return;this._onDidChange.fire(i)}finally{r.stop()}}async deleteFile(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new j(`ChangeStore.deleteFile(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(C(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);if((i==null?void 0:i.type)===G.Created)return this.discardCore(t,e,r);const[s]=await Promise.all([this.providerService.getMetadata(e),this.discardWorkingContent(t,e)]);await this.spliceOperation(e,a,{type:G.Deleted,uri:e,fileType:d.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}findParent(e,t,n){const r=ee(e),{operation:i,index:a}=this.findWorkingOperation(r,t);return i!==void 0&&n(i,t)?{parent:i,parentIndex:a}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(e,t){const n=M(e);return this.findParent(e,t,(r,i)=>r.type===G.Created&&!i.some(a=>B(a.uri,r.uri)&&M(a.uri)!==n))}findDeletedParents(e,t){const n=[];for(let r=0;r<t.length;r+=1){const i=t[r];i.type===G.Deleted&&P(e,i.uri)&&n.push({parent:i,parentIndex:r})}return n}async getWorkingOperation(e,t){return this.findWorkingOperation(e,await this.getWorkingOperations(t))}findWorkingOperation(e,t){if(t.length===0)return{operation:void 0,index:-1};const n=M(e);let r=-1;const i=t.find((a,s)=>M(a.uri)!==n?!1:(r=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:r}}async getWorkingOperations(e){const t=C(e);let n=this.cache.get(t);return n===void 0&&(n=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(t))),this.cache.set(t,n)),n}async saveWorkingOperations(e,t){xe.debug(`ChangeStore.saveWorkingOperations(${e.toString()})`,t.length);const n=C(e);this.cache.set(n,t);try{await this.storageService.store(this.getOperationsStorageKey(n),this.toStorage(t))}catch(r){throw this.cache.delete(n),xe.error(r,`Failed to save repository changes for ${n}`),r}}getOperationsStorageKey(e){return`operations/${e}`}async getWorkingContent(e,t){try{return await this.fileStorageService.get(this.getFileStorageKey(e,t))}catch(n){throw xe.error(n),this.telemetryService.sendException(n),n}}async discardWorkingContent(e,t){xe.debug(`ChangeStore.discardWorkingContent(${t.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(e,t))}catch(n){if(n instanceof d.FileSystemError&&n.code===G0)return;throw xe.error(n),this.telemetryService.sendException(n),n}}async saveWorkingContent(e,t,n){xe.debug(`ChangeStore.saveWorkingContent(${t.toString()})`,n.length);try{return await this.fileStorageService.store(this.getFileStorageKey(e,t),n)}catch(r){throw xe.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(e,t){return`changestore/${I(t)}`}async spliceOperation(e,t,n,r){const i=this.providerService.getVirtualWorkspaceUri(e);if(i===void 0)return;const a=await this.getWorkingOperations(i);t!==-1?a.splice(t,1,n):a.push(n),await this.saveWorkingOperations(i,a),r.push(Ds(n,i,e))}fromStorage(e){if(!e)return[];try{const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&R(r)?typeof r=="string"?d.Uri.parse(r):d.Uri.from(r):r);return Array.isArray(t)?t:t.operations}catch(t){throw xe.error(t,"Failed to deserialize ChangeStore operations"),t}}toStorage(e){const t={schemaVersion:Ao.operationsStorageSchemaVersion,operations:e};return JSON.stringify(t)}},"_ChangeStore");let Fs=Ao;Fs.operationsStorageSchemaVersion=1,Fs.ScopedChangeStore=class{constructor(e,t,n){this.changeStore=e,this.scope=t,this.workspaceId=n}createPatch(e,t,n){return this.changeStore.createPatch(this.stripUriScope(e),this.stripUriScope(t),n)}discardAll(e,t){return this.changeStore.discardAll(this.stripUriScope(e),t)}getChange(e){return this.changeStore.getChange(this.stripUriScope(e))}getChanges(e,t){return this.changeStore.getChanges(this.stripUriScope(e),t)}async getGroupedChanges(e,t){return this.changeStore.getGroupedChanges(this.stripUriScope(e),t)}hasChanges(e){return this.changeStore.hasChanges(this.stripUriScope(e))}maybeHasChanges(e,t){return this.changeStore.maybeHasChanges(this.stripUriScope(e),this.stripUriScope(t))}async stat(e){const n=this.changeStore.getUriScope(e)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(e));return r!==void 0&&n&&(r.permissions=d.FilePermission.Readonly),r}readFile(e){return this.changeStore.readFile(this.stripUriScope(e))}resolveDiffCommand(e,t,n,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(e,this.scope),this.changeStore.getScopedUri(t,this.scope),n,r)}stripUriScope(e){return e===void 0||!e.fragment?e:e.with({fragment:""})}},V0([Pt()],Fs.prototype,"getWorkingOperations",1);function b1(e){switch(e){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}o(b1,"getStatusText");function E1(e){const[t,n]=e;switch(t){case OperationType.Changed:switch(n){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(n){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(n){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}o(E1,"getConflictStatusText");const ou=o(class{constructor(e){this.storageService=e,this._onDidChange=new d.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(e){const t=C(e),n=this.cache.has(t);this.cache.delete(t);try{await this.storageService.delete(this.getStorageKey(t))}catch(r){throw xe.error(r,`Failed to delete repository metadata for ${t}`),r}!n||setTimeout(()=>this._onDidChange.fire({uri:e}),0)}async get(e){this.assertMatchingScheme(e);const t=C(e),n=this.cache.get(t);if(n!==void 0)return n;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(t)))}catch(i){throw xe.error(i,`Failed to get repository metadata for ${t}`),i}return r?this.cache.set(t,{revision:r}):this.cache.delete(t),{revision:r}}async set(e,t,n,r){this.assertMatchingScheme(e);const i=(await this.get(e)).revision!==t?"revision":void 0,a=C(e);if(n!==void 0&&!this.validate(n))throw new Error(`Metadata validation failed for ${e.toString()}`);const s={revision:t,cachedMetadata:n};this.cache.set(a,s);try{await this.storageService.store(this.getStorageKey(a),this.toStorage(t))}catch(l){throw this.cache.delete(a),xe.error(l,`Failed to save repository metadata for ${a}`),l}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:e,reason:i}),0)}refresh(){this.cache.clear()}validate(e){var t,n,r,i,a,s,l,c;return typeof e.version=="number"&&e.version>=ou.schemaVersion&&typeof e.timestamp=="number"&&typeof((t=e.provider)==null?void 0:t.id)=="string"&&typeof e.provider.name=="string"&&typeof e.name=="string"&&e.repo&&typeof e.accessLevel=="number"&&typeof((n=e.HEAD)==null?void 0:n.type)=="number"&&typeof((r=e.HEAD)==null?void 0:r.name)=="string"&&typeof((i=e.HEAD)==null?void 0:i.sha)=="string"&&(typeof((a=e.HEAD.detached)==null?void 0:a.name)=="string"&&typeof((s=e.HEAD.detached)==null?void 0:s.type)=="number"||typeof((l=e.HEAD.branch)==null?void 0:l.name)=="string")&&typeof((c=e.defaultBranch)==null?void 0:c.name)=="string"&&typeof e.defaultBranch.sha=="string"}assertMatchingScheme(e){if(e.scheme!==D.scheme)throw new Error(`Uri scheme '${e.scheme}' must match configured scheme '${D.scheme}'; uri=${e.toString()}`)}getStorageKey(e){return`metadata/${e}`}fromStorage(e){if(!e)return;const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&R(r)?d.Uri.from(r):r);return t==null?void 0:t.revision}toStorage(e){const t={schemaVersion:ou.storageSchemaVersion,revision:e};return JSON.stringify(t)}},"_MetadataStore");let ks=ou;ks.schemaVersion=Oe,ks.storageSchemaVersion=1;class Ps{constructor(t,n){this.memento=t,this.scope=n,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(t){const n=this.getScoped(t),r=new j(`MementoStorage.get(${t}): scopedKey=${n}`,{logLevel:Je.Debug});try{return await Promise.resolve(this.memento.get(n))}finally{r.stop()}}async getKeys(t){const n=this.getScoped(t),r=new j(`MementoStorage.getKeys(${t}): scopedPrefix=${n}`,{logLevel:Je.Debug});try{let i=this.getKeysCore(t);if(this.scope!==void 0){const a=this.scope.length+1;i=i.map(s=>s.substr(a))}return await Promise.resolve(i)}finally{r.stop()}}getKeysCore(t){let n=this.memento.keys();return t&&(n=n.filter(r=>r.startsWith(t))),n}async store(t,n){const r=this.getScoped(t),i=new j(`MementoStorage.store(${t}): scopedKey=${r}`,{logLevel:Je.Debug});try{return await this.storeCore(t,r,n)}finally{i.stop()}}async storeCore(t,n,r){await this.memento.update(n,r),this._onDidChange.fire({key:t})}async delete(t){const n=this.getScoped(t),r=new j(`MementoStorage.delete(${t}): scopedKey=${n}`,{logLevel:Je.Debug});try{return await this.storeCore(t,n,void 0)}finally{r.stop()}}async deleteKeys(t){const n=this.getScoped(t),r=new j(`MementoStorage.deleteKeys(${t}): scopedPrefix=${n}`,{logLevel:Je.Debug});try{const i=[],a=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(n);for(const l of s){const c=a!==0?l.substr(a):l;xe.debug(`MementoStorage.deleteKeys(${t}): Deleting key=${c}, scopedKey=${l}`);try{await this.storeCore(c,l,void 0)}catch(u){xe.debug(`MementoStorage.deleteKeys(${t}): Failed to delete key=${c}, scopedKey=${l}`),i.push(c)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{r.stop()}}with(t){return new Ps(this.memento,t)}getScoped(t){return`${this.scope!==void 0?`${this.scope}/`:""}${t!=null?t:""}`}}o(Ps,"MementoStorageService");class Os{constructor(t,n){this.storageUri=t,this.scope=n,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(t){const n=this.getScoped(t),r=new j(`ExtFileStorageService.get(${t}): scopedKey=${n}`,{logLevel:Je.Debug});try{return await d.workspace.fs.readFile(d.Uri.joinPath(this.storageUri,n))}catch(i){return}finally{r.stop()}}async store(t,n){const r=this.getScoped(t),i=new j(`ExtFileStorageService.store(${t}): scopedKey=${r}`,{logLevel:Je.Debug});try{return await this.storeCore(t,r,n)}finally{i.stop()}}async storeCore(t,n,r){await d.workspace.fs.writeFile(d.Uri.joinPath(this.storageUri,n),r),this._onDidChange.fire({key:t})}async delete(t){const n=this.getScoped(t),r=new j(`ExtFileStorageService.delete(${t}): scopedKey=${n}`,{logLevel:Je.Debug});try{return await d.workspace.fs.delete(d.Uri.joinPath(this.storageUri,n))}finally{r.stop()}}with(t){return new Os(this.storageUri,t)}getScoped(t){return`${this.scope!==void 0?`${this.scope}/`:""}${t}`}}o(Os,"ExtFileStorageService");var ed=Object.defineProperty,td=Object.getOwnPropertySymbols,X0=Object.prototype.hasOwnProperty,J0=Object.prototype.propertyIsEnumerable,nd=o((e,t,n)=>t in e?ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"ho"),gi=o((e,t)=>{for(var n in t||(t={}))X0.call(t,n)&&nd(e,n,t[n]);if(td)for(var n of td(t))J0.call(t,n)&&nd(e,n,t[n]);return e},"at"),lt=o((e,t)=>()=>(e&&(t=e(e=0)),t),"I"),Y0=o((e,t)=>{for(var n in t)ed(e,n,{get:t[n],enumerable:!0})},"Ec"),Ka=o((e,t,n)=>new Promise((r,i)=>{var a=o(c=>{try{l(n.next(c))}catch(u){i(u)}},"a"),s=o(c=>{try{l(n.throw(c))}catch(u){i(u)}},"o"),l=o(c=>c.done?r(c.value):Promise.resolve(c.value).then(a,s),"u");l((n=n.apply(e,t)).next())}),"At"),rd,ev=lt(()=>{rd={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}}),qa,pi,Di,jr,Ms,Fi,Ls,Ns,id,ad,Ro,su=lt(()=>{qa="function",pi="object",Di="undefined",jr="prototype",Ms="hasOwnProperty",Fi=Object,Ls=Fi[jr],Ns=Fi.assign,id=Fi.create,ad=Fi.defineProperty,Ro=Ls[Ms]});function Va(){return typeof globalThis!==Di&&globalThis?globalThis:typeof self!==Di&&self?self:typeof window!==Di&&window?window:typeof __webpack_require__.g!==Di&&__webpack_require__.g?__webpack_require__.g:null}o(Va,"ot");function lu(e){throw new TypeError(e)}o(lu,"Tr");function Bs(e){var t=id;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==pi&&n!==qa&&lu("Object prototype may only be an Object:"+e);function r(){}return o(r,"n"),r[jr]=e,new r}o(Bs,"Dt");var od=lt(()=>{su()});function Hn(e,t){typeof t!==qa&&t!==null&&lu("Class extends value "+String(t)+" is not a constructor or null"),Us(e,t);function n(){this.constructor=e}o(n,"r"),e[jr]=t===null?Bs(t):(n[jr]=t[jr],new n)}o(Hn,"B");var tv,nv,sd,Ga,Us,rv=lt(()=>{su(),od(),tv=(Va()||{}).Symbol,nv=(Va()||{}).Reflect,sd=o(function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Ls[Ms].call(t,i)&&(e[i]=t[i])}return e},"bc"),Ga=Ns||sd,Us=o(function(e,t){return Us=Fi.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[Ms](i)&&(n[i]=r[i])},Us(e,t)},"ki")}),iv=lt(()=>{}),Kn=lt(()=>{su(),od(),rv(),iv()});function ki(e,t){return e&&Oo[vi].hasOwnProperty.call(e,t)}o(ki,"kt");function ld(e){return e&&(e===Oo[vi]||e===Array[vi])}o(ld,"No");function uu(e){return ld(e)||e===Function[vi]}o(uu,"Ui");function ya(e){var t;if(e){if(Qa)return Qa(e);var n=e[pu]||e[vi]||(e[Do]?e[Do][vi]:null);t=e[Po]||n,ki(e,Po)||(delete e[js],t=e[Po]=e[js]||e[Po],e[js]=n)}return t}o(ya,"ir");function $s(e,t){var n=[];if(mu)n=mu(e);else for(var r in e)typeof r=="string"&&ki(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}o($s,"jn");function cu(e,t,n){return t!==Do&&typeof e[t]===Fo&&(n||ki(e,t))}o(cu,"Oi");function Hs(e){throw new TypeError("DynamicProto: "+e)}o(Hs,"Gn");function av(e){var t={};return $s(e,function(n){!t[n]&&cu(e,n,!1)&&(t[n]=e[n])}),t}o(av,"Dc");function fu(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}o(fu,"Bi");function ov(e,t,n,r){function i(c,u,f){var y=u[f];if(y[zs]&&r){var v=c[ko]||{};v[Za]!==!1&&(y=(v[u[wa]]||{})[f]||y)}return function(){return y.apply(c,arguments)}}o(i,"i");var a={};$s(n,function(c){a[c]=i(t,n,c)});for(var s=ya(e),l=[];s&&!uu(s)&&!fu(l,s);)$s(s,function(c){!a[c]&&cu(s,c,!Qa)&&(a[c]=i(t,s,c))}),l.push(s),s=ya(s);return a}o(ov,"Nc");function sv(e,t,n,r){var i=null;if(e&&ki(n,wa)){var a=e[ko]||{};if(i=(a[n[wa]]||{})[t],i||Hs("Missing ["+t+"] "+Fo),!i[Ws]&&a[Za]!==!1){for(var s=!ki(e,t),l=ya(e),c=[];s&&l&&!uu(l)&&!fu(c,l);){var u=l[t];if(u){s=u===r;break}c.push(l),l=ya(l)}try{s&&(e[t]=i),i[Ws]=1}catch(f){a[Za]=!1}}}return i}o(sv,"kc");function lv(e,t,n){var r=t[e];return r===n&&(r=ya(t)[e]),typeof r!==Fo&&Hs("["+e+"] is not a "+Fo),r}o(lv,"Fc");function uv(e,t,n,r,i){function a(c,u){var f=o(function(){var y=sv(this,u,c,f)||lv(u,c,f);return y.apply(this,arguments)},"l");return f[zs]=1,f}if(o(a,"a"),!ld(e)){var s=n[ko]=n[ko]||{},l=s[t]=s[t]||{};s[Za]!==!1&&(s[Za]=!!i),$s(n,function(c){cu(n,c,!1)&&n[c]!==r[c]&&(l[c]=n[c],delete n[c],(!ki(e,c)||e[c]&&!e[c][zs])&&(e[c]=a(e,c)))})}}o(uv,"Rc");function cv(e,t){if(Qa){for(var n=[],r=ya(t);r&&!uu(r)&&!fu(n,r);){if(r===e)return!0;n.push(r),r=ya(r)}return!1}return!0}o(cv,"Mc");function du(e,t){return ki(e,vi)?e.name||t||gu:((e||{})[Do]||{}).name||t||gu}o(du,"Mi");function lr(e,t,n,r){ki(e,vi)||Hs("theClass is an invalid class definition.");var i=e[vi];cv(i,t)||Hs("["+du(e)+"] is not in class hierarchy of ["+du(t)+"]");var a=null;ki(i,wa)?a=i[wa]:(a=ud+du(e,"_")+"$"+yu,yu++,i[wa]=a);var s=lr[hu],l=!!s[Ks];l&&r&&r[Ks]!==void 0&&(l=!!r[Ks]);var c=av(t),u=ov(i,t,c,l);n(t,u);var f=!!Qa&&!!s[vu];f&&r&&(f=!!r[vu]),uv(i,a,t,c,f!==!1)}o(lr,"W");var Do,vi,Fo,ko,zs,wa,ud,Ws,Za,hu,gu,pu,Po,js,Ks,vu,Oo,Qa,mu,yu,cd,mr=lt(()=>{Do="constructor",vi="prototype",Fo="function",ko="_dynInstFuncs",zs="_isDynProxy",wa="_dynClass",ud="_dynCls$",Ws="_dynInstChk",Za=Ws,hu="_dfOpts",gu="_unknown_",pu="__proto__",Po="_dyn"+pu,js="_dynInstProto",Ks="useBaseInst",vu="setInstFuncs",Oo=Object,Qa=Oo.getPrototypeOf,mu=Oo.getOwnPropertyNames,yu=0,cd={setInstFuncs:!0,useBaseInst:!0},lr[hu]=cd}),Rt,xt,qs=lt(()=>{(function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"})(Rt||(Rt={})),xt={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function wu(e){return Ls.toString.call(e)}o(wu,"Hi");function fv(e,t){return typeof e===t}o(fv,"Vi");function Dr(e){return e===void 0||typeof e===Di}o(Dr,"fe");function Dt(e){return e===null||Dr(e)}o(Dt,"x");function dv(e){return!Dt(e)}o(dv,"qi");function _u(e,t){return e&&Ro.call(e,t)}o(_u,"wr");function _a(e){return typeof e===pi}o(_a,"st");function Pn(e){return typeof e===qa}o(Pn,"z");function Mo(e,t,n,r){r===void 0&&(r=!1);var i=!1;if(!Dt(e))try{Dt(e[Iu])?Dt(e[Tu])||(e[Tu](Cu+t,n),i=!0):(e[Iu](t,n,r),i=!0)}catch(a){}return i}o(Mo,"Vt");function fd(e,t,n,r){if(r===void 0&&(r=!1),!Dt(e))try{Dt(e[Ru])?Dt(e[Au])||e[Au](Cu+t,n):e[Ru](t,n,r)}catch(i){}}o(fd,"Wn");function hv(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}o(hv,"ji");function dr(e,t){if(e)for(var n in e)Ro.call(e,n)&&t.call(e,n,e[n])}o(dr,"$");function gv(e,t){if(e&&t){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,a=n-1;a>=0;a--){if(e[i]!=t[a])return!1;i--}return!0}}return!1}o(gv,"Gi");function Er(e,t){return e&&t?e.indexOf(t)!==-1:!1}o(Er,"Te");function xu(e){return wu(e)==="[object Date]"}o(xu,"Pr");function Pi(e){return wu(e)==="[object Array]"}o(Pi,"Fe");function Vs(e){return wu(e)==="[object Error]"}o(Vs,"qt");function bn(e){return typeof e=="string"}o(bn,"U");function bu(e){return typeof e=="number"}o(bu,"ar");function Eu(e){return typeof e=="boolean"}o(Eu,"Gr");function Ji(e){if(xu(e)){var t=o(function(n){var r=String(n);return r.length===1&&(r="0"+r),r},"e");return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}o(Ji,"Re");function En(e,t,n){for(var r=e.length,i=0;i<r&&!(i in e&&t.call(n||e,e[i],i,e)===-1);i++);}o(En,"R");function Lo(e,t,n){for(var r=e.length,i=n||0,a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a;return-1}o(Lo,"Ft");function No(e,t,n){for(var r=e.length,i=n||e,a=new Array(r),s=0;s<r;s++)s in e&&(a[s]=t.call(i,e[s],e));return a}o(No,"jt");function dd(e,t,n){var r=e.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<r&&!(i in e);)i++;a=e[i++]}for(;i<r;)i in e&&(a=t(a,e[i],i,e)),i++;return a}o(dd,"Kr");function xr(e){return typeof e!="string"?e:e.replace(/^\s+|\s+$/g,"")}o(xr,"oe");function xa(e){var t=typeof e;t!==qa&&(t!==pi||e===null)&&lu("objKeys called on non-object");var n=[];for(var r in e)e&&Ro.call(e,r)&&n.push(r);if(vd)for(var i=Gs.length,a=0;a<i;a++)e&&Ro.call(e,Gs[a])&&n.push(Gs[a]);return n}o(xa,"Ye");function Xa(e,t,n,r){if(Du)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Du(e,t,i),!0}catch(a){}return!1}o(Xa,"St");function Gr(){var e=Date;return e.now?e.now():new e().getTime()}o(Gr,"pe");function Un(e){return Vs(e)?e.name:""}o(Un,"G");function On(e,t,n,r,i){var a=n;return e&&(a=e[t],a!==n&&(!i||i(a))&&(!r||r(n))&&(a=n,e[t]=a)),a}o(On,"K");function Sr(e,t,n){var r;return e?(r=e[t],!r&&Dt(r)&&(r=Dr(n)?{}:n,e[t]=r)):r=Dr(n)?{}:n,r}o(Sr,"ge");function hd(e){return!e}o(hd,"Xn");function Su(e){return!!e}o(Su,"br");function mi(e){throw new Error(e)}o(mi,"Ae");function gd(e,t,n){if(e&&t&&e!==t&&_a(e)&&_a(t)){var r=o(function(a){if(bn(a)){var s=t[a];Pn(s)?(!n||n(a,!0,t,e))&&(e[a]=function(l){return function(){var c=arguments;return t[l].apply(t,c)}}(a)):(!n||n(a,!1,t,e))&&(_u(e,a)&&delete e[a],Xa(e,a,function(){return t[a]},function(l){t[a]=l})||(e[a]=s))}},"n");for(var i in t)r(i)}return e}o(gd,"Wr");function pv(e){return function(){function t(){var n=this;e&&dr(e,function(r,i){n[r]=i})}return o(t,"e"),t}()}o(pv,"Ki");function pd(e){return e&&(e=Fi(Ns?Ns({},e):e)),e}o(pd,"Jn");var Cu,Tu,Iu,Au,Ru,Du,vv,mv,vd,Gs,Cr=lt(()=>{Kn(),Cu="on",Tu="attachEvent",Iu="addEventListener",Au="detachEvent",Ru="removeEventListener",Du=ad,vv=Fi.freeze,mv=Fi.seal,vd=!{toString:null}.propertyIsEnumerable("toString"),Gs=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function Tr(e){var t=Va();return t&&t[e]?t[e]:e===ku&&Zs()?window:null}o(Tr,"Ee");function Zs(){return Boolean(typeof window===pi&&window)}o(Zs,"or");function Bo(){return Zs()?window:Tr(ku)}o(Bo,"It");function md(){return Boolean(typeof document===pi&&document)}o(md,"Qn");function yi(){return md()?document:Tr(yd)}o(yi,"De");function yv(){return Boolean(typeof navigator===pi&&navigator)}o(yv,"Bo");function wi(){return yv()?navigator:Tr(wd)}o(wi,"Le");function wv(){return Boolean(typeof history===pi&&history)}o(wv,"zo");function _v(){return wv()?history:Tr(_d)}o(_v,"Zi");function ba(e){if(e&&Id){var t=Tr("__mockLocation");if(t)return t}return typeof location===pi&&location?location:Tr(xd)}o(ba,"$e");function xv(){return typeof console!==Di?console:Tr(bd)}o(xv,"Yi");function Oi(){return Tr(Ed)}o(Oi,"Je");function Ja(){return Boolean(typeof JSON===pi&&JSON||Tr(Pu)!==null)}o(Ja,"mt");function ii(){return Ja()?JSON||Tr(Pu):null}o(ii,"we");function bv(){return Tr(Sd)}o(bv,"$i");function Ev(){return Tr(Cd)}o(Ev,"ea");function Sv(){var e=wi();return e&&e.product?e.product===Td:!1}o(Sv,"ta");function Qs(){var e=wi();if(e&&(e.userAgent!==el||Ys===null)){el=e.userAgent;var t=(el||"").toLowerCase();Ys=Er(t,Xs)||Er(t,Js)}return Ys}o(Qs,"Gt");function Fu(e){if(e===void 0&&(e=null),!e){var t=wi()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(Er(n,Xs))return parseInt(n.split(Xs)[1]);if(Er(n,Js)){var r=parseInt(n.split(Js)[1]);if(r)return r+4}return null}o(Fu,"sr");function wn(e){var t=Object[jr].toString.call(e),n="";return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Ja()&&(n=ii().stringify(e)),t+n}o(wn,"O");var ku,yd,wd,_d,xd,bd,Ed,Pu,Sd,Cd,Td,Xs,Js,Ys,el,Id,Uo=lt(()=>{"use strict";Kn(),Cr(),ku="window",yd="document",wd="navigator",_d="history",xd="location",bd="console",Ed="performance",Pu="JSON",Sd="crypto",Cd="msCrypto",Td="ReactNative",Xs="msie",Js="trident/",Ys=null,el=null,Id=!1});function Ad(e){return e?'"'+e.replace(/\"/g,"")+'"':""}o(Ad,"Ho");function tl(e,t){return(e||{}).logger||new Ou(t)}o(tl,"Mt");var Rd,Dd,Fd,Ya,Ou,Mu=lt(()=>{"use strict";qs(),Uo(),mr(),Cr(),Rd="AI (Internal): ",Dd="AI: ",Fd="AITR_",Ya=function(){function e(t,n,r,i){r===void 0&&(r=!1);var a=this;a.messageId=t,a.message=(r?Dd:Rd)+t;var s="";Ja()&&(s=ii().stringify(i));var l=(n?" message:"+Ad(n):"")+(i?" props:"+Ad(s):"");a.message+=l}return o(e,"t"),e.dataType="MessageData",e}(),Ou=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};lr(e,this,function(i){Dt(t)&&(t={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(l,c,u,f,y){y===void 0&&(y=!1);var v=new Ya(c,u,y,f);if(i.enableDebugExceptions())throw v;if(!Dr(v.message)){var S=i.consoleLoggingLevel();if(y){var H=+v.messageId;!r[H]&&S>=Rt.WARNING&&(i.warnToConsole(v.message),r[H]=!0)}else S>=Rt.WARNING&&i.warnToConsole(v.message);i.logInternalMessage(l,v)}},i.warnToConsole=function(l){var c=xv();if(c){var u="log";c.warn&&(u="warn"),Pn(c[u])&&c[u](l)}},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(l,c){if(!s()){var u=!0,f=Fd+c.messageId;if(r[f]?u=!1:r[f]=!0,u&&(l<=i.telemetryLoggingLevel()&&(i.queue.push(c),n++),n===i.maxInternalMessageLimit())){var y="Internal events throttle limit per PageView reached for this app.",v=new Ya(xt.MessageLimitPerPVExceeded,y,!1);i.queue.push(v),i.warnToConsole(y)}}};function a(l,c){var u=t[l];return Dt(u)?c:u}o(a,"a");function s(){return n>=i.maxInternalMessageLimit()}o(s,"o")})}return o(e,"t"),e}()});function eo(e,t,n,r,i){if(e){var a=e;if(Pn(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var s=void 0,l=a.getCtx(nl);try{if(s=a.create(t(),r,i),s){if(l&&s.setCtx&&(s.setCtx(to.ParentContextKey,l),l.getCtx&&l.setCtx)){var c=l.getCtx(to.ChildrenContextKey);c||(c=[],l.setCtx(to.ChildrenContextKey,c)),c.push(s)}return a.setCtx(nl,s),n(s)}}catch(u){s&&s.setCtx&&s.setCtx("exception",u)}finally{s&&a.fire(s),a.setCtx(nl,l)}}}return n()}o(eo,"ut");var Ea,to,Lu,nl,rl=lt(()=>{mr(),Cr(),Ea="ctx",to=function(){function e(t,n,r){var i=this,a=!1;if(i.start=Gr(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},Pn(n)){var s;a=Xa(i,"payload",function(){return!s&&Pn(n)&&(s=n(),n=null),s})}i.getCtx=function(l){return l?l===e.ParentContextKey||l===e.ChildrenContextKey?i[l]:(i[Ea]||{})[l]:null},i.setCtx=function(l,c){if(l)if(l===e.ParentContextKey)i[l]||(i.isChildEvt=function(){return!0}),i[l]=c;else if(l===e.ChildrenContextKey)i[l]=c;else{var u=i[Ea]=i[Ea]||{};u[l]=c}},i.complete=function(){var l=0,c=i.getCtx(e.ChildrenContextKey);if(Pi(c))for(var u=0;u<c.length;u++){var f=c[u];f&&(l+=f.time)}i.time=Gr()-i.start,i.exTime=i.time-l,i.complete=function(){},!a&&Pn(n)&&(i.payload=n())}}return o(e,"t"),e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Lu=function(){function e(t){this.ctx={},lr(e,this,function(n){n.create=function(r,i,a){return new to(r,i,a)},n.fire=function(r){r&&(r.complete(),t&&t.perfEvent(r))},n.setCtx=function(r,i){if(r){var a=n[Ea]=n[Ea]||{};a[r]=i}},n.getCtx=function(r){return(n[Ea]||{})[r]}})}return o(e,"t"),e}(),nl="CoreUtils.doPerf"}),kd,Cv=lt(()=>{"use strict";rl(),qs(),Cr(),kd=function(){function e(t,n){var r=this,i=null,a=Pn(t.processTelemetry),s=Pn(t.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return t},r.getNext=function(){return i},r.setNext=function(l){i=l},r.processTelemetry=function(l,c){c||(c=n);var u=t?t.identifier:"TelemetryPluginChain";eo(c?c.core():null,function(){return u+":processTelemetry"},function(){if(t&&a){r._hasRun=!0;try{c.setNext(i),s&&t.setNextPlugin(i),i&&(i._hasRun=!1),t.processTelemetry(l,c)}catch(y){var f=i&&i._hasRun;(!i||!f)&&c.diagLog().throwInternal(Rt.CRITICAL,xt.PluginException,"Plugin ["+t.identifier+"] failed during processTelemetry - "+y),i&&!f&&i.processTelemetry(l,c)}}else i&&(r._hasRun=!0,i.processTelemetry(l,c))},function(){return{item:l}},!l.sync)}}return o(e,"t"),e}()});function Nu(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var a=e[i];if(a&&Pn(a.processTelemetry)){var s=new kd(a,t);n.push(s),r&&r.setNext(s),r=s}}return n.length>0?n[0]:null}o(Nu,"na");function Tv(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();(i||a===n)&&(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),Nu(r,t)}o(Tv,"Qc");function Iv(e,t,n){var r=e,i=!1;return n&&e&&(r=[],En(e,function(a){(i||a===n)&&(i=!0,r.push(a))})),n&&!i&&(r||(r=[]),r.push(n)),Nu(r,t)}o(Iv,"Zc");var Sa,Bu=lt(()=>{"use strict";Mu(),Cv(),Cr(),Sa=function(){function e(t,n,r,i){var a=this,s=null;i!==null&&(t&&Pn(t.getPlugin)?s=Tv(t,a,i||t.getPlugin()):i?s=Iv(t,a,i):Dr(i)&&(s=Nu(t,a))),a.core=function(){return r},a.diagLog=function(){return tl(r,n)},a.getCfg=function(){return n},a.getExtCfg=function(l,c){c===void 0&&(c={});var u;if(n){var f=n.extensionConfig;f&&l&&(u=f[l])}return u||c},a.getConfig=function(l,c,u){u===void 0&&(u=!1);var f,y=a.getExtCfg(l,null);return y&&!Dt(y[c])?f=y[c]:n&&!Dt(n[c])&&(f=n[c]),Dt(f)?u:f},a.hasNext=function(){return s!=null},a.getNext=function(){return s},a.setNext=function(l){s=l},a.processNext=function(l){var c=s;c&&(s=c.getNext(),c.processTelemetry(l,a))},a.createNew=function(l,c){return l===void 0&&(l=null),new e(l||s,n,r,c)}}return o(e,"t"),e}()}),Pd,Uu,Od=lt(()=>{Pd="iKey",Uu="extensionConfig"}),$o,Ca,Md=lt(()=>{"use strict";Bu(),Cr(),Od(),$o="getPlugin",Ca=function(){function e(){var t=this,n=!1,r=null,i=null;t.core=null,t.diagLog=function(a){return t._getTelCtx(a).diagLog()},t.isInitialized=function(){return n},t.setInitialized=function(a){n=a},t.setNextPlugin=function(a){i=a},t.processNext=function(a,s){s?s.processNext(a):i&&Pn(i.processTelemetry)&&i.processTelemetry(a,null)},t._getTelCtx=function(a){a===void 0&&(a=null);var s=a;if(!s){var l=r||new Sa(null,{},t.core);i&&i[$o]?s=l.createNew(null,i[$o]):s=l.createNew(null,i)}return s},t._baseTelInit=function(a,s,l,c){a&&On(a,Uu,[],null,Dt),!c&&s&&(c=s.getProcessTelContext().getNext());var u=i;i&&i[$o]&&(u=i[$o]()),t.core=s,r=new Sa(c,a,s,u),n=!0}}return o(e,"t"),e.prototype.initialize=function(t,n,r,i){this._baseTelInit(t,n,r,i)},e}()});function $u(e,t){for(var n=[],r=null,i=e.getNext();i;){var a=i.getPlugin();a&&(r&&Pn(r[zu])&&Pn(a[il])&&r[zu](a),(!Pn(a[Wu])||!a[Wu]())&&n.push(a),r=a,i=i.getNext())}En(n,function(s){s.initialize(e.getCfg(),e.core(),t,e.getNext())})}o($u,"Qr");function Ld(e){return e.sort(function(t,n){var r=0,i=Pn(n[il]);return Pn(t[il])?r=i?t[Hu]-n[Hu]:1:i&&(r=-1),r})}o(Ld,"sa");var il,Hu,zu,Wu,Nd=lt(()=>{"use strict";Cr(),il="processTelemetry",Hu="priority",zu="setNextPlugin",Wu="isInitialized"}),al,Bd,Ud,Av=lt(()=>{"use strict";Kn(),mr(),Md(),Bu(),Nd(),Cr(),al=500,Bd="Channel has invalid priority",Ud=function(e){Hn(t,e);function t(){var n=e.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=al;var r;lr(t,n,function(l,c){l.setNextPlugin=function(u){},l.processTelemetry=function(u,f){r&&En(r,function(y){if(y.length>0){var v=n._getTelCtx(f).createNew(y);v.processNext(u)}})},l.getChannelControls=function(){return r},l.initialize=function(u,f,y){l.isInitialized()||(c.initialize(u,f,y),s((u||{}).channels,y),En(r,function(v){return $u(new Sa(v,u,f),y)}))}});function i(l){En(l,function(c){c.priority<al&&mi(Bd+c.identifier)})}o(i,"i");function a(l){l&&l.length>0&&(l=l.sort(function(c,u){return c.priority-u.priority}),i(l),r.push(l))}o(a,"a");function s(l,c){if(r=[],l&&En(l,function(f){return a(f)}),c){var u=[];En(c,function(f){f.priority>al&&u.push(f)}),a(u)}}return o(s,"o"),n}return o(t,"e"),t._staticInit=function(){var n=t.prototype;Xa(n,"ChannelControls",n.getChannelControls),Xa(n,"channelQueue",n.getChannelControls)}(),t}(Ca)});function $d(e,t){var n=Ho[Mi]||Wo[Mi];return n||(n=Ho[Mi]=Ho(e,t),Wo[Mi]=n),n}o($d,"va");function ol(e){return e?e.isEnabled():!0}o(ol,"ni");function Rv(e){var t=e.cookieCfg=e.cookieCfg||{};if(On(t,"domain",e.cookieDomain,dv,Dt),On(t,"path",e.cookiePath||"/",null,Dt),Dt(t[ul])){var n=void 0;Dr(e[Vu])||(n=!e[Vu]),Dr(e[Gu])||(n=!e[Gu]),t[ul]=n}return t}o(Rv,"$c");function ju(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r[Mi]?n=r[Mi]:n=Ho(t)}return n||(n=$d(t,(e||{}).logger)),n}o(ju,"lr");function Ho(e,t){var n=Rv(e||Wo),r=n.path||"/",i=n.domain,a=n[ul]!==!1,s={isEnabled:function(){var l=a&&Hd(t),c=Wo[Mi];return l&&c&&s!==c&&(l=ol(c)),l},setEnabled:function(l){a=l!==!1},set:function(l,c,u,f,y){if(ol(s)){var v={},S=xr(c||Zr),H=S.indexOf(";");if(H!==-1&&(S=xr(c.substring(0,H)),v=zd(c.substring(H+1))),On(v,"domain",f||i,Su,Dr),!Dt(u)){var Z=Qs();if(Dr(v[ll])){var U=Gr(),q=U+u*1e3;if(q>0){var ne=new Date;ne.setTime(q),On(v,ll,Wd(ne,Z?Ku:qu)||Wd(ne,Z?Ku:qu)||Zr,Su)}}Z||On(v,"max-age",Zr+u,null,Dr)}var fe=ba();fe&&fe.protocol==="https:"&&(On(v,"secure",null,null,Dr),cl===null&&(cl=!qd((wi()||{}).userAgent)),cl&&On(v,"SameSite","None",null,Dr)),On(v,"path",y||r,null,Dr);var se=n.setCookie||Kd;se(l,jd(S,v))}},get:function(l){var c=Zr;return ol(s)&&(c=(n.getCookie||Dv)(l)),c},del:function(l,c){ol(s)&&s.purge(l,c)},purge:function(l,c){if(Hd(t)){var u=(y={},y.path=c||"/",y[ll]="Thu, 01 Jan 1970 00:00:01 GMT",y);Qs()||(u["max-age"]="0");var f=n.delCookie||Kd;f(l,jd(Zr,u))}var y}};return s[Mi]=s,s}o(Ho,"cr");function Hd(e){if(zo===null){zo=!1;try{var t=no||{};zo=t[sl]!==void 0}catch(n){e&&e.throwInternal(Rt.WARNING,xt.CannotAccessCookie,"Cannot access document.cookie - "+Un(n),{exception:wn(n)})}}return zo}o(Hd,"da");function zd(e){var t={};if(e&&e.length){var n=xr(e).split(";");En(n,function(r){if(r=xr(r||Zr),r){var i=r.indexOf("=");i===-1?t[r]=null:t[xr(r.substring(0,i))]=xr(r.substring(i+1))}})}return t}o(zd,"as");function Wd(e,t){return Pn(e[t])?e[t]():null}o(Wd,"rs");function jd(e,t){var n=e||Zr;return dr(t,function(r,i){n+="; "+r+(Dt(i)?Zr:"="+i)}),n}o(jd,"ns");function Dv(e){var t=Zr;if(no){var n=no[sl]||Zr;Zu!==n&&(Qu=zd(n),Zu=n),t=xr(Qu[e]||Zr)}return t}o(Dv,"el");function Kd(e,t){no&&(no[sl]=e+"="+t)}o(Kd,"is");function qd(e){return bn(e)?!!(Er(e,"CPU iPhone OS 12")||Er(e,"iPad; CPU OS 12")||Er(e,"Macintosh; Intel Mac OS X 10_14")&&Er(e,"Version/")&&Er(e,"Safari")||Er(e,"Macintosh; Intel Mac OS X 10_14")&&gv(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Er(e,"Chrome/5")||Er(e,"Chrome/6")||Er(e,"UnrealEngine")&&!Er(e,"Chrome")||Er(e,"UCBrowser/12")||Er(e,"UCBrowser/11")):!1}o(qd,"ai");var Ku,qu,sl,ll,ul,Vu,Gu,Mi,Zr,zo,cl,Zu,no,Qu,Wo,Xu=lt(()=>{qs(),Uo(),Cr(),Ku="toGMTString",qu="toUTCString",sl="cookie",ll="expires",ul="enabled",Vu="isCookieUseDisabled",Gu="disableCookiesUsage",Mi="_ckMgr",Zr="",zo=null,cl=null,Zu=null,no=yi(),Qu={},Wo={}}),Vd,Ju,Yu,Gd=lt(()=>{"use strict";Kn(),mr(),Av(),Bu(),Nd(),rl(),Xu(),Cr(),Od(),Vd="Extensions must provide callback to initialize",Ju="_notificationManager",Yu=function(){function e(){var t=!1,n,r,i,a,s;lr(e,this,function(l){l._extensions=new Array,r=new Ud,l.logger=Bs({throwInternal:function(c,u,f,y,v){v===void 0&&(v=!1)},warnToConsole:function(c){},resetInternalMessageCount:function(){}}),n=[],l.isInitialized=function(){return t},l.initialize=function(c,u,f,y){l.isInitialized()&&mi("Core should not be initialized more than once"),(!c||Dt(c.instrumentationKey))&&mi("Please provide instrumentation key"),i=y,l[Ju]=y,l.config=c||{},c.extensions=Dt(c.extensions)?[]:c.extensions;var v=Sr(c,Uu);v.NotificationManager=y,f&&(l.logger=f);var S=[];S.push.apply(S,u.concat(c.extensions)),S=Ld(S);var H=[],Z=[],U={};En(S,function(q){(Dt(q)||Dt(q.initialize))&&mi(Vd);var ne=q.priority,fe=q.identifier;q&&ne&&(Dt(U[ne])?U[ne]=fe:f.warnToConsole("Two extensions have same priority #"+ne+" - "+U[ne]+", "+fe)),!ne||ne<r.priority?H.push(q):Z.push(q)}),S.push(r),H.push(r),S=Ld(S),l._extensions=S,$u(new Sa([r],c,l),S),$u(new Sa(H,c,l),S),l._extensions=H,l.getTransmissionControls().length===0&&mi("No channels available"),t=!0,l.releaseQueue()},l.getTransmissionControls=function(){return r.getChannelControls()},l.track=function(c){On(c,Pd,l.config.instrumentationKey,null,hd),On(c,"time",Ji(new Date),null,hd),On(c,"ver","4.0",null,Dt),l.isInitialized()?l.getProcessTelContext().processNext(c):n.push(c)},l.getProcessTelContext=function(){var c=l._extensions,u=c;return(!c||c.length===0)&&(u=[r]),new Sa(u,l.config,l)},l.getNotifyMgr=function(){return i||(i=Bs({addNotificationListener:function(c){},removeNotificationListener:function(c){},eventsSent:function(c){},eventsDiscarded:function(c,u){},eventsSendRequest:function(c,u){}}),l[Ju]=i),i},l.getCookieMgr=function(){return s||(s=Ho(l.config,l.logger)),s},l.setCookieMgr=function(c){s=c},l.getPerfMgr=function(){return a||l.config&&l.config.enablePerfMgr&&(a=new Lu(l.getNotifyMgr())),a},l.setPerfMgr=function(c){a=c},l.eventCnt=function(){return n.length},l.releaseQueue=function(){n.length>0&&(En(n,function(c){l.getProcessTelContext().processNext(c)}),n=[])}})}return o(e,"t"),e}()}),ec,Zd=lt(()=>{mr(),Cr(),ec=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;lr(e,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var a=Lo(r.listeners,i);a>-1;)r.listeners.splice(a,1),a=Lo(r.listeners,i)},r.eventsSent=function(i){En(r.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},r.eventsDiscarded=function(i,a){En(r.listeners,function(s){s&&s.eventsDiscarded&&setTimeout(function(){return s.eventsDiscarded(i,a)},0)})},r.eventsSendRequest=function(i,a){En(r.listeners,function(s){if(s&&s.eventsSendRequest)if(a)setTimeout(function(){return s.eventsSendRequest(i,a)},0);else try{s.eventsSendRequest(i,a)}catch(l){}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&En(r.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(s){}})}})}return o(e,"t"),e}()}),tc,Fv=lt(()=>{Kn(),Gd(),ev(),Zd(),rl(),Mu(),mr(),Cr(),tc=function(e){Hn(t,e);function t(){var n=e.call(this)||this;return lr(t,n,function(r,i){r.initialize=function(l,c,u,f){i.initialize(l,c,u||new Ou(l),f||new ec(l))},r.track=function(l){eo(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){l===null&&(s(l),mi("Invalid telemetry item")),a(l),i.track(l)},function(){return{item:l}},!l.sync)},r.addNotificationListener=function(l){var c=r.getNotifyMgr();c&&c.addNotificationListener(l)},r.removeNotificationListener=function(l){var c=r.getNotifyMgr();c&&c.removeNotificationListener(l)},r.pollInternalLogs=function(l){var c=r.config.diagnosticLogInterval;return(!c||!(c>0))&&(c=1e4),setInterval(function(){var u=r.logger?r.logger.queue:[];En(u,function(f){var y={name:l||"InternalMessageId: "+f.messageId,iKey:r.config.instrumentationKey,time:Ji(new Date),baseType:Ya.dataType,baseData:{message:f.message}};r.track(y)}),u.length=0},c)};function a(l){if(Dt(l.name))throw s(l),Error("telemetry name required")}o(a,"a");function s(l){var c=r.getNotifyMgr();c&&c.eventsDiscarded([l],rd.InvalidEvent)}o(s,"o")}),n}return o(t,"e"),t}(Yu)});function Qd(e){e<0&&(e>>>=0),ro=123456789+e&Li,io=987654321-e&Li,rc=!0}o(Qd,"ls");function Xd(){try{var e=Gr()&2147483647;Qd((Math.random()*nc^e)+e)}catch(t){}}o(Xd,"fs");function Jd(e){return e>0?Math.floor(Ta()/Li*(e+1))>>>0:0}o(Jd,"si");function Ta(e){var t,n=bv()||Ev();return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&Li:Qs()?(rc||Xd(),t=Yd()&Li):t=Math.floor(nc*Math.random()|0),e||(t>>>=0),t}o(Ta,"Ct");function kv(e){e?Qd(e):Xd()}o(kv,"xa");function Yd(e){io=36969*(io&65535)+(io>>16)&Li,ro=18e3*(ro&65535)+(ro>>16)&Li;var t=(io<<16)+(ro&65535)>>>0&Li|0;return e||(t>>>=0),t}o(Yd,"ui");var nc,Li,rc,ro,io,eh=lt(()=>{Uo(),Cr(),nc=4294967296,Li=4294967295,rc=!1,ro=123456789,io=987654321});function Ia(e,t){var n=!1,r=Bo();r&&(n=Mo(r,e,t),n=Mo(r.body,e,t)||n);var i=yi();return i&&(n=Ko.Attach(i,e,t)||n),n}o(Ia,"_t");function Pv(){function e(){return Jd(15)}return o(e,"t"),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(nh,function(t){var n=e()|0,r=t==="x"?n:n&3|8;return r.toString(16)})}o(Pv,"ps");function Ov(){var e=Oi();return e&&e.now?e.now():Gr()}o(Ov,"ds");function fl(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Ta()>>>0,r=0,i="";i.length<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(Ta()<<2&4294967295|n&3)>>>0,r=0);return i}o(fl,"Xt");function _i(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",n,r=0;r<4;r++)n=Ta(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(Ta()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}o(_i,"Oe");function ao(e,t){var n=$d(e,t),r=dl._canUseCookies;return oo===null&&(oo=[],jo=r,Xa(dl,"_canUseCookies",function(){return jo},function(i){jo=i,En(oo,function(a){a.setEnabled(i)})})),Lo(oo,n)===-1&&oo.push(n),Eu(r)&&n.setEnabled(r),Eu(jo)&&n.setEnabled(jo),n}o(ao,"Qt");function th(){ao().setEnabled(!1)}o(th,"ci");function Mv(e){return ao(null,e).isEnabled()}o(Mv,"Sa");function Lv(e,t){return ao(null,e).get(t)}o(Lv,"Ia");function Nv(e,t,n,r){ao(null,e).set(t,n,null,r)}o(Nv,"Ca");function Bv(e,t){return ao(null,e).del(t)}o(Bv,"Ta");var oo,jo,dl,nh,Ko,Uv=lt(()=>{"use strict";Kn(),Xu(),Uo(),Cr(),eh(),oo=null,dl={_canUseCookies:void 0,isTypeof:fv,isUndefined:Dr,isNullOrUndefined:Dt,hasOwnProperty:_u,isFunction:Pn,isObject:_a,isDate:xu,isArray:Pi,isError:Vs,isString:bn,isNumber:bu,isBoolean:Eu,toISOString:Ji,arrForEach:En,arrIndexOf:Lo,arrMap:No,arrReduce:dd,strTrim:xr,objCreate:Bs,objKeys:xa,objDefineAccessors:Xa,addEventHandler:Ia,dateNow:Gr,isIE:Qs,disableCookies:th,newGuid:Pv,perfNow:Ov,newId:fl,randomValue:Jd,random32:Ta,mwcRandomSeed:kv,mwcRandom32:Yd,generateW3CId:_i},nh=/[xy]/g,Ko={Attach:Mo,AttachEvent:Mo,Detach:fd,DetachEvent:fd}});function ic(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}o(ic,"wa");function ac(e,t,n,r,i){i>=0&&i<=2&&ic(e,function(a,s){var l=a.cbks,c=l[lc[i]];if(c){t.ctx=function(){var y=r[s]=r[s]||{};return y};try{c.apply(t.inst,n)}catch(y){var u=t.err;try{var f=l[lc[2]];f&&(t.err=y,f.apply(t.inst,n))}catch(v){}finally{t.err=u}}}})}o(ac,"Ea");function $v(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:c},a=[],s=l([i],n);function l(f,y){return ic(y,function(v){f.push(v)}),f}o(l,"u");function c(f,y){n=l([],n),n[f]=y,s=l([i],n)}o(c,"s"),ac(r,i,s,a,0);var u=e.f;try{i.rslt=u.apply(t,n)}catch(f){throw i.err=f,ac(r,i,s,a,3),f}return ac(r,i,s,a,1),i.rslt}}o($v,"al");function Hv(e){if(e){if(uc)return uc(e);var t=e[ih]||e[jr]||e[ah];if(t)return t}return null}o(Hv,"ol");function rh(e,t,n){var r=null;return e&&(_u(e,t)?r=e:n&&(r=rh(Hv(e),t,!1))),r}o(rh,"xs");function zv(e,t,n){return e?oc(e[jr],t,n,!1):null}o(zv,"Pa");function oc(e,t,n,r){if(r===void 0&&(r=!0),e&&t&&n){var i=rh(e,t,r);if(i){var a=i[t];if(typeof a===qa){var s=a[sc];if(!s){s={i:0,n:t,f:a,h:[]};var l=$v(s);l[sc]=s,i[t]=l}var c={id:s.i,cbks:n,rm:function(){var u=this.id;ic(s.h,function(f,y){if(f.id===u)return s.h.splice(y,1),1})}};return s.i++,s.h.push(c),c}}}return null}o(oc,"sn");var sc,lc,ih,ah,uc,Wv=lt(()=>{Kn(),Cr(),sc="_aiHooks",lc=["req","rsp","hkErr","fnErr"],ih="__proto__",ah="constructor",uc=Object.getPrototypeOf}),In=lt(()=>{Fv(),Gd(),Md(),eh(),Uv(),Cr(),Uo(),Kn(),Zd(),rl(),Mu(),qs(),Wv(),Xu()}),Zn,oh=lt(()=>{Zn={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function cc(e,t,n){var r=t.length,i=sh(e,t);if(i.length!==r){for(var a=0,s=i;n[s]!==void 0;)a++,s=i.substring(0,150-3)+ch(a);i=s}return i}o(cc,"li");function sh(e,t){var n;return t&&(t=xr(t.toString()),t.length>150&&(n=t.substring(0,150),e.throwInternal(Rt.WARNING,xt.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:t},!0))),n||t}o(sh,"Aa");function Fr(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=xr(t),t.toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(Rt.WARNING,xt.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}o(Fr,"ae");function qo(e,t){return dc(e,t,2048,xt.UrlTooLong)}o(qo,"Tt");function fc(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(Rt.WARNING,xt.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:t},!0)),n||t}o(fc,"Nr");function lh(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(Rt.WARNING,xt.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:t},!0))}return n||t}o(lh,"fi");function Yi(e,t){if(t){var n={};dr(t,function(r,i){if(_a(i)&&Ja())try{i=ii().stringify(i)}catch(a){e.throwInternal(Rt.WARNING,xt.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=Fr(e,i,8192),r=cc(e,r,n),n[r]=i}),t=n}return t}o(Yi,"Be");function ea(e,t){if(t){var n={};dr(t,function(r,i){r=cc(e,r,n),n[r]=i}),t=n}return t}o(ea,"ze");function uh(e,t){return t&&dc(e,t,128,xt.IdTooLong).toString()}o(uh,"pi");function dc(e,t,n,r){var i;return t&&(t=xr(t),t.length>n&&(i=t.substring(0,n),e.throwInternal(Rt.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),i||t}o(dc,"di");function ch(e){var t="00"+e;return t.substr(t.length-3)}o(ch,"Da");var fh,ai=lt(()=>{In(),fh={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:cc,sanitizeKey:sh,sanitizeString:Fr,sanitizeUrl:qo,sanitizeMessage:fc,sanitizeException:lh,sanitizeProperties:Yi,sanitizeMeasurements:ea,sanitizeId:uh,sanitizeInput:dc,padNumber:ch,trim:xr}});function so(e){var t=null;if(Pn(Event))t=new Event(e);else{var n=yi();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}o(so,"Ut");var dh=lt(()=>{In()});function Wn(e,t){return t===void 0&&(t=!1),e==null?t:e.toString().toLowerCase()==="true"}o(Wn,"ee");function Ni(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=""+e%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,a=Math.floor(e/(1e3*60*60*24));return t=t.length===1?"00"+t:t.length===2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+r+":"+n+"."+t}o(Ni,"Ge");function hc(){var e=wi();return"sendBeacon"in e&&e.sendBeacon}o(hc,"kr");function hh(e,t){var n=null;return En(e,function(r){if(r.identifier===t)return n=r,-1}),n}o(hh,"un");function gh(e,t,n,r,i){return!i&&bn(e)&&(e==="Script error."||e==="Script error")}o(gh,"cn");var hl=lt(()=>{In()}),Aa,gl,lo,pl,gc,Qr,oi=lt(()=>{Aa="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",gl="sampleRate",lo="ProcessLegacy",pl="http.method",gc="https://dc.services.visualstudio.com",Qr="not_specified"}),Ra,si,ph=lt(()=>{(function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"})(Ra||(Ra={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(si||(si={}))});function pc(){return mc()?vl(Ra.LocalStorage):null}o(pc,"Ra");function vl(e){try{if(Dt(Va()))return null;var t=new Date,n=Tr(e===Ra.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}o(vl,"gi");function vc(){return uo()?vl(Ra.SessionStorage):null}o(vc,"Ma");function vh(){ta=!1,na=!1}o(vh,"pn");function mc(){return ta===void 0&&(ta=!!vl(Ra.LocalStorage)),ta}o(mc,"Rr");function mh(e,t){var n=pc();if(n!==null)try{return n.getItem(t)}catch(r){ta=!1,e.throwInternal(Rt.WARNING,xt.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Un(r),{exception:wn(r)})}return null}o(mh,"dn");function yh(e,t,n){var r=pc();if(r!==null)try{return r.setItem(t,n),!0}catch(i){ta=!1,e.throwInternal(Rt.WARNING,xt.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Un(i),{exception:wn(i)})}return!1}o(yh,"gn");function wh(e,t){var n=pc();if(n!==null)try{return n.removeItem(t),!0}catch(r){ta=!1,e.throwInternal(Rt.WARNING,xt.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Un(r),{exception:wn(r)})}return!1}o(wh,"vn");function uo(){return na===void 0&&(na=!!vl(Ra.SessionStorage)),na}o(uo,"wt");function jv(){var e=[];return uo()&&dr(Tr("sessionStorage"),function(t){e.push(t)}),e}o(jv,"La");function ml(e,t){var n=vc();if(n!==null)try{return n.getItem(t)}catch(r){na=!1,e.throwInternal(Rt.WARNING,xt.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Un(r),{exception:wn(r)})}return null}o(ml,"Yt");function yl(e,t,n){var r=vc();if(r!==null)try{return r.setItem(t,n),!0}catch(i){na=!1,e.throwInternal(Rt.WARNING,xt.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Un(i),{exception:wn(i)})}return!1}o(yl,"$t");function _h(e,t){var n=vc();if(n!==null)try{return n.removeItem(t),!0}catch(r){na=!1,e.throwInternal(Rt.WARNING,xt.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Un(r),{exception:wn(r)})}return!1}o(_h,"mn");var ta,na,xh=lt(()=>{In(),ph(),ta=void 0,na=void 0});function Vo(e){var t=_c,n=Ch,r=n[t];return wc.createElement?n[t]||(r=n[t]=wc.createElement("a")):r={host:Sh(e,!0)},r.href=e,t++,t>=n.length&&(t=0),_c=t,r}o(Vo,"gr");function bh(e){var t,n=Vo(e);return n&&(t=n.href),t}o(bh,"hn");function Kv(e){var t,n=Vo(e);return n&&(t=n.pathname),t}o(Kv,"Ua");function Eh(e,t){return e?e.toUpperCase()+" "+t:t}o(Eh,"xn");function Sh(e,t){var n=yc(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>3&&bn(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}o(Sh,"vi");function yc(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>2&&bn(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),n+=a}}return n}o(yc,"yn");var wc,_c,Ch,Th=lt(()=>{In(),wc=yi()||{},_c=0,Ch=[null,null,null,null,null]});function wl(e){return Ih.indexOf(e.toLowerCase())!==-1}o(wl,"Mr");function qv(e,t,n,r){var i,a=r,s=r;if(t&&t.length>0){var l=Vo(t);if(i=l.host,!a)if(l.pathname!=null){var c=l.pathname.length===0?"/":l.pathname;c.charAt(0)!=="/"&&(c="/"+c),s=l.pathname,a=Fr(e,n?n+" "+c:c)}else a=Fr(e,t)}else i=r,a=r;return{target:i,name:a,data:s}}o(qv,"Cs");function Go(){var e=Oi();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return Gr()}o(Go,"vr");function kr(e,t){var n=null;return e!==0&&t!==0&&!Dt(e)&&!Dt(t)&&(n=t-e),n}o(kr,"ve");var Ih,xc,Ah,ra,Rh,Dh=lt(()=>{In(),oh(),ai(),dh(),hl(),oi(),xh(),Th(),Ih=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],xc={NotSpecified:Qr,createDomEvent:so,disableStorage:vh,isInternalApplicationInsightsEndpoint:wl,canUseLocalStorage:mc,getStorage:mh,setStorage:yh,removeStorage:wh,canUseSessionStorage:uo,getSessionStorageKeys:jv,getSessionStorage:ml,setSessionStorage:yl,removeSessionStorage:_h,disableCookies:th,canUseCookies:Mv,disallowsSameSiteNone:qd,setCookie:Nv,stringToBoolOrDefault:Wn,getCookie:Lv,deleteCookie:Bv,trim:xr,newId:fl,random32:function(){return Ta(!0)},generateW3CId:_i,isArray:Pi,isError:Vs,isDate:xu,toISOStringForIE8:Ji,getIEVersion:Fu,msToTimeSpan:Ni,isCrossOriginError:gh,dump:wn,getExceptionName:Un,addEventHandler:Mo,IsBeaconApiSupported:hc,getExtension:hh},Ah={parseUrl:Vo,getAbsoluteUrl:bh,getPathName:Kv,getCompleteUrl:Eh,parseHost:Sh,parseFullHost:yc},ra={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns){for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1}var i=Vo(t).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(yc(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a=e&&e.correlationHeaderDomains;if(a){var s;if(En(a,function(u){var f=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||f.test(i)}),!s)return!1}var l=e&&e.correlationHeaderExcludedDomains;if(!l||l.length===0)return!0;for(var r=0;r<l.length;r++){var c=new RegExp(l[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=ra.getCorrelationContextValue(e,Zn.requestContextTargetKey);if(t&&t!==ra.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(i.length===2&&i[0]===t)return i[1]}}},Rh={Now:Go,GetDuration:kr}});function Fh(e){if(!e)return{};var t=e.split(kh),n=dd(t,function(i,a){var s=a.split(Ph);if(s.length===2){var l=s[0].toLowerCase(),c=s[1];i[l]=c}return i},{});if(xa(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||gc}return n}o(Fh,"mi");var kh,Ph,Oh,Vv=lt(()=>{oi(),In(),kh=";",Ph="=",Oh={parse:Fh}}),bc,Mh=lt(()=>{bc=function(){function e(){}return o(e,"t"),e}()}),Ec,Lh=lt(()=>{Kn(),Mh(),Ec=function(e){Hn(t,e);function t(){return e.call(this)||this}return o(t,"e"),t}(bc)}),Nh,Gv=lt(()=>{Nh=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return o(e,"t"),e}()}),Sc,Zv=lt(()=>{Kn(),Gv(),ai(),In(),oi(),Sc=function(e){Hn(t,e);function t(n,r,i){var a=e.call(this)||this;return a.name=Fr(n,i)||Qr,a.data=r,a.time=Ji(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return o(t,"e"),t}(Nh)}),Cc,Bh=lt(()=>{Cc=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return o(e,"t"),e}()}),li,Qv=lt(()=>{Kn(),Bh(),ai(),oi(),li=function(e){Hn(t,e);function t(n,r,i,a){var s=e.call(this)||this;return s.aiDataContract={ver:1,name:1,properties:0,measurements:0},s.name=Fr(n,r)||Qr,s.properties=Yi(n,i),s.measurements=ea(n,a),s}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(Cc)}),Uh,Xv=lt(()=>{Uh=function(){function e(){}return o(e,"t"),e}()}),$h,Jv=lt(()=>{$h=function(){function e(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return o(e,"t"),e}()}),Hh,Yv=lt(()=>{Hh=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return o(e,"t"),e}()});function Tc(e,t){var n=e;return n&&!bn(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||n==="{}")&&(Pn(e.toString)?n=e.toString():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}o(Tc,"Ja");function zh(e,t){var n=e;return e&&(n=e[bl]||e[Rc]||"",n&&!bn(n)&&(n=Tc(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&(n||"").indexOf(t)===-1&&(n=t+": "+n),n||""}o(zh,"Os");function em(e){return _a(e)?"hasFullStack"in e&&"typeName"in e:!1}o(em,"pl");function tm(e){return _a(e)?"ver"in e&&"exceptions"in e&&"properties"in e:!1}o(tm,"dl");function Wh(e){return e&&e.src&&bn(e.src)&&e.obj&&Pi(e.obj)}o(Wh,"Ls");function co(e){var t=e||"";bn(t)||(bn(t[Kr])?t=t[Kr]:t=""+t);var n=t.split(`
`);return{src:t,obj:n}}o(co,"Lr");function nm(e){for(var t=[],n=e.split(`
`),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}o(nm,"gl");function jh(e){var t=null;if(e)try{if(e[Kr])t=co(e[Kr]);else if(e[Da]&&e[Da][Kr])t=co(e[Da][Kr]);else if(e.exception&&e.exception[Kr])t=co(e.exception[Kr]);else if(Wh(e))t=e;else if(Wh(e[xl]))t=e[xl];else if(window.opera&&e[bl])t=nm(e.message);else if(bn(e))t=co(e);else{var n=e[bl]||e[Rc]||"";bn(e[Ac])&&(n&&(n+=`
`),n+=" from "+e[Ac]),n&&(t=co(n))}}catch(r){t=co(r)}return t||{src:"",obj:null}}o(jh,"Bs");function rm(e){var t="";return e&&(e.obj?En(e.obj,function(n){t+=n+`
`}):t=e.src||""),t}o(rm,"vl");function im(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;En(n,function(H){var Z=H.toString();if(El.regex.test(Z)){var U=new El(Z,r++);i+=U.sizeInBytes,t.push(U)}});var a=32*1024;if(i>a)for(var s=0,l=t.length-1,c=0,u=s,f=l;s<l;){var y=t[s].sizeInBytes,v=t[l].sizeInBytes;if(c+=y+v,c>a){var S=f-u+1;t.splice(u,S);break}u=s,f=l,s++,l--}}return t}o(im,"ml");function _l(e){var t="";if(e&&(t=e.typeName||e.name||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor.toString());t=r&&r.length>1?r[1]:""}catch(i){}return t}o(_l,"xi");function Ic(e){if(e)try{if(!bn(e)){var t=_l(e),n=Tc(e,!1);return(!n||n==="{}")&&(e[Da]&&(e=e[Da],t=_l(e)),n=Tc(e,!0)),n.indexOf(t)!==0&&t!=="String"?t+":"+n:n}}catch(r){}return""+(e||"")}o(Ic,"Ka");var Kh,Da,Kr,xl,Ac,bl,Rc,Pr,Dc,El,am=lt(()=>{Kn(),Xv(),Jv(),Yv(),ai(),In(),oi(),Kh="<no_method>",Da="error",Kr="stack",xl="stackDetails",Ac="errorSrc",bl="message",Rc="description",Pr=function(e){Hn(t,e);function t(n,r,i,a,s,l){var c=e.call(this)||this;return c.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},tm(r)?(c.exceptions=r.exceptions,c.properties=r.properties,c.measurements=r.measurements,r.severityLevel&&(c.severityLevel=r.severityLevel),r.id&&(c.id=r.id),r.problemGroup&&(c.problemGroup=r.problemGroup),c.ver=2,Dt(r.isManual)||(c.isManual=r.isManual)):(i||(i={}),c.exceptions=[new Dc(n,r,i)],c.properties=Yi(n,i),c.measurements=ea(n,a),s&&(c.severityLevel=s),l&&(c.id=l)),c}return o(t,"e"),t.CreateAutoException=function(n,r,i,a,s,l,c,u){var f=_l(s||l||n);return{message:zh(n,f),url:r,lineNumber:i,columnNumber:a,error:Ic(s||l||n),evt:Ic(l||n),typeName:f,stackDetails:jh(c||s||l),errorSrc:u}},t.CreateFromInterface=function(n,r,i,a){var s=r.exceptions&&No(r.exceptions,function(c){return Dc.CreateFromInterface(n,c)}),l=new t(n,Ga({},r,{exceptions:s}),i,a);return l},t.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,a=n.measurements,s=n.severityLevel,l=n.ver,c=n.problemGroup,u=n.id,f=n.isManual,y=r instanceof Array&&No(r,function(v){return v.toInterface()})||void 0;return{ver:"4.0",exceptions:y,severityLevel:s,properties:i,measurements:a,problemGroup:c,id:u,isManual:f}},t.CreateSimpleException=function(n,r,i,a,s,l){return{exceptions:[{hasFullStack:!0,message:n,stack:s,typeName:r}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Ic,t}($h),Dc=function(e){Hn(t,e);function t(n,r,i){var a=e.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},em(r))a.typeName=r.typeName,a.message=r.message,a[Kr]=r[Kr],a.parsedStack=r.parsedStack,a.hasFullStack=r.hasFullStack;else{var s=r,l=s&&s.evt;Vs(s)||(s=s[Da]||l||s),a.typeName=Fr(n,_l(s))||Qr,a.message=fc(n,zh(r||s,a.typeName))||Qr;var c=r[xl]||jh(r);a.parsedStack=im(c),a[Kr]=lh(n,rm(c)),a.hasFullStack=Pi(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return o(t,"e"),t.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&No(this.parsedStack,function(i){return i.toInterface()}),r={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Kr],parsedStack:n||void 0};return r},t.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&No(r.parsedStack,function(s){return El.CreateFromInterface(s)})||r.parsedStack,a=new t(n,Ga({},r,{parsedStack:i}));return a},t}(Hh),El=function(e){Hn(t,e);function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof n=="string"){var a=n;i.level=r,i.method=Kh,i.assembly=xr(a),i.fileName="",i.line=0;var s=a.match(t.regex);s&&s.length>=5&&(i.method=xr(s[2])||i.method,i.fileName=xr(s[4]),i.line=parseInt(s[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return o(t,"e"),t.CreateFromInterface=function(n){return new t(n,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Uh)}),qh,om=lt(()=>{qh=function(){function e(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return o(e,"t"),e}()}),Fc,sm=lt(()=>{(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(Fc||(Fc={}))}),Vh,lm=lt(()=>{sm(),Vh=function(){function e(){this.kind=Fc.Measurement}return o(e,"t"),e}()}),Gh,um=lt(()=>{Kn(),lm(),Gh=function(e){Hn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return o(t,"e"),t}(Vh)}),xi,cm=lt(()=>{Kn(),om(),ai(),um(),oi(),xi=function(e){Hn(t,e);function t(n,r,i,a,s,l,c,u){var f=e.call(this)||this;f.aiDataContract={ver:1,metrics:1,properties:0};var y=new Gh;return y.count=a>0?a:void 0,y.max=isNaN(l)||l===null?void 0:l,y.min=isNaN(s)||s===null?void 0:s,y.name=Fr(n,r)||Qr,y.value=i,f.metrics=[y],f.properties=Yi(n,c),f.measurements=ea(n,u),f}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(qh)}),Sl,kc=lt(()=>{Kn(),Bh(),Sl=function(e){Hn(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(t,"e"),t}(Cc)}),ui,fm=lt(()=>{Kn(),kc(),ai(),hl(),oi(),ui=function(e){Hn(t,e);function t(n,r,i,a,s,l,c){var u=e.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},u.id=uh(n,c),u.url=qo(n,i),u.name=Fr(n,r)||Qr,isNaN(a)||(u.duration=Ni(a)),u.properties=Yi(n,s),u.measurements=ea(n,l),u}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(Sl)}),Zh,dm=lt(()=>{Zh=function(){function e(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return o(e,"t"),e}()}),bi,hm=lt(()=>{Kn(),ai(),Dh(),dm(),hl(),bi=function(e){Hn(t,e);function t(n,r,i,a,s,l,c,u,f,y,v,S){f===void 0&&(f="Ajax");var H=e.call(this)||this;H.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},H.id=r,H.duration=Ni(s),H.success=l,H.resultCode=c+"",H.type=Fr(n,f);var Z=qv(n,i,u,a);return H.data=qo(n,a)||Z.data,H.target=Fr(n,Z.target),y&&(H.target=H.target+" | "+y),H.name=Fr(n,Z.name),H.properties=Yi(n,v),H.measurements=ea(n,S),H}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(Zh)}),Qh,gm=lt(()=>{Qh=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return o(e,"t"),e}()}),Bi,pm=lt(()=>{Kn(),gm(),ai(),oi(),Bi=function(e){Hn(t,e);function t(n,r,i,a,s){var l=e.call(this)||this;return l.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||Qr,l.message=fc(n,r),l.properties=Yi(n,a),l.measurements=ea(n,s),i&&(l.severityLevel=i),l}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(Qh)}),Xh,vm=lt(()=>{Kn(),kc(),Xh=function(e){Hn(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(t,"e"),t}(Sl)}),Ui,mm=lt(()=>{Kn(),vm(),ai(),oi(),Ui=function(e){Hn(t,e);function t(n,r,i,a,s,l,c){var u=e.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},u.url=qo(n,i),u.name=Fr(n,r)||Qr,u.properties=Yi(n,s),u.measurements=ea(n,l),c&&(u.domProcessing=c.domProcessing,u.duration=c.duration,u.networkConnect=c.networkConnect,u.perfTotal=c.perfTotal,u.receivedResponse=c.receivedResponse,u.sentRequest=c.sentRequest),u}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(Xh)}),$i,ym=lt(()=>{Kn(),Lh(),$i=function(e){Hn(t,e);function t(n,r){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return o(t,"e"),t}(Ec)}),Zo,wm=lt(()=>{(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(Zo||(Zo={}))}),Jh,_m=lt(()=>{In(),Jh=function(){function e(){}return o(e,"t"),e.getConfig=function(t,n,r,i){i===void 0&&(i=!1);var a;return r&&t.extensionConfig&&t.extensionConfig[r]&&!Dt(t.extensionConfig[r][n])?a=t.extensionConfig[r][n]:a=t[n],Dt(a)?i:a},e}()});function ia(e){var t="ai."+e+".";return function(n){return t+n}}o(ia,"tr");var fo,cr,Qo,Fa,Cl,Hi,aa,ho,Tl,Yh=lt(()=>{Kn(),In(),fo=ia("application"),cr=ia("device"),Qo=ia("location"),Fa=ia("operation"),Cl=ia("session"),Hi=ia("user"),aa=ia("cloud"),ho=ia("internal"),Tl=function(e){Hn(t,e);function t(){return e.call(this)||this}return o(t,"e"),t}(pv({applicationVersion:fo("ver"),applicationBuild:fo("build"),applicationTypeId:fo("typeId"),applicationId:fo("applicationId"),applicationLayer:fo("layer"),deviceId:cr("id"),deviceIp:cr("ip"),deviceLanguage:cr("language"),deviceLocale:cr("locale"),deviceModel:cr("model"),deviceFriendlyName:cr("friendlyName"),deviceNetwork:cr("network"),deviceNetworkName:cr("networkName"),deviceOEMName:cr("oemName"),deviceOS:cr("os"),deviceOSVersion:cr("osVersion"),deviceRoleInstance:cr("roleInstance"),deviceRoleName:cr("roleName"),deviceScreenResolution:cr("screenResolution"),deviceType:cr("type"),deviceMachineName:cr("machineName"),deviceVMName:cr("vmName"),deviceBrowser:cr("browser"),deviceBrowserVersion:cr("browserVersion"),locationIp:Qo("ip"),locationCountry:Qo("country"),locationProvince:Qo("province"),locationCity:Qo("city"),operationId:Fa("id"),operationName:Fa("name"),operationParentId:Fa("parentId"),operationRootId:Fa("rootId"),operationSyntheticSource:Fa("syntheticSource"),operationCorrelationVector:Fa("correlationVector"),sessionId:Cl("id"),sessionIsFirst:Cl("isFirst"),sessionIsNew:Cl("isNew"),userAccountAcquisitionDate:Hi("accountAcquisitionDate"),userAccountId:Hi("accountId"),userAgent:Hi("userAgent"),userId:Hi("id"),userStoreRegion:Hi("storeRegion"),userAuthUserId:Hi("authUserId"),userAnonymousUserAcquisitionDate:Hi("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Hi("authUserAcquisitionDate"),cloudName:aa("name"),cloudRole:aa("role"),cloudRoleVer:aa("roleVer"),cloudRoleInstance:aa("roleInstance"),cloudEnvironment:aa("environment"),cloudLocation:aa("location"),cloudDeploymentUnit:aa("deploymentUnit"),internalNodeName:ho("nodeName"),internalSdkVersion:ho("sdkVersion"),internalAgentVersion:ho("agentVersion"),internalSnippet:ho("snippet"),internalSdkSrc:ho("sdkSrc")}))}),Ei,xm=lt(()=>{ai(),In(),oi(),Ei=function(){function e(){}return o(e,"t"),e.create=function(t,n,r,i,a,s){if(r=Fr(i,r)||Qr,Dt(t)||Dt(n)||Dt(r))throw Error("Input doesn't contain all required fields");var l={name:r,time:Ji(new Date),iKey:"",ext:s||{},tags:[],data:{},baseType:n,baseData:t};return Dt(a)||dr(a,function(c,u){l.data[c]=u}),l},e}()}),Or,qn,bm=lt(()=>{Yh(),Or={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},qn=new Tl}),go,Il,Pc,hr=lt(()=>{Dh(),Vv(),oh(),oi(),Lh(),Mh(),Zv(),Qv(),am(),cm(),fm(),kc(),hm(),pm(),mm(),ym(),wm(),_m(),Yh(),ai(),xm(),bm(),ph(),hl(),dh(),xh(),Th(),go="AppInsightsPropertiesPlugin",Il="AppInsightsChannelPlugin",Pc="ApplicationInsightsAnalytics"}),eg,Em=lt(()=>{hr(),In(),mr(),eg=function(){function e(t,n,r,i){lr(e,this,function(a){var s=null,l=[],c=!1,u;r&&(u=r.logger);function f(){r&&En(r.getTransmissionControls(),function(v){En(v,function(S){return S.flush(!0)})})}o(f,"l");function y(v){l.push(v),s||(s=setInterval(function(){var S=l.slice(0),H=!1;l=[],En(S,function(Z){Z()?H=!0:l.push(Z)}),l.length===0&&(clearInterval(s),s=null),H&&f()},100))}o(y,"f"),a.trackPageView=function(v,S){var H=v.name;if(Dt(H)||typeof H!="string"){var Z=yi();H=v.name=Z&&Z.title||""}var U=v.uri;if(Dt(U)||typeof U!="string"){var q=ba();U=v.uri=q&&q.href||""}if(!i.isPerformanceTimingSupported()){t.sendPageViewInternal(v,S),f(),u.throwInternal(Rt.WARNING,xt.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var ne=!1,fe,se=i.getPerformanceTiming().navigationStart;se>0&&(fe=kr(se,+new Date),i.shouldCollectDuration(fe)||(fe=void 0));var be;!Dt(S)&&!Dt(S.duration)&&(be=S.duration),(n||!isNaN(be))&&(isNaN(be)&&(S||(S={}),S.duration=fe),t.sendPageViewInternal(v,S),f(),ne=!0);var rt=6e4;S||(S={}),y(function(){var Ue=!1;try{if(i.isPerformanceTimingDataReady()){Ue=!0;var ke={name:H,uri:U};i.populatePageViewPerformanceEvent(ke),!ke.isValid&&!ne?(S.duration=fe,t.sendPageViewInternal(v,S)):(ne||(S.duration=ke.durationMs,t.sendPageViewInternal(v,S)),c||(t.sendPageViewPerformanceInternal(ke,S),c=!0))}else se>0&&kr(se,+new Date)>rt&&(Ue=!0,ne||(S.duration=rt,t.sendPageViewInternal(v,S)))}catch(wt){u.throwInternal(Rt.CRITICAL,xt.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Un(wt),{exception:wn(wt)})}return Ue})}})}return o(e,"t"),e}()}),tg,ng,Sm=lt(()=>{hr(),In(),tg=function(){function e(t,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=t}return o(e,"t"),e.prototype.trackPreviousPageVisit=function(t,n){try{var r=this.restartPageVisitTimer(t,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+wn(i))}},e.prototype.restartPageVisitTimer=function(t,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(t,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+wn(i)),null}},e.prototype.startPageVisitTimer=function(t,n){try{if(uo()){ml(this._logger,this.prevPageVisitDataKeyName)!=null&&mi("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new ng(t,n),i=ii().stringify(r);yl(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+wn(a))}},e.prototype.stopPageVisitTimer=function(){try{if(uo()){var t=Gr(),n=ml(this._logger,this.prevPageVisitDataKeyName);if(n&&Ja()){var r=ii().parse(n);return r.pageVisitTime=t-r.pageVisitStartTime,_h(this._logger,this.prevPageVisitDataKeyName),r}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+wn(i)),null}},e}(),ng=function(){function e(t,n){this.pageVisitStartTime=Gr(),this.pageName=t,this.pageUrl=n}return o(e,"t"),e}()}),rg,Cm=lt(()=>{hr(),In(),rg=function(){function e(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}return o(e,"t"),e.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,a=0,s=0,l=0,c=0;(n||r)&&(n?(i=n.duration,a=n.startTime===0?n.connectEnd:kr(n.startTime,n.connectEnd),s=kr(n.requestStart,n.responseStart),l=kr(n.responseStart,n.responseEnd),c=kr(n.responseEnd,n.loadEventEnd)):(i=kr(r.navigationStart,r.loadEventEnd),a=kr(r.navigationStart,r.connectEnd),s=kr(r.requestStart,r.responseStart),l=kr(r.responseStart,r.responseEnd),c=kr(r.responseEnd,r.loadEventEnd)),i===0?this._logger.throwInternal(Rt.WARNING,xt.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:s,response:l,dom:c}):this.shouldCollectDuration(i,a,s,l,c)?i<Math.floor(a)+Math.floor(s)+Math.floor(l)+Math.floor(c)?this._logger.throwInternal(Rt.WARNING,xt.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:s,response:l,dom:c}):(t.durationMs=i,t.perfTotal=t.duration=Ni(i),t.networkConnect=Ni(a),t.sentRequest=Ni(s),t.receivedResponse=Ni(l),t.domProcessing=Ni(c),t.isValid=!0):this._logger.throwInternal(Rt.WARNING,xt.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:s,response:l,dom:c}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Oi().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Oi().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var t=Oi();return t&&t.getEntriesByType&&t.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var t=Oi();return t&&t.timing},e.prototype.isPerformanceTimingDataReady=function(){var t=Oi(),n=t?t.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=wi()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=r.userAgent,s=!1;if(a)for(var l=0;l<i.length;l++)s=s||a.toLowerCase().indexOf(i[l])!==-1;if(s)return!1;for(var l=0;l<t.length;l++)if(t[l]<0||t[l]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()});function Xo(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}o(Xo,"Pn");var Oc,Al,Mc,Lc,Tm=lt(()=>{Kn(),hr(),In(),Em(),Sm(),Cm(),mr(),Oc="duration",Al="event",Mc=function(e){Hn(t,e);function t(){var n=e.call(this)||this;n.identifier=Pc,n.priority=180,n.autoRoutePVDelay=500;var r,i,a,s=0,l,c;return lr(t,n,function(u,f){var y=ba(!0);l=y&&y.href||"",u.getCookieMgr=function(){return ju(u.core)},u.processTelemetry=function(U,q){eo(u.core,function(){return u.identifier+":processTelemetry"},function(){var ne=!1,fe=u._telemetryInitializers.length;q=u._getTelCtx(q);for(var se=0;se<fe;++se){var be=u._telemetryInitializers[se];if(be)try{if(be.apply(null,[U])===!1){ne=!0;break}}catch(rt){q.diagLog().throwInternal(Rt.CRITICAL,xt.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Un(rt),{exception:wn(rt)},!0)}}ne||u.processNext(U,q)},function(){return{item:U}},!U.sync)},u.trackEvent=function(U,q){try{var ne=Ei.create(U,li.dataType,li.envelopeType,u.diagLog(),q);u.core.track(ne)}catch(fe){u.diagLog().throwInternal(Rt.WARNING,xt.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Un(fe),{exception:wn(fe)})}},u.startTrackEvent=function(U){try{r.start(U)}catch(q){u.diagLog().throwInternal(Rt.CRITICAL,xt.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Un(q),{exception:wn(q)})}},u.stopTrackEvent=function(U,q,ne){try{r.stop(U,void 0,q)}catch(fe){u.diagLog().throwInternal(Rt.CRITICAL,xt.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Un(fe),{exception:wn(fe)})}},u.trackTrace=function(U,q){try{var ne=Ei.create(U,Bi.dataType,Bi.envelopeType,u.diagLog(),q);u.core.track(ne)}catch(fe){u.diagLog().throwInternal(Rt.WARNING,xt.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Un(fe),{exception:wn(fe)})}},u.trackMetric=function(U,q){try{var ne=Ei.create(U,xi.dataType,xi.envelopeType,u.diagLog(),q);u.core.track(ne)}catch(fe){u.diagLog().throwInternal(Rt.CRITICAL,xt.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Un(fe),{exception:wn(fe)})}},u.trackPageView=function(U,q){try{var ne=U||{};u._pageViewManager.trackPageView(ne,Ga({},ne.properties,ne.measurements,q)),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(ne.name,ne.uri)}catch(fe){u.diagLog().throwInternal(Rt.CRITICAL,xt.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Un(fe),{exception:wn(fe)})}},u.sendPageViewInternal=function(U,q,ne){var fe=yi();fe&&(U.refUri=U.refUri===void 0?fe.referrer:U.refUri);var se=Ei.create(U,ui.dataType,ui.envelopeType,u.diagLog(),q,ne);u.core.track(se),s=0},u.sendPageViewPerformanceInternal=function(U,q,ne){var fe=Ei.create(U,Ui.dataType,Ui.envelopeType,u.diagLog(),q,ne);u.core.track(fe)},u.trackPageViewPerformance=function(U,q){try{u._pageViewPerformanceManager.populatePageViewPerformanceEvent(U),u.sendPageViewPerformanceInternal(U,q)}catch(ne){u.diagLog().throwInternal(Rt.CRITICAL,xt.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Un(ne),{exception:wn(ne)})}},u.startTrackPage=function(U){try{if(typeof U!="string"){var q=yi();U=q&&q.title||""}i.start(U)}catch(ne){u.diagLog().throwInternal(Rt.CRITICAL,xt.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Un(ne),{exception:wn(ne)})}},u.stopTrackPage=function(U,q,ne,fe){try{if(typeof U!="string"){var se=yi();U=se&&se.title||""}if(typeof q!="string"){var be=ba();q=be&&be.href||""}i.stop(U,q,ne,fe),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(U,q)}catch(rt){u.diagLog().throwInternal(Rt.CRITICAL,xt.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Un(rt),{exception:wn(rt)})}},u.sendExceptionInternal=function(U,q,ne){var fe=U.exception||U.error||new Error(Qr),se=new Pr(u.diagLog(),fe,U.properties||q,U.measurements,U.severityLevel,U.id).toInterface(),be=Ei.create(se,Pr.dataType,Pr.envelopeType,u.diagLog(),q,ne);u.core.track(be)},u.trackException=function(U,q){try{u.sendExceptionInternal(U,q)}catch(ne){u.diagLog().throwInternal(Rt.CRITICAL,xt.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Un(ne),{exception:wn(ne)})}},u._onerror=function(U){var q=U&&U.error,ne=U&&U.evt;try{if(!ne){var fe=Bo();fe&&(ne=fe[Al])}var se=U&&U.url||(yi()||{}).URL,be=U.errorSrc||"window.onerror@"+se+":"+(U.lineNumber||0)+":"+(U.columnNumber||0),rt={errorSrc:be,url:se,lineNumber:U.lineNumber||0,columnNumber:U.columnNumber||0,message:U.message};gh(U.message,U.url,U.lineNumber,U.columnNumber,U.error)?Z(Pr.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",se,U.lineNumber||0,U.columnNumber||0,q,ne,null,be),rt):(U.errorSrc||(U.errorSrc=be),u.trackException({exception:U,severityLevel:Zo.Error},rt))}catch(ke){var Ue=q?q.name+", "+q.message:"null";u.diagLog().throwInternal(Rt.CRITICAL,xt.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Un(ke),{exception:wn(ke),errorString:Ue})}},u.addTelemetryInitializer=function(U){u._telemetryInitializers.push(U)},u.initialize=function(U,q,ne,fe){if(!u.isInitialized()){if(Dt(q))throw Error("Error initializing");f.initialize(U,q,ne,fe),u.setInitialized(!1);var se=u._getTelCtx(),be=u.identifier;u.config=se.getExtCfg(be);var rt=t.getDefaultConfig(U);rt!==void 0&&dr(rt,function(Et,Gt){u.config[Et]=se.getConfig(be,Et,Gt),u.config[Et]===void 0&&(u.config[Et]=Gt)}),u.config.isStorageUseDisabled&&vh();var Ue={instrumentationKey:function(){return U.instrumentationKey},accountId:function(){return u.config.accountId||U.accountId},sessionRenewalMs:function(){return u.config.sessionRenewalMs||U.sessionRenewalMs},sessionExpirationMs:function(){return u.config.sessionExpirationMs||U.sessionExpirationMs},sampleRate:function(){return u.config.samplingPercentage||U.samplingPercentage},sdkExtension:function(){return u.config.sdkExtension||U.sdkExtension},isBrowserLinkTrackingEnabled:function(){return u.config.isBrowserLinkTrackingEnabled||U.isBrowserLinkTrackingEnabled},appId:function(){return u.config.appId||U.appId}};u._pageViewPerformanceManager=new rg(u.core),u._pageViewManager=new eg(n,u.config.overridePageViewDuration,u.core,u._pageViewPerformanceManager),u._pageVisitTimeManager=new tg(u.diagLog(),function(Et,Gt,Xt){return v(Et,Gt,Xt)}),u._telemetryInitializers=u._telemetryInitializers||[],S(Ue),r=new Lc(u.diagLog(),"trackEvent"),r.action=function(Et,Gt,Xt,vn){vn||(vn={}),vn[Oc]=Xt.toString(),u.trackEvent({name:Et,properties:vn})},i=new Lc(u.diagLog(),"trackPageView"),i.action=function(Et,Gt,Xt,vn,Ln){Dt(vn)&&(vn={}),vn[Oc]=Xt.toString();var Qn={name:Et,uri:Gt,properties:vn,measurements:Ln};u.sendPageViewInternal(Qn,vn)};var ke=Bo(),wt=_v(),Fe=ba(!0),Ct=n;if(u.config.disableExceptionTracking===!1&&!u.config.autoExceptionInstrumented&&ke){var on="onerror",Mn=ke[on];ke.onerror=function(Et,Gt,Xt,vn,Ln){var Qn=ke[Al],pa=Mn&&Mn(Et,Gt,Xt,vn,Ln);return pa!==!0&&Ct._onerror(Pr.CreateAutoException(Et,Gt,Xt,vn,Ln,Qn)),pa},u.config.autoExceptionInstrumented=!0}if(u.config.disableExceptionTracking===!1&&u.config.enableUnhandledPromiseRejectionTracking===!0&&!u.config.autoUnhandledPromiseInstrumented&&ke){var Se="onunhandledrejection",ft=ke[Se];ke[Se]=function(Et){var Gt=ke[Al],Xt=ft&&ft.call(ke,Et);return Xt!==!0&&Ct._onerror(Pr.CreateAutoException(Et.reason.toString(),Fe?Fe.href:"",0,0,Et,Gt)),Xt},u.config.autoUnhandledPromiseInstrumented=!0}if(u.config.enableAutoRouteTracking===!0&&wt&&Pn(wt.pushState)&&Pn(wt.replaceState)&&ke&&typeof Event!="undefined"){var bt=n;En(ne,function(Et){Et.identifier===go&&(a=Et)}),wt.pushState=function(Et){return function(){var Gt=Et.apply(this,arguments);return Xo(ke,so(bt.config.namePrefix+"pushState")),Xo(ke,so(bt.config.namePrefix+"locationchange")),Gt}}(wt.pushState),wt.replaceState=function(Et){return function(){var Gt=Et.apply(this,arguments);return Xo(ke,so(bt.config.namePrefix+"replaceState")),Xo(ke,so(bt.config.namePrefix+"locationchange")),Gt}}(wt.replaceState),ke.addEventListener&&(ke.addEventListener(bt.config.namePrefix+"popstate",function(){Xo(ke,so(bt.config.namePrefix+"locationchange"))}),ke.addEventListener(bt.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=_i();var Et="_unknown_";Fe&&Fe.pathname&&(Et=Fe.pathname+(Fe.hash||"")),a.context.telemetryTrace.name=Et}c&&(l=c),c=Fe&&Fe.href||"",setTimeout(function(Gt){bt.trackPageView({refUri:Gt,properties:{duration:0}})}.bind(n,l),bt.autoRoutePVDelay)}))}u.setInitialized(!0)}};function v(U,q,ne){var fe={PageName:U,PageUrl:q};u.trackMetric({name:"PageVisitTime",average:ne,max:ne,min:ne,sampleCount:1},fe)}o(v,"g");function S(U){if(!U.isBrowserLinkTrackingEnabled()){var q=["/browserLinkSignalR/","/__browserLink/"],ne=o(function(fe){if(fe.baseType===bi.dataType){var se=fe.baseData;if(se){for(var be=0;be<q.length;be++)if(se.target&&se.target.indexOf(q[be])>=0)return!1}}return!0},"y");H(ne)}}o(S,"C");function H(U){u._telemetryInitializers.push(U)}o(H,"E");function Z(U,q){var ne=Ei.create(U,Pr.dataType,Pr.envelopeType,u.diagLog(),q);u.core.track(ne)}o(Z,"b")}),n}return o(t,"e"),t.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=30*60*1e3,n.sessionExpirationMs=24*60*60*1e3,n.disableExceptionTracking=Wn(n.disableExceptionTracking),n.autoTrackPageVisitTime=Wn(n.autoTrackPageVisitTime),n.overridePageViewDuration=Wn(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=Wn(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=Wn(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=Wn(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=Wn(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=Wn(n.enableDebug),n.disableFlushOnBeforeUnload=Wn(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=Wn(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},t.Version="2.6.4",t}(Ca),Lc=function(){function e(t,n){var r=this,i={};r.start=function(a){typeof i[a]!="undefined"&&t.throwInternal(Rt.WARNING,xt.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},r.stop=function(a,s,l,c){var u=i[a];if(isNaN(u))t.throwInternal(Rt.WARNING,xt.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var f=+new Date,y=kr(u,f);r.action(a,s,y,l,c)}delete i[a],i[a]=void 0}}return o(e,"t"),e}()}),ig=lt(()=>{Tm()}),ag,og,Im=lt(()=>{hr(),In(),mr(),ag=function(){function e(t){var n=[];lr(e,this,function(r){r.enqueue=function(i){n.push(i)},r.count=function(){return n.length},r.clear=function(){n.length=0},r.getItems=function(){return n.slice(0)},r.batchPayloads=function(i){if(i&&i.length>0){var a=t.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},r.markAsSent=function(i){r.clear()},r.clearSent=function(i){}})}return o(e,"t"),e}(),og=function(){function e(t,n){var r=!1,i;lr(e,this,function(a){var s=u(e.BUFFER_KEY),l=u(e.SENT_BUFFER_KEY);i=s.concat(l),i.length>e.MAX_BUFFER_SIZE&&(i.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,[]),f(e.BUFFER_KEY,i),a.enqueue=function(y){if(i.length>=e.MAX_BUFFER_SIZE){r||(t.throwInternal(Rt.WARNING,xt.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),r=!0);return}i.push(y),f(e.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],f(e.BUFFER_KEY,[]),f(e.SENT_BUFFER_KEY,[]),r=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(y){if(y&&y.length>0){var v=n.emitLineDelimitedJson()?y.join(`
`):"["+y.join(",")+"]";return v}return null},a.markAsSent=function(y){i=c(y,i),f(e.BUFFER_KEY,i);var v=u(e.SENT_BUFFER_KEY);v instanceof Array&&y instanceof Array&&(v=v.concat(y),v.length>e.MAX_BUFFER_SIZE&&(t.throwInternal(Rt.CRITICAL,xt.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+v.length,!0),v.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,v))},a.clearSent=function(y){var v=u(e.SENT_BUFFER_KEY);v=c(y,v),f(e.SENT_BUFFER_KEY,v)};function c(y,v){var S=[];return En(v,function(H){!Pn(H)&&Lo(y,H)===-1&&S.push(H)}),S}o(c,"s");function u(y){var v=y;try{v=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+v:v;var S=ml(t,v);if(S){var H=ii().parse(S);if(bn(H)&&(H=ii().parse(H)),H&&Pi(H))return H}}catch(Z){t.throwInternal(Rt.CRITICAL,xt.FailedToRestoreStorageBuffer," storage key: "+v+", "+Un(Z),{exception:wn(Z)})}return[]}o(u,"c");function f(y,v){var S=y;try{S=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+S:S;var H=JSON.stringify(v);yl(t,S,H)}catch(Z){yl(t,S,JSON.stringify([])),t.throwInternal(Rt.WARNING,xt.FailedToSetStorageBuffer," storage key: "+S+", "+Un(Z)+". Buffer cleared",{exception:wn(Z)})}}o(f,"l")})}return o(e,"t"),e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()});function fr(e,t,n){return On(e,t,n,Su)}o(fr,"xe");var Rl,Yn,gr,Nc,ar,sg,Bc,lg,ug,cg,fg,dg,Am=lt(()=>{Kn(),hr(),In(),Rl="baseType",Yn="baseData",gr="properties",Nc="true",ar=function(){function e(){}return o(e,"t"),e.extractPropsAndMeasurements=function(t,n,r){Dt(t)||dr(t,function(i,a){bu(a)?r[i]=a:bn(a)?n[i]=a:Ja()&&(n[i]=ii().stringify(a))})},e.createEnvelope=function(t,n,r,i){var a=new Sc(t,i,n);fr(a,"sampleRate",r[gl]),(r[Yn]||{}).startTime&&(a.time=Ji(r[Yn].startTime)),a.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",s),e.extractPartAExtensions(r,a),r.tags=r.tags||[],pd(a)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},a=t.tags=t.tags||[],s=i.user;s&&(fr(r,qn.userAuthUserId,s.authId),fr(r,qn.userId,s.id||s.localId));var l=i.app;l&&fr(r,qn.sessionId,l.sesId);var c=i.device;c&&(fr(r,qn.deviceId,c.id||c.localId),fr(r,qn.deviceType,c.deviceClass),fr(r,qn.deviceIp,c.ip),fr(r,qn.deviceModel,c.model),fr(r,qn.deviceType,c.deviceType));var u=t.ext.web;if(u){fr(r,qn.deviceLanguage,u.browserLang),fr(r,qn.deviceBrowserVersion,u.browserVer),fr(r,qn.deviceBrowser,u.browser);var f=n.data=n.data||{},y=f[Yn]=f[Yn]||{},v=y[gr]=y[gr]||{};fr(v,"domain",u.domain),fr(v,"isManual",u.isManual?Nc:null),fr(v,"screenRes",u.screenRes),fr(v,"userConsent",u.userConsent?Nc:null)}var S=i.os;S&&fr(r,qn.deviceOS,S.name);var H=i.trace;H&&(fr(r,qn.operationParentId,H.parentID),fr(r,qn.operationName,H.name),fr(r,qn.operationId,H.traceID));for(var Z={},U=a.length-1;U>=0;U--){var q=a[U];dr(q,function(fe,se){Z[fe]=se}),a.splice(U,1)}dr(a,function(fe,se){Z[fe]=se});var ne=Ga({},r,Z);ne[qn.internalSdkVersion]||(ne[qn.internalSdkVersion]="javascript:"+e.Version),n.tags=pd(ne)},e.prototype.Init=function(t,n){this._logger=t,Dt(n[Yn])&&this._logger.throwInternal(Rt.CRITICAL,xt.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),sg=function(e){Hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn].measurements||{},a=r[Yn][gr]||{};ar.extractPropsAndMeasurements(r.data,a,i);var s=r[Yn];if(Dt(s))return n.warnToConsole("Invalid input for dependency data"),null;var l=s[gr]&&s[gr][pl]?s[gr][pl]:"GET",c=new bi(n,s.id,s.target,s.name,s.duration,s.success,s.responseCode,l,s.type,s.correlationContext,a,i),u=new $i(bi.dataType,c);return ar.createEnvelope(n,bi.envelopeType,r,u)},t.DependencyEnvelopeCreator=new t,t}(ar),Bc=function(e){Hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i={},a={};r[Rl]!==li.dataType&&(i.baseTypeSource=r[Rl]),r[Rl]===li.dataType?(i=r[Yn][gr]||{},a=r[Yn].measurements||{}):r[Yn]&&ar.extractPropsAndMeasurements(r[Yn],i,a),ar.extractPropsAndMeasurements(r.data,i,a);var s=r[Yn].name,l=new li(n,s,i,a),c=new $i(li.dataType,l);return ar.createEnvelope(n,li.envelopeType,r,c)},t.EventEnvelopeCreator=new t,t}(ar),lg=function(e){Hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn].measurements||{},a=r[Yn][gr]||{};ar.extractPropsAndMeasurements(r.data,a,i);var s=r[Yn],l=Pr.CreateFromInterface(n,s,a,i),c=new $i(Pr.dataType,l);return ar.createEnvelope(n,Pr.envelopeType,r,c)},t.ExceptionEnvelopeCreator=new t,t}(ar),ug=function(e){Hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn],a=i[gr]||{},s=i.measurements||{};ar.extractPropsAndMeasurements(r.data,a,s);var l=new xi(n,i.name,i.average,i.sampleCount,i.min,i.max,a,s),c=new $i(xi.dataType,l);return ar.createEnvelope(n,xi.envelopeType,r,c)},t.MetricEnvelopeCreator=new t,t}(ar),cg=function(e){Hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i="duration",a,s=r[Yn];!Dt(s)&&!Dt(s[gr])&&!Dt(s[gr][i])?(a=s[gr][i],delete s[gr][i]):!Dt(r.data)&&!Dt(r.data[i])&&(a=r.data[i],delete r.data[i]);var l=r[Yn],c;((r.ext||{}).trace||{}).traceID&&(c=r.ext.trace.traceID);var u=l.id||c,f=l.name,y=l.uri,v=l[gr]||{},S=l.measurements||{};if(Dt(l.refUri)||(v.refUri=l.refUri),Dt(l.pageType)||(v.pageType=l.pageType),Dt(l.isLoggedIn)||(v.isLoggedIn=l.isLoggedIn.toString()),!Dt(l[gr])){var H=l[gr];dr(H,function(q,ne){v[q]=ne})}ar.extractPropsAndMeasurements(r.data,v,S);var Z=new ui(n,f,y,a,v,S,u),U=new $i(ui.dataType,Z);return ar.createEnvelope(n,ui.envelopeType,r,U)},t.PageViewEnvelopeCreator=new t,t}(ar),fg=function(e){Hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn],a=i.name,s=i.uri||i.url,l=i[gr]||{},c=i.measurements||{};ar.extractPropsAndMeasurements(r.data,l,c);var u=new Ui(n,a,s,void 0,l,c,i),f=new $i(Ui.dataType,u);return ar.createEnvelope(n,Ui.envelopeType,r,f)},t.PageViewPerformanceEnvelopeCreator=new t,t}(ar),dg=function(e){Hn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn].message,a=r[Yn].severityLevel,s=r[Yn][gr]||{},l=r[Yn].measurements||{};ar.extractPropsAndMeasurements(r.data,s,l);var c=new Bi(n,i,a,s,l),u=new $i(Bi.dataType,c);return ar.createEnvelope(n,Bi.envelopeType,r,u)},t.TraceEnvelopeCreator=new t,t}(ar)}),hg,Rm=lt(()=>{In(),mr(),hg=function(){function e(t){lr(e,this,function(n){n.serialize=function(s){var l=r(s,"root");try{return ii().stringify(l)}catch(c){t.throwInternal(Rt.CRITICAL,xt.CannotSerializeObject,c&&Pn(c.toString)?c.toString():"Error serializing object",null,!0)}};function r(s,l){var c="__aiCircularRefCheck",u={};if(!s)return t.throwInternal(Rt.CRITICAL,xt.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:l},!0),u;if(s[c])return t.throwInternal(Rt.WARNING,xt.CircularReferenceDetected,"Circular reference detected while serializing object",{name:l},!0),u;if(!s.aiDataContract){if(l==="measurements")u=a(s,"number",l);else if(l==="properties")u=a(s,"string",l);else if(l==="tags")u=a(s,"string",l);else if(Pi(s))u=i(s,l);else{t.throwInternal(Rt.WARNING,xt.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{ii().stringify(s),u=s}catch(f){t.throwInternal(Rt.CRITICAL,xt.CannotSerializeObject,f&&Pn(f.toString)?f.toString():"Error serializing object",null,!0)}}return u}return s[c]=!0,dr(s.aiDataContract,function(f,y){var v=Pn(y)?y()&1:y&1,S=Pn(y)?y()&4:y&4,H=y&2,Z=s[f]!==void 0,U=_a(s[f])&&s[f]!==null;if(v&&!Z&&!H)t.throwInternal(Rt.CRITICAL,xt.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:f,name:l});else if(!S){var q=void 0;U?H?q=i(s[f],f):q=r(s[f],f):q=s[f],q!==void 0&&(u[f]=q)}}),delete s[c],u}o(r,"n");function i(s,l){var c;if(s)if(!Pi(s))t.throwInternal(Rt.CRITICAL,xt.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:l},!0);else{c=[];for(var u=0;u<s.length;u++){var f=s[u],y=r(f,l+"["+u+"]");c.push(y)}}return c}o(i,"i");function a(s,l,c){var u;return s&&(u={},dr(s,function(f,y){if(l==="string")y===void 0?u[f]="undefined":y===null?u[f]="null":y.toString?u[f]=y.toString():u[f]="invalid field: toString() is not defined.";else if(l==="number")if(y===void 0)u[f]="undefined";else if(y===null)u[f]="null";else{var v=parseFloat(y);isNaN(v)?u[f]="NaN":u[f]=v}else u[f]="invalid field: "+c+" is of unknown type.",t.throwInternal(Rt.CRITICAL,u[f],null,!0)})),u}o(a,"a")})}return o(e,"t"),e}()}),gg,Uc,Dm=lt(()=>{In(),mr(),gg=function(){function e(){var t=Bo(),n=yi(),r=!1,i=!0;lr(e,this,function(a){try{if(t&&Ko.Attach(t,"online",c)&&(Ko.Attach(t,"offline",u),r=!0),n){var s=n.body||n;Dr(s.ononline)||(s.ononline=c,s.onoffline=u,r=!0)}if(r){var l=wi();l&&!Dt(l.onLine)&&(i=l.onLine)}}catch(f){r=!1}a.isListening=r,a.isOnline=function(){var f=!0,y=wi();return r?f=i:y&&!Dt(y.onLine)&&(f=y.onLine),f},a.isOffline=function(){return!a.isOnline()};function c(){i=!0}o(c,"s");function u(){i=!1}o(u,"c")})}return o(e,"t"),e.Offline=new e,e}(),Uc=gg.Offline}),pg,Fm=lt(()=>{pg=function(){function e(){}return o(e,"t"),e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()}),vg,km=lt(()=>{Fm(),hr(),vg=function(){function e(){this.hashCodeGeneragor=new pg,this.keys=new Tl}return o(e,"t"),e.prototype.getSamplingScore=function(t){var n=0;return t.tags&&t.tags[this.keys.userId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.userId]):t.ext&&t.ext.user&&t.ext.user.id?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[this.keys.operationId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.telemetryTrace.traceID):n=Math.random()*100,n},e}()}),mg,Pm=lt(()=>{km(),hr(),In(),mg=function(){function e(t,n){this.INT_MAX_VALUE=2147483647,this._logger=n||tl(null),(t>100||t<0)&&(this._logger.throwInternal(Rt.WARNING,xt.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this.sampleRate=t,this.samplingScoreGenerator=new vg}return o(e,"t"),e.prototype.isSampledIn=function(t){var n=this.sampleRate,r=!1;return n==null||n>=100||t.baseType===xi.dataType?!0:(r=this.samplingScoreGenerator.getSamplingScore(t)<n,r)},e}()});function Dl(e){try{return e.responseText}catch(t){}return null}o(Dl,"Ti");var $c,Om=lt(()=>{Kn(),Im(),Am(),Rm(),hr(),In(),Dm(),Pm(),mr(),$c=function(e){Hn(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=Il,n._XMLHttpRequestSupported=!1;var r,i,a,s,l,c,u={};return lr(t,n,function(f,y){function v(){mi("Method not implemented.")}o(v,"g"),f.pause=v,f.resume=v,f.flush=function(){try{f.triggerSend(!0,null,1)}catch(Se){f.diagLog().throwInternal(Rt.CRITICAL,xt.FlushFailed,"flush failed, telemetry will not be collected: "+Un(Se),{exception:wn(Se)})}},f.onunloadFlush=function(){if((f._senderConfig.onunloadDisableBeacon()===!1||f._senderConfig.isBeaconApiDisabled()===!1)&&hc())try{f.triggerSend(!0,U,2)}catch(Se){f.diagLog().throwInternal(Rt.CRITICAL,xt.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Un(Se),{exception:wn(Se)})}else f.flush()},f.teardown=v,f.addHeader=function(Se,ft){u[Se]=ft},f.initialize=function(Se,ft,bt,Et){y.initialize(Se,ft,bt,Et);var Gt=f._getTelCtx(),Xt=f.identifier;l=new hg(ft.logger),r=0,i=null,a=0,f._sender=null,c=0;var vn=t._getDefaultAppInsightsChannelConfig();if(f._senderConfig=t._getEmptyAppInsightsChannelConfig(),dr(vn,function(Ze,At){f._senderConfig[Ze]=function(){return Gt.getConfig(Xt,Ze,At())}}),f._buffer=f._senderConfig.enableSessionStorageBuffer()&&uo()?new og(f.diagLog(),f._senderConfig):new ag(f._senderConfig),f._sample=new mg(f._senderConfig.samplingPercentage(),f.diagLog()),Mn(Se)||f.diagLog().throwInternal(Rt.CRITICAL,xt.InvalidInstrumentationKey,"Invalid Instrumentation key "+Se.instrumentationKey),!wl(f._senderConfig.endpointUrl())&&f._senderConfig.customHeaders()&&f._senderConfig.customHeaders().length>0&&En(f._senderConfig.customHeaders(),function(Ze){n.addHeader(Ze.header,Ze.value)}),!f._senderConfig.isBeaconApiDisabled()&&hc())f._sender=U;else{var Ln=Tr("XMLHttpRequest");if(Ln){var Qn=new Ln;"withCredentials"in Qn?(f._sender=q,f._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Di&&(f._sender=wt)}else{var pa=Tr("fetch");pa&&(f._sender=ne)}}},f.processTelemetry=function(Se,ft){ft=f._getTelCtx(ft);try{if(f._senderConfig.disableTelemetry())return;if(!Se){ft.diagLog().throwInternal(Rt.CRITICAL,xt.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(Se.baseData&&!Se.baseType){ft.diagLog().throwInternal(Rt.CRITICAL,xt.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(Se.baseType||(Se.baseType="EventData"),!f._sender){ft.diagLog().throwInternal(Rt.CRITICAL,xt.SenderNotInitialized,"Sender was not initialized");return}if(S(Se))Se[gl]=f._sample.sampleRate;else{ft.diagLog().throwInternal(Rt.WARNING,xt.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:f._sample.sampleRate});return}var bt=t.constructEnvelope(Se,f._senderConfig.instrumentationKey(),ft.diagLog());if(!bt){ft.diagLog().throwInternal(Rt.CRITICAL,xt.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var Et=!1;if(Se.tags&&Se.tags[lo]&&(En(Se.tags[lo],function(Ln){try{Ln&&Ln(bt)===!1&&(Et=!0,ft.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(Qn){ft.diagLog().throwInternal(Rt.CRITICAL,xt.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Un(Qn),{exception:wn(Qn)},!0)}}),delete Se.tags[lo]),Et)return;var Gt=l.serialize(bt),Xt=f._buffer.getItems(),vn=f._buffer.batchPayloads(Xt);vn&&vn.length+Gt.length>f._senderConfig.maxBatchSizeInBytes()&&f.triggerSend(!0,null,10),f._buffer.enqueue(Gt),rt()}catch(Ln){ft.diagLog().throwInternal(Rt.WARNING,xt.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Un(Ln),{exception:wn(Ln)})}f.processNext(Se,ft)},f._xhrReadyStateChange=function(Se,ft,bt){Se.readyState===4&&H(Se.status,ft,Se.responseURL,bt,ke(Se),Dl(Se)||Se.response)},f.triggerSend=function(Se,ft,bt){Se===void 0&&(Se=!0);try{if(f._senderConfig.disableTelemetry())f._buffer.clear();else{if(f._buffer.count()>0){var Et=f._buffer.getItems();on(bt||0,Se),ft?ft.call(n,Et,Se):f._sender(Et,Se)}a=+new Date}clearTimeout(s),s=null,i=null}catch(Xt){var Gt=Fu();(!Gt||Gt>9)&&f.diagLog().throwInternal(Rt.CRITICAL,xt.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Un(Xt),{exception:wn(Xt)})}},f._onError=function(Se,ft,bt){f.diagLog().throwInternal(Rt.WARNING,xt.OnError,"Failed to send telemetry.",{message:ft}),f._buffer.clearSent(Se)},f._onPartialSuccess=function(Se,ft){for(var bt=[],Et=[],Gt=ft.errors.reverse(),Xt=0,vn=Gt;Xt<vn.length;Xt++){var Ln=vn[Xt],Qn=Se.splice(Ln.index,1)[0];Ue(Ln.statusCode)?Et.push(Qn):bt.push(Qn)}Se.length>0&&f._onSuccess(Se,ft.itemsAccepted),bt.length>0&&f._onError(bt,ke(null,["partial success",ft.itemsAccepted,"of",ft.itemsReceived].join(" "))),Et.length>0&&(se(Et),f.diagLog().throwInternal(Rt.WARNING,xt.TransmissionFailed,"Partial success. Delivered: "+Se.length+", Failed: "+bt.length+". Will retry to send "+Et.length+" our of "+ft.itemsReceived+" items"))},f._onSuccess=function(Se,ft){f._buffer.clearSent(Se)},f._xdrOnLoad=function(Se,ft){var bt=Dl(Se);if(Se&&(bt+""=="200"||bt===""))r=0,f._onSuccess(ft,0);else{var Et=fe(bt);Et&&Et.itemsReceived&&Et.itemsReceived>Et.itemsAccepted&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(ft,Et):f._onError(ft,Fe(Se))}};function S(Se){return f._sample.isSampledIn(Se)}o(S,"C");function H(Se,ft,bt,Et,Gt,Xt){var vn=null;if(f._appId||(vn=fe(Xt),vn&&vn.appId&&(f._appId=vn.appId)),(Se<200||Se>=300)&&Se!==0){if((Se===301||Se===307||Se===308)&&!Z(bt)){f._onError(ft,Gt);return}!f._senderConfig.isRetryDisabled()&&Ue(Se)?(se(ft),f.diagLog().throwInternal(Rt.WARNING,xt.TransmissionFailed,". Response code "+Se+". Will retry to send "+ft.length+" items.")):f._onError(ft,Gt)}else if(Uc.isOffline()){if(!f._senderConfig.isRetryDisabled()){var Ln=10;se(ft,Ln),f.diagLog().throwInternal(Rt.WARNING,xt.TransmissionFailed,". Offline - Response Code: "+Se+". Offline status: "+Uc.isOffline()+". Will retry to send "+ft.length+" items.")}}else Z(bt),Se===206?(vn||(vn=fe(Xt)),vn&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(ft,vn):f._onError(ft,Gt)):(r=0,f._onSuccess(ft,Et))}o(H,"E");function Z(Se){return c>=10?!1:!Dt(Se)&&Se!==""&&Se!==f._senderConfig.endpointUrl()?(f._senderConfig.endpointUrl=function(){return Se},++c,!0):!1}o(Z,"b");function U(Se,ft){var bt=f._senderConfig.endpointUrl(),Et=f._buffer.batchPayloads(Se),Gt=new Blob([Et],{type:"text/plain;charset=UTF-8"}),Xt=wi().sendBeacon(bt,Gt);Xt?(f._buffer.markAsSent(Se),f._onSuccess(Se,Se.length)):(q(Se,!0),f.diagLog().throwInternal(Rt.WARNING,xt.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}o(U,"p");function q(Se,ft){var bt=new XMLHttpRequest,Et=f._senderConfig.endpointUrl();try{bt[Aa]=!0}catch(Xt){}bt.open("POST",Et,ft),bt.setRequestHeader("Content-type","application/json"),wl(Et)&&bt.setRequestHeader(Zn.sdkContextHeader,Zn.sdkContextHeaderAppIdRequest),En(xa(u),function(Xt){bt.setRequestHeader(Xt,u[Xt])}),bt.onreadystatechange=function(){return f._xhrReadyStateChange(bt,Se,Se.length)},bt.onerror=function(Xt){return f._onError(Se,ke(bt),Xt)};var Gt=f._buffer.batchPayloads(Se);bt.send(Gt),f._buffer.markAsSent(Se)}o(q,"m");function ne(Se,ft){var bt=f._senderConfig.endpointUrl(),Et=f._buffer.batchPayloads(Se),Gt=new Blob([Et],{type:"text/plain;charset=UTF-8"}),Xt=new Headers;wl(bt)&&Xt.append(Zn.sdkContextHeader,Zn.sdkContextHeaderAppIdRequest),En(xa(u),function(Qn){Xt.append(Qn,u[Qn])});var vn={method:"POST",headers:Xt,body:Gt},Ln=new Request(bt,vn);fetch(Ln).then(function(Qn){if(Qn.ok)Qn.text().then(function(pa){H(Qn.status,Se,Qn.url,Se.length,Qn.statusText,pa)}),f._buffer.markAsSent(Se);else throw Error(Qn.statusText)}).catch(function(Qn){f._onError(Se,Qn.message)})}o(ne,"y");function fe(Se){try{if(Se&&Se!==""){var ft=ii().parse(Se);if(ft&&ft.itemsReceived&&ft.itemsReceived>=ft.itemsAccepted&&ft.itemsReceived-ft.itemsAccepted===ft.errors.length)return ft}}catch(bt){f.diagLog().throwInternal(Rt.CRITICAL,xt.InvalidBackendResponse,"Cannot parse the response. "+Un(bt),{response:Se})}return null}o(fe,"w");function se(Se,ft){if(ft===void 0&&(ft=1),!(!Se||Se.length===0)){f._buffer.clearSent(Se),r++;for(var bt=0,Et=Se;bt<Et.length;bt++){var Gt=Et[bt];f._buffer.enqueue(Gt)}be(ft),rt()}}o(se,"L");function be(Se){var ft=10,bt;if(r<=1)bt=ft;else{var Et=(Math.pow(2,r)-1)/2,Gt=Math.floor(Math.random()*Et*ft)+1;Gt=Se*Gt,bt=Math.max(Math.min(Gt,3600),ft)}var Xt=Gr()+bt*1e3;i=Xt}o(be,"k");function rt(){if(!s){var Se=i?Math.max(0,i-Gr()):0,ft=Math.max(f._senderConfig.maxBatchInterval(),Se);s=setTimeout(function(){f.triggerSend(!0,null,1)},ft)}}o(rt,"Q");function Ue(Se){return Se===408||Se===429||Se===500||Se===503}o(Ue,"ye");function ke(Se,ft){return Se?"XMLHttpRequest,Status:"+Se.status+",Response:"+Dl(Se)||0||0:ft}o(ke,"J");function wt(Se,ft){var bt=Bo(),Et=new XDomainRequest;Et.onload=function(){return f._xdrOnLoad(Et,Se)},Et.onerror=function(Ln){return f._onError(Se,Fe(Et),Ln)};var Gt=bt&&bt.location&&bt.location.protocol||"";if(f._senderConfig.endpointUrl().lastIndexOf(Gt,0)!==0){f.diagLog().throwInternal(Rt.WARNING,xt.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),f._buffer.clear();return}var Xt=f._senderConfig.endpointUrl().replace(/^(https?:)/,"");Et.open("POST",Xt);var vn=f._buffer.batchPayloads(Se);Et.send(vn),f._buffer.markAsSent(Se)}o(wt,"de");function Fe(Se,ft){return Se?"XDomainRequest,Response:"+Dl(Se)||0:ft}o(Fe,"be");function Ct(){var Se="getNotifyMgr";return f.core[Se]?f.core[Se]():f.core._notificationManager}o(Ct,"pt");function on(Se,ft){var bt=Ct();if(bt&&bt.eventsSendRequest)try{bt.eventsSendRequest(Se,ft)}catch(Et){f.diagLog().throwInternal(Rt.CRITICAL,xt.NotificationException,"send request notification failed: "+Un(Et),{exception:wn(Et)})}}o(on,"it");function Mn(Se){var ft=Dt(Se.disableInstrumentationKeyValidation)?!1:Se.disableInstrumentationKeyValidation;if(ft)return!0;var bt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Et=new RegExp(bt);return Et.test(Se.instrumentationKey)}o(Mn,"dt")}),n}return o(t,"e"),t.constructEnvelope=function(n,r,i){var a;switch(r!==n.iKey&&!Dt(r)?a=Ga({},n,{iKey:r}):a=n,a.baseType){case li.dataType:return Bc.EventEnvelopeCreator.Create(i,a);case Bi.dataType:return dg.TraceEnvelopeCreator.Create(i,a);case ui.dataType:return cg.PageViewEnvelopeCreator.Create(i,a);case Ui.dataType:return fg.PageViewPerformanceEnvelopeCreator.Create(i,a);case Pr.dataType:return lg.ExceptionEnvelopeCreator.Create(i,a);case xi.dataType:return ug.MetricEnvelopeCreator.Create(i,a);case bi.dataType:return sg.DependencyEnvelopeCreator.Create(i,a);default:return Bc.EventEnvelopeCreator.Create(i,a)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(Ca)}),yg=lt(()=>{Om()}),wg,Hc,_g,Mm=lt(()=>{mr(),hr(),In(),wg="ai_session",Hc=function(){function e(){}return o(e,"t"),e}(),_g=function(){function e(t,n){var r=this,i,a,s=tl(n),l=ju(n);lr(e,r,function(c){t||(t={}),Pn(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Pn(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),c.config=t;var u=c.config.sessionCookiePostfix&&c.config.sessionCookiePostfix()?c.config.sessionCookiePostfix():c.config.namePrefix&&c.config.namePrefix()?c.config.namePrefix():"";i=o(function(){return wg+u},"i"),c.automaticSession=new Hc,c.update=function(){var Z=Gr(),U=!1,q=c.automaticSession;q.id||(U=!f(q,Z));var ne=c.config.sessionExpirationMs();if(!U&&ne>0){var fe=c.config.sessionRenewalMs(),se=Z-q.acquisitionDate,be=Z-q.renewalDate;U=se<0||be<0,U=U||se>ne,U=U||be>fe}U?v(Z):(!a||Z-a>e.cookieUpdateInterval)&&S(q,Z)},c.backup=function(){var Z=c.automaticSession;H(Z.id,Z.acquisitionDate,Z.renewalDate)};function f(Z,U){var q=!1,ne=l.get(i());if(ne&&Pn(ne.split))q=y(Z,ne);else{var fe=mh(s,i());fe&&(q=y(Z,fe))}return q||!!Z.id}o(f,"l");function y(Z,U){var q=!1,ne=", session will be reset",fe=U.split("|");if(fe.length>=2)try{var se=+fe[1]||0,be=+fe[2]||0;isNaN(se)||se<=0?s.throwInternal(Rt.WARNING,xt.SessionRenewalDateIsZero,"AI session acquisition date is 0"+ne):isNaN(be)||be<=0?s.throwInternal(Rt.WARNING,xt.SessionRenewalDateIsZero,"AI session renewal date is 0"+ne):fe[0]&&(Z.id=fe[0],Z.acquisitionDate=se,Z.renewalDate=be,q=!0)}catch(rt){s.throwInternal(Rt.CRITICAL,xt.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(U||"")+"]"+ne+" - "+Un(rt),{exception:wn(rt)})}return q}o(y,"f");function v(Z){var U=c.config||{},q=(U.getNewId?U.getNewId():null)||fl;c.automaticSession.id=q(U.idLength?U.idLength():22),c.automaticSession.acquisitionDate=Z,S(c.automaticSession,Z),mc()||s.throwInternal(Rt.WARNING,xt.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}o(v,"g");function S(Z,U){var q=Z.acquisitionDate;Z.renewalDate=U;var ne=c.config,fe=ne.sessionRenewalMs(),se=q+ne.sessionExpirationMs()-U,be=[Z.id,q,U],rt=0;se<fe?rt=se/1e3:rt=fe/1e3;var Ue=ne.cookieDomain?ne.cookieDomain():null;l.set(i(),be.join("|"),ne.sessionExpirationMs()>0?rt:null,Ue),a=U}o(S,"C");function H(Z,U,q){yh(s,i(),[Z,U,q].join("|"))}o(H,"E")})}return o(e,"t"),e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()}),xg,Lm=lt(()=>{xg=function(){function e(){}return o(e,"t"),e}()}),bg,Nm=lt(()=>{bg=function(){function e(){this.id="browser",this.deviceClass="Browser"}return o(e,"t"),e}()}),Eg,Sg,Bm=lt(()=>{Eg="2.6.4",Sg=function(){function e(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:"+Eg}return o(e,"t"),e}()});function Cg(e){return!(typeof e!="string"||!e||e.match(/,|;|=| |\|/))}o(Cg,"Xu");var Tg,Um=lt(()=>{mr(),hr(),In(),Tg=function(){function e(t,n){this.isNewUser=!1;var r=tl(n),i=ju(n),a;lr(e,this,function(s){s.config=t;var l=s.config.userCookiePostfix&&s.config.userCookiePostfix()?s.config.userCookiePostfix():"";a=o(function(){return e.userCookieName+l},"a");var c=i.get(a());if(c){s.isNewUser=!1;var u=c.split(e.cookieSeparator);u.length>0&&(s.id=u[0])}if(!s.id){var f=t||{},y=(f.getNewId?f.getNewId():null)||fl;s.id=y(f.idLength?t.idLength():22);var v=31536e3,S=Ji(new Date);s.accountAcquisitionDate=S,s.isNewUser=!0;var H=[s.id,S];i.set(a(),H.join(e.cookieSeparator),v);var Z=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";wh(r,Z)}s.accountId=t.accountId?t.accountId():void 0;var U=i.get(e.authUserCookieName);if(U){U=decodeURI(U);var q=U.split(e.cookieSeparator);q[0]&&(s.authenticatedId=q[0]),q.length>1&&q[1]&&(s.accountId=q[1])}s.setAuthenticatedUserContext=function(ne,fe,se){se===void 0&&(se=!1);var be=!Cg(ne)||fe&&!Cg(fe);if(be){r.throwInternal(Rt.WARNING,xt.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}s.authenticatedId=ne;var rt=s.authenticatedId;fe&&(s.accountId=fe,rt=[s.authenticatedId,s.accountId].join(e.cookieSeparator)),se&&i.set(e.authUserCookieName,encodeURI(rt))},s.clearAuthenticatedUserContext=function(){s.authenticatedId=null,s.accountId=null,i.del(e.authUserCookieName)}})}return o(e,"t"),e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()}),Ig,$m=lt(()=>{Ig=function(){function e(){}return o(e,"t"),e}()}),Ag,Hm=lt(()=>{hr(),In(),Ag=function(){function e(t,n,r,i){var a=this;a.traceID=t||_i(),a.parentID=n,a.name=r;var s=ba();!r&&s&&s.pathname&&(a.name=s.pathname),a.name=Fr(i,a.name)}return o(e,"t"),e}()});function po(e,t){e&&e[t]&&xa(e[t]).length===0&&delete e[t]}o(po,"Br");var Jo,Yo,Rg,zm=lt(()=>{mr(),In(),Mm(),hr(),Lm(),Nm(),Bm(),Um(),$m(),Hm(),Jo="ext",Yo="tags",Rg=function(){function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},lr(e,this,function(a){a.application=new xg,a.internal=new Sg(n),Zs()&&(a.sessionManager=new _g(n,t),a.device=new bg,a.location=new Ig,a.user=new Tg(n,t),a.telemetryTrace=new Ag(void 0,void 0,void 0,i),a.session=new Hc),a.applySessionContext=function(s,l){var c=a.session,u=a.sessionManager;c&&bn(c.id)?On(Sr(s.ext,Or.AppExt),"sesId",c.id):u&&u.automaticSession&&On(Sr(s.ext,Or.AppExt),"sesId",u.automaticSession.id,bn)},a.applyOperatingSystemContxt=function(s,l){On(s.ext,Or.OSExt,a.os)},a.applyApplicationContext=function(s,l){var c=a.application;if(c){var u=Sr(s,Yo);On(u,qn.applicationVersion,c.ver,bn),On(u,qn.applicationBuild,c.build,bn)}},a.applyDeviceContext=function(s,l){var c=a.device;if(c){var u=Sr(Sr(s,Jo),Or.DeviceExt);On(u,"localId",c.id,bn),On(u,"ip",c.ip,bn),On(u,"model",c.model,bn),On(u,"deviceClass",c.deviceClass,bn)}},a.applyInternalContext=function(s,l){var c=a.internal;if(c){var u=Sr(s,Yo);On(u,qn.internalAgentVersion,c.agentVersion,bn),On(u,qn.internalSdkVersion,c.sdkVersion,bn),(s.baseType===Ya.dataType||s.baseType===ui.dataType)&&(On(u,qn.internalSnippet,c.snippetVer,bn),On(u,qn.internalSdkSrc,c.sdkSrc,bn))}},a.applyLocationContext=function(s,l){var c=r.location;c&&On(Sr(s,Yo,[]),qn.locationIp,c.ip,bn)},a.applyOperationContext=function(s,l){var c=a.telemetryTrace;if(c){var u=Sr(Sr(s,Jo),Or.TraceExt,{traceID:void 0,parentID:void 0});On(u,"traceID",c.traceID,bn),On(u,"name",c.name,bn),On(u,"parentID",c.parentID,bn)}},a.applyWebContext=function(s,l){var c=r.web;c&&On(Sr(s,Jo),Or.WebExt,c)},a.applyUserContext=function(s,l){var c=a.user;if(c){var u=Sr(s,Yo,[]);On(u,qn.userAccountId,c.accountId,bn);var f=Sr(Sr(s,Jo),Or.UserExt);On(f,"id",c.id,bn),On(f,"authId",c.authenticatedId,bn)}},a.cleanUp=function(s,l){var c=s.ext;c&&(po(c,Or.DeviceExt),po(c,Or.UserExt),po(c,Or.WebExt),po(c,Or.OSExt),po(c,Or.AppExt),po(c,Or.TraceExt))}})}return o(e,"t"),e}()}),Dg,zc,Wm=lt(()=>{Kn(),mr(),In(),zm(),hr(),Dg=function(e){Hn(t,e);function t(){var n=e.call(this)||this;n.priority=110,n.identifier=go;var r,i;return lr(t,n,function(a,s){a.initialize=function(c,u,f,y){s.initialize(c,u,f,y);var v=a._getTelCtx(),S=a.identifier,H=t.getDefaultConfig();i=i||{},dr(H,function(Z,U){i[Z]=function(){return v.getConfig(S,Z,U())}}),a.context=new Rg(u,i),r=hh(f,Il),a.context.appId=function(){return r?r._appId:null},a._extConfig=i},a.processTelemetry=function(c,u){if(!Dt(c)){u=a._getTelCtx(u),c.name===ui.envelopeType&&u.diagLog().resetInternalMessageCount();var f=a.context||{};if(f.session&&typeof a.context.session.id!="string"&&f.sessionManager&&f.sessionManager.update(),l(c,u),f.user&&f.user.isNewUser){f.user.isNewUser=!1;var y=new Ya(xt.SendBrowserInfoOnUserInit,(wi()||{}).userAgent||"");u.diagLog().logInternalMessage(Rt.CRITICAL,y)}a.processNext(c,u)}};function l(c,u){Sr(c,"tags",[]),Sr(c,"ext",{});var f=a.context;f.applySessionContext(c,u),f.applyApplicationContext(c,u),f.applyDeviceContext(c,u),f.applyOperationContext(c,u),f.applyUserContext(c,u),f.applyOperatingSystemContxt(c,u),f.applyWebContext(c,u),f.applyLocationContext(c,u),f.applyInternalContext(c,u),f.cleanUp(c,u)}o(l,"u")}),n}return o(t,"e"),t.getDefaultConfig=function(){var n={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return n},t}(Ca),zc=Dg}),Fg=lt(()=>{Wm()});function kg(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=kr(i,a)),r}o(kg,"ic");function ka(e,t,n,r,i){var a=0,s=kg(n,r,i);return s&&(a=oa(e,t,Ni(s))),a}o(ka,"yr");function oa(e,t,n){var r="ajaxPerf",i=0;if(e&&t&&n){var a=e[r]=e[r]||{};a[t]=n,i=1}return i}o(oa,"rr");function jm(e,t){var n=e.perfTiming,r=t[Nr]||{},i=0,a="name",s="Start",l="End",c="domainLookup",u="connect",f="redirect",y="request",v="response",S="duration",H="startTime",Z=c+s,U=c+l,q=u+s,ne=u+l,fe=y+s,se=y+l,be=v+s,rt=v+l,Ue=f+s,ke=f=l,wt="transferSize",Fe="encodedBodySize",Ct="decodedBodySize",on="serverTiming";if(n){i|=ka(r,f,n,Ue,ke),i|=ka(r,c,n,Z,U),i|=ka(r,u,n,q,ne),i|=ka(r,y,n,fe,se),i|=ka(r,v,n,be,rt),i|=ka(r,"networkConnect",n,H,ne),i|=ka(r,"sentRequest",n,fe,rt);var Mn=n[S];Mn||(Mn=kg(n,H,rt)||0),i|=oa(r,S,Mn),i|=oa(r,"perfTotal",Mn);var Se=n[on];if(Se){var ft={};En(Se,function(bt,Et){var Gt=hv(bt[a]||""+Et),Xt=ft[Gt]||{};dr(bt,function(vn,Ln){(vn!==a&&bn(Ln)||bu(Ln))&&(Xt[vn]&&(Ln=Xt[vn]+";"+Ln),(Ln||!bn(Ln))&&(Xt[vn]=Ln))}),ft[Gt]=Xt}),i|=oa(r,on,ft)}i|=oa(r,wt,n[wt]),i|=oa(r,Fe,n[Fe]),i|=oa(r,Ct,n[Ct])}else e.perfMark&&(i|=oa(r,"missing",e.perfAttempts));i&&(t[Nr]=r)}o(jm,"Cl");var Nr,Pg,Wc,Km=lt(()=>{hr(),In(),mr(),Nr="properties",Pg=function(){function e(){var t=this;t.openDone=!1,t.setRequestHeaderDone=!1,t.sendDone=!1,t.abortDone=!1,t.stateChangeAttached=!1}return o(e,"t"),e}(),Wc=function(){function e(t,n,r){var i=this,a=r,s="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Pg,i.clientFailure=0,i.traceID=t,i.spanID=n,lr(e,i,function(l){l.getAbsoluteUrl=function(){return l.requestUrl?bh(l.requestUrl):null},l.getPathName=function(){return l.requestUrl?qo(a,Eh(l.method,l.requestUrl)):null},l.CreateTrackItem=function(c,u,f){if(l.ajaxTotalDuration=Math.round(kr(l.requestSentTime,l.responseFinishedTime)*1e3)/1e3,l.ajaxTotalDuration<0)return null;var y=(Z={id:"|"+l.traceID+"."+l.spanID,target:l.getAbsoluteUrl(),name:l.getPathName(),type:c,startTime:null,duration:l.ajaxTotalDuration,success:+l.status>=200&&+l.status<400,responseCode:+l.status,method:l.method},Z[Nr]={HttpMethod:l.method},Z);if(l.requestSentTime&&(y.startTime=new Date,y.startTime.setTime(l.requestSentTime)),jm(l,y),u&&xa(l.requestHeaders).length>0&&(y[Nr]=y[Nr]||{},y[Nr].requestHeaders=l.requestHeaders),f){var v=f();if(v){var S=v.correlationContext;if(S&&(y.correlationContext=S),v.headerMap&&xa(v.headerMap).length>0&&(y[Nr]=y[Nr]||{},y[Nr].responseHeaders=v.headerMap),l.status>=400){var H=v.type;y[Nr]=y[Nr]||{},(H===""||H==="text")&&(y[Nr][s]=v[s]?v.statusText+" - "+v[s]:v.statusText),H==="json"&&(y[Nr][s]=v.response?v.statusText+" - "+JSON.stringify(v.response):v.statusText)}}}return y;var Z}})}return o(e,"t"),e}()}),qm,Vm=lt(()=>{In(),In(),qm=function(){function e(){}return o(e,"t"),e.GetLength=function(t){var n=0;if(!Dt(t)){var r="";try{r=t.toString()}catch(i){}n=r.length,n=isNaN(n)?0:n}return n},e}()}),jc,Gm=lt(()=>{In(),jc=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=_i(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=_i().substr(0,16)}return o(e,"t"),e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.prototype.toString=function(){var t=this;return t.version+"-"+t.traceId+"-"+t.spanId+"-"+t.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()});function Zm(){var e=Va();return!e||Dt(e.Request)||Dt(e.Request[jr])||Dt(e[yo])?null:e[yo]}o(Zm,"El");function Qm(e){var t=!1;if(typeof XMLHttpRequest!==Di&&!Dt(XMLHttpRequest)){var n=XMLHttpRequest[jr];t=!Dt(n)&&!Dt(n.open)&&!Dt(n.send)&&!Dt(n.abort)}var r=Fu();if(r&&r<9&&(t=!1),t)try{var i=new XMLHttpRequest;i[Br]={};var a=XMLHttpRequest[jr].open;XMLHttpRequest[jr].open=a}catch(s){t=!1,es(e,xt.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:wn(s)})}return t}o(Qm,"wl");function Fl(e){var t="";try{!Dt(e)&&!Dt(e[Br])&&!Dt(e[Br].requestUrl)&&(t+="(url: '"+e[Br].requestUrl+"')")}catch(n){}return t}o(Fl,"bi");function es(e,t,n,r,i){e[mo]()[qc](Rt.CRITICAL,t,n,r,i)}o(es,"Rn");function kl(e,t,n,r,i){e[mo]()[qc](Rt.WARNING,t,n,r,i)}o(kl,"Pi");function ts(e,t,n){return function(r){es(e,t,n,{ajaxDiagnosticsMessage:Fl(r.inst),exception:wn(r.err)})}}o(ts,"Nn");function vo(e,t){return e&&t?e.indexOf(t):-1}o(vo,"zr");var Kc,mo,Br,qc,yo,Vc,Gc,Xm=lt(()=>{Kn(),hr(),In(),Km(),Vm(),Gm(),mr(),Kc="ai.ajxmn.",mo="diagLog",Br="ajaxData",qc="throwInternal",yo="fetch",Vc=0,Gc=function(e){Hn(t,e);function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r="trackDependencyDataInternal",i=ba(),a=!1,s=!1,l=i&&i.host&&i.host.toLowerCase(),c=t.getEmptyConfig(),u=!1,f=0,y,v,S,H,Z=!1,U=0,q=!1,ne=[],fe={},se;return lr(t,n,function(be,rt){be.initialize=function(Ze,At,Ut,zt){if(!be.isInitialized()){rt.initialize(Ze,At,Ut,zt);var Qt=be._getTelCtx(),cn=t.getDefaultConfig();dr(cn,function($r,Io){c[$r]=Qt.getConfig(t.identifier,$r,Io)});var sn=c.distributedTracingMode;if(u=c.enableRequestHeaderTracking,Z=c.enableAjaxPerfTracking,U=c.maxAjaxCallsPerView,q=c.enableResponseHeaderTracking,se=c.excludeRequestFromAutoTrackingPatterns,S=sn===si.AI||sn===si.AI_AND_W3C,v=sn===si.AI_AND_W3C||sn===si.W3C,Z){var Nn=Ze.instrumentationKey||"unkwn";Nn.length>5?H=Kc+Nn.substring(Nn.length-5)+".":H=Kc+Nn+"."}if(c.disableAjaxTracking===!1&&Fe(),ke(),Ut.length>0&&Ut){for(var or=void 0,vr=0;!or&&vr<Ut.length;)Ut[vr]&&Ut[vr].identifier===go&&(or=Ut[vr]),vr++;or&&(y=or.context)}}},be.teardown=function(){En(ne,function(Ze){Ze.rm()}),ne=[],a=!1,s=!1,be.setInitialized(!1)},be.trackDependencyData=function(Ze,At){be[r](Ze,At)},be.includeCorrelationHeaders=function(Ze,At,Ut,zt){var Qt=be._currentWindowHost||l;if(At){if(ra.canIncludeCorrelationHeader(c,Ze.getAbsoluteUrl(),Qt)){if(Ut||(Ut={}),Ut.headers=new Headers(Ut.headers||(At instanceof Request?At.headers||{}:{})),S){var cn="|"+Ze.traceID+"."+Ze.spanID;Ut.headers.set(Zn.requestIdHeader,cn),u&&(Ze.requestHeaders[Zn.requestIdHeader]=cn)}var sn=c.appId||y&&y.appId();if(sn&&(Ut.headers.set(Zn.requestContextHeader,Zn.requestContextAppIdFormat+sn),u&&(Ze.requestHeaders[Zn.requestContextHeader]=Zn.requestContextAppIdFormat+sn)),v){var Nn=new jc(Ze.traceID,Ze.spanID);Ut.headers.set(Zn.traceParentHeader,Nn.toString()),u&&(Ze.requestHeaders[Zn.traceParentHeader]=Nn.toString())}}return Ut}else if(zt){if(ra.canIncludeCorrelationHeader(c,Ze.getAbsoluteUrl(),Qt)){if(S){var cn="|"+Ze.traceID+"."+Ze.spanID;zt.setRequestHeader(Zn.requestIdHeader,cn),u&&(Ze.requestHeaders[Zn.requestIdHeader]=cn)}var sn=c.appId||y&&y.appId();if(sn&&(zt.setRequestHeader(Zn.requestContextHeader,Zn.requestContextAppIdFormat+sn),u&&(Ze.requestHeaders[Zn.requestContextHeader]=Zn.requestContextAppIdFormat+sn)),v){var Nn=new jc(Ze.traceID,Ze.spanID);zt.setRequestHeader(Zn.traceParentHeader,Nn.toString()),u&&(Ze.requestHeaders[Zn.traceParentHeader]=Nn.toString())}}return zt}},be[r]=function(Ze,At,Ut){if(U===-1||f<U){(c.distributedTracingMode===si.W3C||c.distributedTracingMode===si.AI_AND_W3C)&&typeof Ze.id=="string"&&Ze.id[Ze.id.length-1]!=="."&&(Ze.id+="."),Dt(Ze.startTime)&&(Ze.startTime=new Date);var zt=Ei.create(Ze,bi.dataType,bi.envelopeType,be[mo](),At,Ut);be.core.track(zt)}else f===U&&es(be,xt.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++f};function Ue(Ze){var At=!0;return(Ze||c.ignoreHeaders)&&En(c.ignoreHeaders,function(Ut){if(Ut.toLowerCase()===Ze.toLowerCase())return At=!1,-1}),At}o(Ue,"ye");function ke(){var Ze=Zm();if(Ze){var At=Va(),Ut=Ze.polyfill;c.disableFetchTracking===!1?(ne.push(oc(At,yo,{req:function(zt,Qt,cn){var sn;if(a&&!Ct(null,Qt,cn)&&!(Ut&&s)){var Nn=zt.ctx();sn=vn(Qt,cn);var or=be.includeCorrelationHeaders(sn,Qt,cn);or!==cn&&zt.set(1,or),Nn.data=sn}},rsp:function(zt,Qt){var cn=zt.ctx().data;cn&&(zt.rslt=zt.rslt.then(function(sn){return Qn(zt,(sn||{}).status,sn,cn,function(){var Nn={statusText:sn.statusText,headerMap:null,correlationContext:pa(sn)};if(q){var or={};sn.headers.forEach(function(vr,$r){Ue($r)&&(or[$r]=vr)}),Nn.headerMap=or}return Nn}),sn}).catch(function(sn){throw Qn(zt,0,Qt,cn,null,{error:sn.message}),sn}))},hkErr:ts(be,xt.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):Ut&&ne.push(oc(At,yo,{req:function(zt,Qt,cn){Ct(null,Qt,cn)}})),Ut&&(At[yo].polyfill=Ut)}}o(ke,"J");function wt(Ze,At,Ut){ne.push(zv(Ze,At,Ut))}o(wt,"de");function Fe(){Qm(be)&&!s&&(wt(XMLHttpRequest,"open",{req:function(Ze,At,Ut,zt){var Qt=Ze.inst,cn=Qt[Br];!Ct(Qt,Ut)&&on(Qt,!0)&&(!cn||!cn.xhrMonitoringState.openDone)&&Mn(Qt,At,Ut,zt)},hkErr:ts(be,xt.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),wt(XMLHttpRequest,"send",{req:function(Ze,At){var Ut=Ze.inst,zt=Ut[Br];on(Ut)&&!zt.xhrMonitoringState.sendDone&&(Gt("xhr",zt),zt.requestSentTime=Go(),be.includeCorrelationHeaders(zt,void 0,void 0,Ut),zt.xhrMonitoringState.sendDone=!0)},hkErr:ts(be,xt.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),wt(XMLHttpRequest,"abort",{req:function(Ze){var At=Ze.inst,Ut=At[Br];on(At)&&!Ut.xhrMonitoringState.abortDone&&(Ut.aborted=1,Ut.xhrMonitoringState.abortDone=!0)},hkErr:ts(be,xt.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),u&&wt(XMLHttpRequest,"setRequestHeader",{req:function(Ze,At,Ut){var zt=Ze.inst;on(zt)&&Ue(At)&&(zt[Br].requestHeaders[At]=Ut)},hkErr:ts(be,xt.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),s=!0)}o(Fe,"be");function Ct(Ze,At,Ut){var zt=!1,Qt=((bn(At)?At:(At||{}).url||"")||"").toLowerCase();if(En(se,function(Nn){var or=Nn;bn(Nn)&&(or=new RegExp(Nn)),zt||(zt=or.test(Qt))}),zt)return zt;var cn=vo(Qt,"?"),sn=vo(Qt,"#");return(cn===-1||sn!==-1&&sn<cn)&&(cn=sn),cn!==-1&&(Qt=Qt.substring(0,cn)),Dt(Ze)?Dt(At)||(zt=(typeof At=="object"?At[Aa]===!0:!1)||(Ut?Ut[Aa]===!0:!1)):zt=Ze[Aa]===!0||Qt[Aa]===!0,zt?fe[Qt]||(fe[Qt]=1):fe[Qt]&&(zt=!0),zt}o(Ct,"pt");function on(Ze,At){var Ut=!0,zt=s;return Dt(Ze)||(Ut=At===!0||!Dt(Ze[Br])),zt&&Ut}o(on,"it");function Mn(Ze,At,Ut,zt){var Qt=y&&y.telemetryTrace&&y.telemetryTrace.traceID||_i(),cn=_i().substr(0,16),sn=new Wc(Qt,cn,be[mo]());sn.method=At,sn.requestUrl=Ut,sn.xhrMonitoringState.openDone=!0,sn.requestHeaders={},sn.async=zt,Ze[Br]=sn,Se(Ze)}o(Mn,"dt");function Se(Ze){Ze[Br].xhrMonitoringState.stateChangeAttached=Ko.Attach(Ze,"readystatechange",function(){try{Ze&&Ze.readyState===4&&on(Ze)&&bt(Ze)}catch(Ut){var At=wn(Ut);(!At||vo(At.toLowerCase(),"c00c023f")===-1)&&es(be,xt.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Fl(Ze),exception:At})}})}o(Se,"d");function ft(Ze){try{var At=Ze.responseType;if(At===""||At==="text")return Ze.responseText}catch(Ut){}return null}o(ft,"T");function bt(Ze){var At=Ze[Br];At.responseFinishedTime=Go(),At.status=Ze.status;function Ut(zt,Qt){var cn=Qt||{};cn.ajaxDiagnosticsMessage=Fl(Ze),zt&&(cn.exception=wn(zt)),kl(be,xt.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",cn)}o(Ut,"N"),Xt("xmlhttprequest",At,function(){try{var zt=At.CreateTrackItem("Ajax",u,function(){var Qt={statusText:Ze.statusText,headerMap:null,correlationContext:Et(Ze),type:Ze.responseType,responseText:ft(Ze),response:Ze.response};if(q){var cn=Ze.getAllResponseHeaders();if(cn){var sn=xr(cn).split(/[\r\n]+/),Nn={};En(sn,function(or){var vr=or.split(": "),$r=vr.shift(),Io=vr.join(": ");Ue($r)&&(Nn[$r]=Io)}),Qt.headerMap=Nn}}return Qt});zt?be[r](zt):Ut(null,{requestSentTime:At.requestSentTime,responseFinishedTime:At.responseFinishedTime})}finally{try{Ze[Br]=null}catch(Qt){}}},function(zt){Ut(zt,null)})}o(bt,"D");function Et(Ze){try{var At=Ze.getAllResponseHeaders();if(At!==null){var Ut=vo(At.toLowerCase(),Zn.requestContextHeaderLowerCase);if(Ut!==-1){var zt=Ze.getResponseHeader(Zn.requestContextHeader);return ra.getCorrelationContext(zt)}}}catch(Qt){kl(be,xt.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Fl(Ze),exception:wn(Qt)})}}o(Et,"A");function Gt(Ze,At){if(At.requestUrl&&H&&Z){var Ut=Oi();if(Ut&&Pn(Ut.mark)){Vc++;var zt=H+Ze+"#"+Vc;Ut.mark(zt);var Qt=Ut.getEntriesByName(zt);Qt&&Qt.length===1&&(At.perfMark=Qt[0])}}}o(Gt,"H");function Xt(Ze,At,Ut,zt){var Qt=At.perfMark,cn=Oi(),sn=c.maxAjaxPerfLookupAttempts,Nn=c.ajaxPerfLookupDelay,or=At.requestUrl,vr=0;o(function $r(){try{if(cn&&Qt){vr++;for(var Io=null,K0=cn.getEntries(),Jf=K0.length-1;Jf>=0;Jf--){var Gi=K0[Jf];if(Gi){if(Gi.entryType==="resource")Gi.initiatorType===Ze&&(vo(Gi.name,or)!==-1||vo(or,Gi.name)!==-1)&&(Io=Gi);else if(Gi.entryType==="mark"&&Gi.name===Qt.name){At.perfTiming=Io;break}if(Gi.startTime<Qt.startTime-1e3)break}}}!Qt||At.perfTiming||vr>=sn||At.async===!1?(Qt&&Pn(cn.clearMarks)&&cn.clearMarks(Qt.name),At.perfAttempts=vr,Ut()):setTimeout($r,Nn)}catch(_1){zt(_1)}},"We")()}o(Xt,"_");function vn(Ze,At){var Ut=y&&y.telemetryTrace&&y.telemetryTrace.traceID||_i(),zt=_i().substr(0,16),Qt=new Wc(Ut,zt,be[mo]());Qt.requestSentTime=Go(),Ze instanceof Request?Qt.requestUrl=Ze?Ze.url:"":Qt.requestUrl=Ze;var cn="GET";At&&At.method?cn=At.method:Ze&&Ze instanceof Request&&(cn=Ze.method),Qt.method=cn;var sn={};if(u){var Nn=new Headers((At?At.headers:0)||(Ze instanceof Request?Ze.headers||{}:{}));Nn.forEach(function(or,vr){Ue(vr)&&(sn[vr]=or)})}return Qt.requestHeaders=sn,Gt("fetch",Qt),Qt}o(vn,"j");function Ln(Ze){var At="";try{Dt(Ze)||(typeof Ze=="string"?At+="(url: '"+Ze+"')":At+="(url: '"+Ze.url+"')")}catch(Ut){es(be,xt.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:wn(Ut)})}return At}o(Ln,"Z");function Qn(Ze,At,Ut,zt,Qt,cn){if(!zt)return;function sn(Nn,or,vr){var $r=vr||{};$r.fetchDiagnosticsMessage=Ln(Ut),or&&($r.exception=wn(or)),kl(be,Nn,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",$r)}o(sn,"V"),zt.responseFinishedTime=Go(),zt.status=At,Xt("fetch",zt,function(){var Nn=zt.CreateTrackItem("Fetch",u,Qt);Nn?be[r](Nn):sn(xt.FailedMonitorAjaxDur,null,{requestSentTime:zt.requestSentTime,responseFinishedTime:zt.responseFinishedTime})},function(Nn){sn(xt.FailedMonitorAjaxGetCorrelationHeader,Nn,null)})}o(Qn,"ie");function pa(Ze){if(Ze&&Ze.headers)try{var At=Ze.headers.get(Zn.requestContextHeader);return ra.getCorrelationContext(At)}catch(Ut){kl(be,xt.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Ln(Ze),exception:wn(Ut)})}}o(pa,"Ht")}),n}return o(t,"e"),t.getDefaultConfig=function(){var n={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:si.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return n},t.getEmptyConfig=function(){var n=this.getDefaultConfig();return dr(n,function(r){n[r]=void 0}),n},t.prototype.processTelemetry=function(n,r){this.processNext(n,r)},t.identifier="AjaxDependencyPlugin",t}(Ca)}),Og=lt(()=>{Xm()}),Zc,Qc,Mg,Lg,Xc,Ng=lt(()=>{In(),ig(),yg(),Fg(),Og(),hr(),Qc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Mg={Default:0,Required:1,Array:2,Hidden:4},Lg={__proto__:null,PropertiesPluginIdentifier:go,BreezeChannelIdentifier:Il,AnalyticsPluginIdentifier:Pc,Util:xc,CorrelationIdHelper:ra,UrlHelper:Ah,DateTimeUtils:Rh,ConnectionStringParser:Oh,FieldType:Mg,RequestHeaders:Zn,DisabledPropertyName:Aa,ProcessLegacy:lo,SampleRate:gl,HttpMethod:pl,DEFAULT_BREEZE_ENDPOINT:gc,AIData:Ec,AIBase:bc,Envelope:Sc,Event:li,Exception:Pr,Metric:xi,PageView:ui,PageViewData:Sl,RemoteDependencyData:bi,Trace:Bi,PageViewPerformance:Ui,Data:$i,SeverityLevel:Zo,ConfigurationManager:Jh,ContextTagKeys:Tl,DataSanitizer:fh,TelemetryItemCreator:Ei,CtxTagKeys:qn,Extensions:Or,DistributedTracingModes:si},Xc=function(){function e(t){var n=this;n._snippetVersion=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var r=t.config||{};if(r.connectionString){var i=Fh(r.connectionString),a=i.ingestionendpoint;r.endpointUrl=a?a+"/v2/track":r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new Mc,n.properties=new zc,n.dependencies=new Gc,n.core=new tc,n._sender=new $c,n.snippet=t,n.config=r,n.getSKUDefaults()}return o(e,"t"),e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(t,n){this.appInsights.trackEvent(t,n)},e.prototype.trackPageView=function(t){var n=t||{};this.appInsights.trackPageView(n)},e.prototype.trackPageViewPerformance=function(t){var n=t||{};this.appInsights.trackPageViewPerformance(n)},e.prototype.trackException=function(t){t&&!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t)},e.prototype._onerror=function(t){this.appInsights._onerror(t)},e.prototype.trackTrace=function(t,n){this.appInsights.trackTrace(t,n)},e.prototype.trackMetric=function(t,n){this.appInsights.trackMetric(t,n)},e.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsights.stopTrackPage(t,n,r,i)},e.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsights.stopTrackEvent(t,n,r)},e.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){r===void 0&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},e.prototype.flush=function(t){var n=this;t===void 0&&(t=!0),eo(this.core,function(){return"AISKU.flush"},function(){En(n.core.getTransmissionControls(),function(r){En(r,function(i){i.flush(t)})})},null,t)},e.prototype.onunloadFlush=function(t){t===void 0&&(t=!0),En(this.core.getTransmissionControls(),function(n){En(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(t)})})},e.prototype.loadAppInsights=function(t,n,r){var i=this;t===void 0&&(t=!1);var a=this;function s(l){if(l){var c="";Dt(a._snippetVersion)||(c+=a._snippetVersion),t&&(c+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=c||"-"),dr(a,function(u,f){bn(u)&&!Pn(f)&&u&&u[0]!=="_"&&Qc.indexOf(u)===-1&&(l[u]=f)})}}return o(s,"o"),t&&a.config.extensions&&a.config.extensions.length>0&&mi("Extensions not allowed in legacy mode"),eo(a.core,function(){return"AISKU.loadAppInsights"},function(){var l=[];l.push(a._sender),l.push(a.properties),l.push(a.dependencies),l.push(a.appInsights),a.core.initialize(a.config,l,n,r),a.context=a.properties.context,Zc&&a.context&&(a.context.internal.sdkSrc=Zc),s(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},e.prototype.updateSnippetDefinitions=function(t){gd(t,this,function(n){return n&&Qc.indexOf(n)===-1})},e.prototype.emptyQueue=function(){var t=this;try{if(Pi(t.snippet.queue)){for(var n=t.snippet.queue.length,r=0;r<n;r++){var i=t.snippet.queue[r];i()}t.snippet.queue=void 0,delete t.snippet.queue}}catch(s){var a={};s&&Pn(s.toString)&&(a.exception=s.toString())}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(t){if(Zs()||md()){var n=o(function(){t.onunloadFlush(!1),En(t.appInsights.core._extensions,function(i){if(i.identifier===go)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})},"r");if(!t.appInsights.config.disableFlushOnBeforeUnload){var r=Ia("beforeunload",n);r=Ia("unload",n)||r,r=Ia("pagehide",n)||r,r=Ia("visibilitychange",n)||r,!r&&!Sv()&&t.appInsights.core.logger.throwInternal(Rt.CRITICAL,xt.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}t.appInsights.config.disableFlushOnUnload||(Ia("pagehide",n),Ia("visibilitychange",n))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var t=this;t.config.diagnosticLogInterval=t.config.diagnosticLogInterval&&t.config.diagnosticLogInterval>0?t.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch(l){}if(e)try{var i=e.toLowerCase();if(i){for(var a="",s=0;s<n.length;s++)if(i.indexOf(n[s])!==-1){a="cdn"+(s+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),Zc=a+(t?".mod":"");break}}}catch(l){}}()}),Bg,Ug,Jm=lt(()=>{hr(),In(),Bg=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],Ug=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return o(e,"t"),e.getDefaultConfig=function(t){return t||(t={}),t.endpointUrl=t.endpointUrl||"https://dc.services.visualstudio.com/v2/track",t.sessionRenewalMs=30*60*1e3,t.sessionExpirationMs=24*60*60*1e3,t.maxBatchSizeInBytes=t.maxBatchSizeInBytes>0?t.maxBatchSizeInBytes:102400,t.maxBatchInterval=isNaN(t.maxBatchInterval)?15e3:t.maxBatchInterval,t.enableDebug=Wn(t.enableDebug),t.disableExceptionTracking=Wn(t.disableExceptionTracking),t.disableTelemetry=Wn(t.disableTelemetry),t.verboseLogging=Wn(t.verboseLogging),t.emitLineDelimitedJson=Wn(t.emitLineDelimitedJson),t.diagnosticLogInterval=t.diagnosticLogInterval||1e4,t.autoTrackPageVisitTime=Wn(t.autoTrackPageVisitTime),(isNaN(t.samplingPercentage)||t.samplingPercentage<=0||t.samplingPercentage>=100)&&(t.samplingPercentage=100),t.disableAjaxTracking=Wn(t.disableAjaxTracking),t.maxAjaxCallsPerView=isNaN(t.maxAjaxCallsPerView)?500:t.maxAjaxCallsPerView,t.isBeaconApiDisabled=Wn(t.isBeaconApiDisabled,!0),t.disableCorrelationHeaders=Wn(t.disableCorrelationHeaders),t.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],t.disableFlushOnBeforeUnload=Wn(t.disableFlushOnBeforeUnload),t.disableFlushOnUnload=Wn(t.disableFlushOnUnload,t.disableFlushOnBeforeUnload),t.enableSessionStorageBuffer=Wn(t.enableSessionStorageBuffer,!0),t.isRetryDisabled=Wn(t.isRetryDisabled),t.isCookieUseDisabled=Wn(t.isCookieUseDisabled),t.isStorageUseDisabled=Wn(t.isStorageUseDisabled),t.isBrowserLinkTrackingEnabled=Wn(t.isBrowserLinkTrackingEnabled),t.enableCorsCorrelation=Wn(t.enableCorsCorrelation),t},e.prototype.addTelemetryInitializers=function(t){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(t)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(t){this.appInsightsNew.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsightsNew.stopTrackPage(t,n,r)},e.prototype.trackPageView=function(t,n,r,i,a){var s={name:t,uri:n,properties:r,measurements:i};this.appInsightsNew.trackPageView(s)},e.prototype.trackEvent=function(t,n,r){this.appInsightsNew.trackEvent({name:t})},e.prototype.trackDependency=function(t,n,r,i,a,s,l){this.appInsightsNew.trackDependencyData({id:t,target:r,type:i,duration:a,properties:{HttpMethod:n},success:s,responseCode:l})},e.prototype.trackException=function(t,n,r,i,a){this.appInsightsNew.trackException({exception:t})},e.prototype.trackMetric=function(t,n,r,i,a,s){this.appInsightsNew.trackMetric({name:t,average:n,sampleCount:r,min:i,max:a})},e.prototype.trackTrace=function(t,n,r){this.appInsightsNew.trackTrace({message:t,severityLevel:r})},e.prototype.flush=function(t){this.appInsightsNew.flush(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(t,n,r,i,a){this.appInsightsNew._onerror({message:t,url:n,lineNumber:r,columnNumber:i,error:a})},e.prototype.startTrackEvent=function(t){this.appInsightsNew.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsightsNew.stopTrackEvent(t,n,r)},e.prototype.downloadAndSetup=function(t){mi("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(t){gd(t,this,function(n){return n&&Bg.indexOf(n)===-1})},e.prototype.loadAppInsights=function(){var t=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(a,s,l){n.apply(t,[null,a,s,l])}}var r="logPageView";typeof this.snippet[r]=="function"&&(this[r]=function(a,s,l){t.trackPageView(null,a,s,l)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,s,l){t.trackEvent(a,s,l)}),this},e.prototype._processLegacyInitializers=function(t){return t.tags[lo]=this._queue,t},e}()}),$g,Ym=lt(()=>{Jm(),Ng(),In(),$g=function(){function e(){}return o(e,"t"),e.getAppInsights=function(t,n){var r=new Xc(t),i=n!==2;if(ao(),n===2)return r.updateSnippetDefinitions(t),r.loadAppInsights(i),r;var a=new Ug(t,r);return a.updateSnippetDefinitions(t),r.loadAppInsights(i),a},e}()}),Hg={};Y0(Hg,{AppInsightsCore:()=>tc,ApplicationAnalytics:()=>Mc,ApplicationInsights:()=>Xc,ApplicationInsightsContainer:()=>$g,BaseCore:()=>Yu,BaseTelemetryPlugin:()=>Ca,CoreUtils:()=>dl,DependenciesPlugin:()=>Gc,DistributedTracingModes:()=>si,Event:()=>li,Exception:()=>Pr,LoggingSeverity:()=>Rt,Metric:()=>xi,NotificationManager:()=>ec,PageView:()=>ui,PageViewPerformance:()=>Ui,PerfEvent:()=>to,PerfManager:()=>Lu,PropertiesPlugin:()=>zc,RemoteDependencyData:()=>bi,Sender:()=>$c,SeverityLevel:()=>Zo,Telemetry:()=>Lg,Trace:()=>Bi,Util:()=>xc,_InternalMessageId:()=>xt,doPerf:()=>eo});var ey=lt(()=>{Ng(),Ym(),In(),hr(),yg(),ig(),Fg(),Og()}),ty=o((e,t,n)=>Ka(void 0,null,function*(){let r=yield Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3850)),i=yield Promise.resolve().then(__webpack_require__.bind(__webpack_require__,7156)),a=new r.AppInsightsCore,s=new i.PostChannel,l={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){l.extensionConfig={};let u={alwaysUseXhrOverride:!0,httpXHROverride:n};l.extensionConfig[s.identifier]=u}let c=t.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(l,[]),a.addTelemetryInitializer(u=>{var f,y;!c||(u.ext=(f=u.ext)!=null?f:{},u.ext.utc=(y=u.ext.utc)!=null?y:{},u.ext.utc.flags=8462029)}),a}),"wc"),ny=o((e,t,n)=>Ka(void 0,null,function*(){let r=yield ty(e,t,n);return{logEvent:(i,a)=>{try{r==null||r.track({name:i,baseData:{name:i,properties:a==null?void 0:a.properties,measurements:a==null?void 0:a.measurements}})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},logException:(i,a)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>Ka(void 0,null,function*(){try{r==null||r.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}})}}),"yo"),ry=o(class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}flush(){return Ka(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},"Ln"),Si=o(class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",t="enableTelemetry";try{let n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off"}catch(n){return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(t)?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(r.replacementString!==void 0?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return Si._instance||(Si._instance=new Si(e)),Si._instance}},"je"),iy=o(class{constructor(e,t,n,r,i,a){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!a,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=Si.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(t=n)}),t}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(e==null)return"";let r=[];this.vscodeAPI.env.appRoot!==""&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let a=[];for(let u of r)for(;(n=u.exec(e))&&n;)a.push([n.index,u.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,l=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(n=l.exec(e))&&n;)n[0]&&!s.test(n[0])&&a.every(([u,f])=>n.index<u||n.index>=f)&&(i+=e.substring(c,n.index)+"<REDACTED: user-file-path>",c=l.lastIndex);c<e.length&&(i+=e.substr(c))}for(let a of r)i=i.replace(a,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,a=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;a.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":s.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(Si.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,i){if((this.userOptIn||i)&&e!==""){if(t=gi(gi({},t),this.getCommonProperties()),r){let a=this.cloneAndChange(t,(s,l)=>this.anonymizeFilePaths(l,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(a)}t=t!=null?t:{},n=n!=null?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e!==""){if(t=gi(gi({},t),this.getCommonProperties()),r){let a=this.cloneAndChange(t,(s,l)=>this.anonymizeFilePaths(l,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(a)}t=t!=null?t:{},n=n!=null?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=gi(gi({},t),this.getCommonProperties()),r){let a=this.cloneAndChange(t,(s,l)=>this.anonymizeFilePaths(l,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(a)}t=t!=null?t:{},n=n!=null?n:{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},"_n"),ay=o((e,t)=>Ka(void 0,null,function*(){let n;try{let r=yield Promise.resolve().then(()=>(ey(),Hg)),i;e&&e.indexOf("AIF-")===0&&(i="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),i&&fetch(i).catch(()=>n=void 0)}catch(r){return Promise.reject(r)}return{logEvent:(r,i)=>{let a=gi(gi({},i==null?void 0:i.properties),i==null?void 0:i.measurements);t!=null&&t.length&&Si.applyReplacements(a,t),n==null||n.trackEvent({name:r},a)},logException:(r,i)=>{let a=gi(gi({},i==null?void 0:i.properties),i==null?void 0:i.measurements);t!=null&&t.length&&Si.applyReplacements(a,t),n==null||n.trackException({exception:r,properties:a})},flush:()=>Ka(void 0,null,function*(){n==null||n.flush()})}}),"Al"),oy=o(class extends iy{constructor(e,t,n,r,i){let a=o(l=>ay(l,i),"o");Si.shouldUseOneDataSystemSDK(n)&&(a=o(l=>ny(l,d),"o"));let s=new ry(n,a);n&&(n.indexOf("AIF-")===0||Si.shouldUseOneDataSystemSDK(n))&&(r=!0),super(e,t,s,{release:navigator.appVersion,platform:"web",architecture:"web"},d,r)}},"go");/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */const sy="Type of classified event does not match event properties",Jc=o(class{constructor(e){this.context=e,this.sharedProperties={},Jc._instance=this,this.reporter=new oy(e.extension.id,e.extension.packageJSON.version,Jc.ingestionKey,!0)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(e,t){t!==sy&&this.reporter.sendTelemetryEvent(e,{...this.sharedProperties,...t})}sendEvent(e,t,n){this.reporter.sendTelemetryEvent(e,{...this.sharedProperties,...t},n)}sendErrorEvent(e,t,n){this.reporter.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t},n)}sendException(e,t,n){this.reporter.sendTelemetryException(e,{...this.sharedProperties,...t},n)}setSharedProperty(e,t){this.sharedProperties[e]=t}reportWorkbenchLoadResult(e){const t="_codespaces.webeditor.connectWorkspace";d.env.appHost==="github.dev"&&(xe.debug(`Executing ${t}`),e={...e,errorDetail:e.errorDetail instanceof Error?e.errorDetail.name:void 0},d.commands.executeCommand(t,e).then(n=>{},n=>{xe.debug(`Failed to execute ${t}`,n)}))}},"_TelemetryService");let zg=Jc;zg.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let ns;var Yc;(function(e){function t(n){const r=uy(n);return ns=d.env.uiKind===d.UIKind.Web,xe.warn(`Running on the ${ns?"web":"desktop"}${n.extensionRuntime!==d.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${n.globalStorageUri.toString(!0)}`),r}o(t,"configure"),e.configure=t})(Yc||(Yc={}));const ly=/\/workspaceStorage\/(?<id>[^/]+)/i;function uy(e){var t;if(e.storageUri===void 0)return"";const n=ly.exec(e.storageUri.path);let r;if((t=n==null?void 0:n.groups)==null?void 0:t.id)r=n.groups.id;else{r=e.storageUri.path;const i=Wa(e.globalStorageUri.path,r),a=`/${e.extension.id}`;r.endsWith(a)?r=r.slice(i,-a.length):r=r.substr(i)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}o(uy,"getWorkspaceId");function S1(e,t){return e.reduce((r,i)=>{const a=t(i),s=r.get(a);return s===void 0?r.set(a,[i]):s.push(i),r},new Map)}o(S1,"groupBy");function cy(e){let t=0;for(const n of e){if(n===0)return!0;if(t++,t>8e3)break}return!1}o(cy,"isBinary");function ef(e,t,n=r=>r){return[...e.reduce((i,a)=>{const s=t(a),l=i.get(s);if(l===void 0)i.set(s,a);else{const c=n(l,a);c!==void 0&&i.set(s,c)}return i},new Map).values()]}o(ef,"uniqueBy");const wo=o(class{constructor(e,t,n,r,i){this.providerService=e,this.storageService=t,this.changeStore=n,this.workspaceId=r,this.context=i,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new It("WorkspaceRepositories"),this.disposable=d.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),Ye.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const e=await d.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void d.window.showTextDocument(e)}onConfigurationChanged(e){if(!Ye.changed(e,"experimental.syncRecentList"))return;const t=Ye.get("experimental.syncRecentList")===!0?[wo.storageKey]:[];this.context.globalState.setKeysForSync(t)}onChangeStoreChanged(e){const t=ef(e.map(n=>n.rootUri),n=>C(n)).map(n=>this.providerService.getRepository(n)).filter(n=>Boolean(n));this.addOrUpdate(t)}onRepositoriesChanged(e){this.addOrUpdate(e.added)}onRepositoryChanged(e){this.addOrUpdate([e.repository])}async get(e){let t=await this.lock.synchronizeRead(async()=>{let n=this.cache.get("workspaceRepositories");return n===void 0&&(n=[...(await this.getCore()).values()].sort((r,i)=>i.timestamp-r.timestamp),this.cache.set("workspaceRepositories",n)),n},"WorkspaceRepositories.get");if(e){const n=C(e);t=t.filter(r=>C(r.canonicalUri)===n)}return t}async getCore(){return this.fromStorage(await this.storageService.get(wo.storageKey))}async getRecents(e=10){return(await this.get()).slice(0,e)}async getRemoteWorkspaceSourceProvider(e){const t=await this.getRecents();if(t.length!==0)return t.filter(n=>n.provider.id===e)}refresh(){this.cache.clear()}async remove(e){await this.lock.synchronizeWrite(async()=>{const t=await this.getCore(),n=`${e.workspaceId}/${C(e.uri)}`,r=t.get(n);if(r===void 0)return;const i=this.changeStore.getScopedChangeStore(r),a=await i.getChanges(r.uri);if(a.length!==0){const s={title:d.l10n.t("Yes")},l={title:d.l10n.t("No"),isCloseAffordance:!0};if(await d.window.showWarningMessage(a.length===1?d.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):d.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,a.length),{modal:!0},s,l)!==s)return;await i.discardAll(r.uri)}this.cache.clear(),t.delete(n);try{await this.storageService.store(wo.storageKey,this.toStorage(t))}catch(s){throw xe.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(e){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const t=await this.getCore();for(const n of e){const[{HEAD:r,pullRequest:i},a]=await Promise.all([n.getMetadata(),n.getIndexMetadata()]),s=await this.changeStore.getChanges(n.uri);t.set(`${this.workspaceId}/${C(n.uri)}`,{workspaceId:this.workspaceId,uri:n.uri,canonicalUri:n.canonicalUri,name:n.name,provider:n.provider,ref:{type:r.type,name:r.name},idx:(a==null?void 0:a.type)&&ge.hasIndex(a.type)?{type:a.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:fy(s),timestamp:Date.now()})}try{await this.storageService.store(wo.storageKey,this.toStorage(t))}catch(n){throw xe.error(n,"Failed to save workspace repositories"),n}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(e){if(!e)return new Map;try{const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&R(r)?d.Uri.from(r):r);return new Map(t.workspaceRepositories)}catch(t){return xe.error(t,"Failed to deserialize workspace repositories"),new Map}}toStorage(e){const t={schemaVersion:wo.storageSchemaVersion,workspaceRepositories:[...e]};return JSON.stringify(t)}},"_WorkspaceRepositories");let tf=wo;tf.storageKey="workspaceRepositories",tf.storageSchemaVersion=1;function Wg(e){return e!==void 0&&(e.added!==0||e.changed!==0||e.deleted!==0)}o(Wg,"hasChanges");function C1(e){return Wg(e.changes)}o(C1,"hasUncommittedChanges");function fy(e){let t=0,n=0,r=0;for(const i of e)switch(i.type){case G.Created:t++;break;case G.Changed:n++;break;case G.Deleted:r++;break}return t||n||r?{added:t,changed:n,deleted:r,timestamp:Date.now()}:void 0}o(fy,"toChangesSummary");function T1(e,{compact:t=!0,preamble:n,separator:r=", ",short:i=!1,single:a=!1}={}){if(!Wg(e))return l10n.t("Everything up to date");const{added:s,changed:l,deleted:c}=e;if(a){const f=s+l+c;return f===1?l10n.t("{0} change",f):l10n.t("{0} changes",f)}let u=`${n!=null?n:""}`;return(s||!t)&&(u+=i?`+${s}`:s===1?l10n.t("{0} file added",s):l10n.t("{0} files added",s),(l||c||!t)&&(u+=r)),(l||!t)&&(u+=i?`~${l}`:l===1?l10n.t("{0} file changed",l):l10n.t("{0} files changed",l),(c||!t)&&(u+=r)),(c||!t)&&(u+=i?`-${c}`:c===1?l10n.t("{0} file deleted",c):l10n.t("{0} files deleted",c)),u}o(T1,"formatChangesSummary");var nf=__webpack_require__(7360),dy=__webpack_require__(919),rf=__webpack_require__.n(dy);function af(e,t,n){if(!(t==null?void 0:t.length)&&!(n==null?void 0:n.length))return new Set(e);let r;if(t==null?void 0:t.length){const i=new Set([...t,...t.map(s=>`${s}/**`)]),a=rf()(e,[...i],{dot:!0,nocase:!0});r=new Set(a)}if(n==null?void 0:n.length){const i=new Set([...n,...n.map(a=>`${a}/**`)]);if(r===void 0){const a=rf().not(e,[...i],{dot:!0,nocase:!0});r=new Set(a)}else rf()(e,[...i],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}o(af,"globFilter");const hy="";function gy(...e){if(e.length===1){const t=e[0];return t===void 0?hy:typeof t=="string"?t:typeof t=="number"||typeof t=="boolean"||t instanceof Error?String(t):t instanceof d.Uri?t.toString():JSON.stringify(t)}return JSON.stringify(e)}o(gy,"serialize_defaultResolver");function of(e){return(t,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const a=`$serialize$${n}`;r.value=function(...s){const l=s.length===0?a:`${a}$${(e!=null?e:gy)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[l];const u=o(()=>i.apply(this,s),"run");return c===void 0?c=u():c=c.then(u,u),this[l]=c,c}}}o(of,"serialize");function*py(e,t){for(const n of e)yield*t(n)}o(py,"flatMap");function*I1(e,t){for(const n of e)t(n)&&(yield n)}o(I1,"filter");function*Pl(e,t){for(const n of e){const r=t(n);r!=null&&(yield r)}}o(Pl,"filterMap");function vy(e,t){for(const n of e)if(t(n))return n}o(vy,"find");function A1(e,t){let n="";const r=e[Symbol.iterator]();let i=r.next();if(i.done)return n;for(;;){const a=i.value.toString();if(i=r.next(),i.done){n+=a;break}n+=a,n+=t}return n}o(A1,"join");function*jg(e,t){for(const n of e)yield t(n)}o(jg,"map");function R1(e,t){for(const n of e)if(t(n))return!0;return!1}o(R1,"some");function*my(...e){for(const t of e)for(const n of t)yield n}o(my,"union");function*D1(e){const t=new Set;for(const n of e)t.has(n)||(t.add(n),yield n)}o(D1,"unique");function yy(e){return e.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}o(yy,"escapeRegExpCharacters");function wy(e,t,n={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=yy(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e=`\\b${e}`),/\B/.test(e.charAt(e.length-1))||(e=`${e}\\b`));let r="gmu";return n.matchCase||(r+="i"),new RegExp(e,r)}o(wy,"createRegExp");let Kg,qg,sf;const _y=o((e,t,n,r)=>{const i=`${t.join("--")};;;;${n.join("--")}`,a=e.map(l=>l.path).join("::");if(Kg===a&&i==qg&&sf)return sf;const s=af((r?e.filter(l=>l.size<r):e).map(l=>l.path),t,n);return Kg=a,qg=i,sf=s,s},"generateIncludeSet"),xy=o((e,t,n,r)=>{var i;const a=[];let s;if(typeof e=="string")s=e;else{const f=e;if(f[0]==255&&f[1]==254)s=new TextDecoder("utf-16le").decode(f);else if(f[0]==254&&f[1]==255)s=new TextDecoder("utf-16be").decode(f);else if(s=new TextDecoder("utf8").decode(f),s.slice(0,1e3).includes("\uFFFD")&&f.includes(0))return[]}const l=[];let c=null,u=r.remainingResultQuota;for(;(u===void 0||u>=0)&&(c=n.exec(s));)l.push({matchStartIndex:c.index,matchedText:c[0]}),u!==void 0&&u--;if(l.length){const f=new Set,y=new Set,v=[],S=o(ne=>s.slice(v[ne].start,v[ne].end),"readLine");let H=0,Z=null;const U=/\r?\n/g;for(;Z=U.exec(s);)v.push({start:H,end:Z.index}),H=Z.index+Z[0].length;H<s.length&&v.push({start:H,end:s.length});let q=0;for(const{matchStartIndex:ne,matchedText:fe}of l){if(u!==void 0&&u<0)break;for(;Boolean(v[q+1])&&ne>v[q].end;)q++;let se=q;for(;Boolean(v[se+1])&&ne+fe.length>v[se].end;)se++;if(r.beforeContext)for(let Fe=Math.max(0,q-r.beforeContext);Fe<q;Fe++)f.add(Fe);let be="",rt=0;for(let Fe=q;Fe<=se;Fe++){let Ct=S(Fe);((i=r.previewOptions)==null?void 0:i.charsPerLine)&&Ct.length>r.previewOptions.charsPerLine&&(rt=Math.max(ne-v[q].start-20,0),Ct=Ct.substr(rt,r.previewOptions.charsPerLine)),be+=`${Ct}
`,y.add(Fe)}const Ue=new d.Range(q,ne-v[q].start,se,ne+fe.length-v[se].start),ke=new d.Range(0,ne-v[q].start-rt,se-q,ne+fe.length-v[se].start-(se===q?rt:0)),wt={uri:d.Uri.file(t),ranges:Ue,preview:{text:be,matches:ke}};if(a.push(wt),r.afterContext)for(let Fe=se+1;Fe<=Math.min(se+r.afterContext,v.length-1);Fe++)f.add(Fe)}for(const ne of f)y.has(ne)||a.push({uri:d.Uri.file(t),text:S(ne),lineNumber:ne+1})}return a},"getFileResults");/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const by=4,Vg=0,Gg=1,Ey=2;function _o(e){let t=e.length;for(;--t>=0;)e[t]=0}o(_o,"zero$1");const Sy=0,Zg=1,Cy=2,Ty=3,Iy=258,lf=29,rs=256,is=rs+1+lf,xo=30,uf=19,Qg=2*is+1,Pa=15,cf=16,Ay=7,ff=256,Xg=16,Jg=17,Yg=18,df=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ol=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ry=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ep=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dy=512,zi=new Array((is+2)*2);_o(zi);const as=new Array(xo*2);_o(as);const os=new Array(Dy);_o(os);const ss=new Array(Iy-Ty+1);_o(ss);const hf=new Array(lf);_o(hf);const Ml=new Array(xo);_o(Ml);function gf(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}o(gf,"StaticTreeDesc");let tp,np,rp;function pf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}o(pf,"TreeDesc");const ip=o(e=>e<256?os[e]:os[256+(e>>>7)],"d_code"),ls=o((e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},"put_short"),Ur=o((e,t,n)=>{e.bi_valid>cf-n?(e.bi_buf|=t<<e.bi_valid&65535,ls(e,e.bi_buf),e.bi_buf=t>>cf-e.bi_valid,e.bi_valid+=n-cf):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},"send_bits"),Ci=o((e,t,n)=>{Ur(e,n[t*2],n[t*2+1])},"send_code"),ap=o((e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},"bi_reverse"),Fy=o(e=>{e.bi_valid===16?(ls(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},"bi_flush"),ky=o((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,f,y,v,S,H,Z=0;for(v=0;v<=Pa;v++)e.bl_count[v]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Qg;u++)f=e.heap[u],v=n[n[f*2+1]*2+1]+1,v>c&&(v=c,Z++),n[f*2+1]=v,!(f>r)&&(e.bl_count[v]++,S=0,f>=l&&(S=s[f-l]),H=n[f*2],e.opt_len+=H*(v+S),a&&(e.static_len+=H*(i[f*2+1]+S)));if(Z!==0){do{for(v=c-1;e.bl_count[v]===0;)v--;e.bl_count[v]--,e.bl_count[v+1]+=2,e.bl_count[c]--,Z-=2}while(Z>0);for(v=c;v!==0;v--)for(f=e.bl_count[v];f!==0;)y=e.heap[--u],!(y>r)&&(n[y*2+1]!==v&&(e.opt_len+=(v-n[y*2+1])*n[y*2],n[y*2+1]=v),f--)}},"gen_bitlen"),op=o((e,t,n)=>{const r=new Array(Pa+1);let i=0,a,s;for(a=1;a<=Pa;a++)r[a]=i=i+n[a-1]<<1;for(s=0;s<=t;s++){let l=e[s*2+1];l!==0&&(e[s*2]=ap(r[l]++,l))}},"gen_codes"),Py=o(()=>{let e,t,n,r,i;const a=new Array(Pa+1);for(n=0,r=0;r<lf-1;r++)for(hf[r]=n,e=0;e<1<<df[r];e++)ss[n++]=r;for(ss[n-1]=r,i=0,r=0;r<16;r++)for(Ml[r]=i,e=0;e<1<<Ol[r];e++)os[i++]=r;for(i>>=7;r<xo;r++)for(Ml[r]=i<<7,e=0;e<1<<Ol[r]-7;e++)os[256+i++]=r;for(t=0;t<=Pa;t++)a[t]=0;for(e=0;e<=143;)zi[e*2+1]=8,e++,a[8]++;for(;e<=255;)zi[e*2+1]=9,e++,a[9]++;for(;e<=279;)zi[e*2+1]=7,e++,a[7]++;for(;e<=287;)zi[e*2+1]=8,e++,a[8]++;for(op(zi,is+1,a),e=0;e<xo;e++)as[e*2+1]=5,as[e*2]=ap(e,5);tp=new gf(zi,df,rs+1,is,Pa),np=new gf(as,Ol,0,xo,Pa),rp=new gf(new Array(0),Ry,0,uf,Ay)},"tr_static_init"),sp=o(e=>{let t;for(t=0;t<is;t++)e.dyn_ltree[t*2]=0;for(t=0;t<xo;t++)e.dyn_dtree[t*2]=0;for(t=0;t<uf;t++)e.bl_tree[t*2]=0;e.dyn_ltree[ff*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},"init_block"),lp=o(e=>{e.bi_valid>8?ls(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},"bi_windup"),Oy=o((e,t,n,r)=>{lp(e),r&&(ls(e,n),ls(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},"copy_block"),up=o((e,t,n,r)=>{const i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},"smaller"),vf=o((e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&up(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!up(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},"pqdownheap"),cp=o((e,t,n)=>{let r,i,a=0,s,l;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?Ci(e,i,t):(s=ss[i],Ci(e,s+rs+1,t),l=df[s],l!==0&&(i-=hf[s],Ur(e,i,l)),r--,s=ip(r),Ci(e,s,n),l=Ol[s],l!==0&&(r-=Ml[s],Ur(e,r,l)));while(a<e.last_lit);Ci(e,ff,t)},"compress_block"),mf=o((e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,l,c=-1,u;for(e.heap_len=0,e.heap_max=Qg,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)vf(e,n,s);u=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],vf(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,n[u*2]=n[s*2]+n[l*2],e.depth[u]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,n[s*2+1]=n[l*2+1]=u,e.heap[1]=u++,vf(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],ky(e,t),op(n,c,e.bl_count)},"build_tree"),fp=o((e,t,n)=>{let r,i=-1,a,s=t[0*2+1],l=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++l<c&&a===s)&&(l<u?e.bl_tree[a*2]+=l:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[Xg*2]++):l<=10?e.bl_tree[Jg*2]++:e.bl_tree[Yg*2]++,l=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4))},"scan_tree"),dp=o((e,t,n)=>{let r,i=-1,a,s=t[0*2+1],l=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++l<c&&a===s)){if(l<u)do Ci(e,a,e.bl_tree);while(--l!=0);else a!==0?(a!==i&&(Ci(e,a,e.bl_tree),l--),Ci(e,Xg,e.bl_tree),Ur(e,l-3,2)):l<=10?(Ci(e,Jg,e.bl_tree),Ur(e,l-3,3)):(Ci(e,Yg,e.bl_tree),Ur(e,l-11,7));l=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4)}},"send_tree"),My=o(e=>{let t;for(fp(e,e.dyn_ltree,e.l_desc.max_code),fp(e,e.dyn_dtree,e.d_desc.max_code),mf(e,e.bl_desc),t=uf-1;t>=3&&e.bl_tree[ep[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},"build_bl_tree"),Ly=o((e,t,n,r)=>{let i;for(Ur(e,t-257,5),Ur(e,n-1,5),Ur(e,r-4,4),i=0;i<r;i++)Ur(e,e.bl_tree[ep[i]*2+1],3);dp(e,e.dyn_ltree,t-1),dp(e,e.dyn_dtree,n-1)},"send_all_trees"),Ny=o(e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Vg;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Gg;for(n=32;n<rs;n++)if(e.dyn_ltree[n*2]!==0)return Gg;return Vg},"detect_data_type");let hp=!1;const By=o(e=>{hp||(Py(),hp=!0),e.l_desc=new pf(e.dyn_ltree,tp),e.d_desc=new pf(e.dyn_dtree,np),e.bl_desc=new pf(e.bl_tree,rp),e.bi_buf=0,e.bi_valid=0,sp(e)},"_tr_init$1"),gp=o((e,t,n,r)=>{Ur(e,(Sy<<1)+(r?1:0),3),Oy(e,t,n,!0)},"_tr_stored_block$1"),Uy=o(e=>{Ur(e,Zg<<1,3),Ci(e,ff,zi),Fy(e)},"_tr_align$1"),$y=o((e,t,n,r)=>{let i,a,s=0;e.level>0?(e.strm.data_type===Ey&&(e.strm.data_type=Ny(e)),mf(e,e.l_desc),mf(e,e.d_desc),s=My(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?gp(e,t,n,r):e.strategy===by||a===i?(Ur(e,(Zg<<1)+(r?1:0),3),cp(e,zi,as)):(Ur(e,(Cy<<1)+(r?1:0),3),Ly(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),cp(e,e.dyn_ltree,e.dyn_dtree)),sp(e),r&&lp(e)},"_tr_flush_block$1"),Hy=o((e,t,n)=>(e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(ss[n]+rs+1)*2]++,e.dyn_dtree[ip(t)*2]++),e.last_lit===e.lit_bufsize-1),"_tr_tally$1");var zy=By,Wy=gp,jy=$y,Ky=Hy,qy=Uy,Vy={_tr_init:zy,_tr_stored_block:Wy,_tr_flush_block:jy,_tr_tally:Ky,_tr_align:qy},us=o((e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0},"adler32");const Gy=o(()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},"makeTable"),Zy=new Uint32Array(Gy());var yr=o((e,t,n,r)=>{const i=Zy,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1},"crc32"),Oa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ma={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Qy,_tr_stored_block:Xy,_tr_flush_block:Jy,_tr_tally:sa,_tr_align:Yy}=Vy,{Z_NO_FLUSH:La,Z_PARTIAL_FLUSH:ew,Z_FULL_FLUSH:tw,Z_FINISH:la,Z_BLOCK:pp,Z_OK:Ti,Z_STREAM_END:vp,Z_STREAM_ERROR:Xr,Z_DATA_ERROR:nw,Z_BUF_ERROR:yf,Z_DEFAULT_COMPRESSION:rw,Z_FILTERED:iw,Z_HUFFMAN_ONLY:Ll,Z_RLE:aw,Z_FIXED:ow,Z_DEFAULT_STRATEGY:sw,Z_UNKNOWN:lw,Z_DEFLATED:Nl}=Ma,uw=9,cw=15,fw=8,dw=29,wf=256+1+dw,hw=30,gw=19,pw=2*wf+1,vw=15,Rn=3,ua=258,ci=ua+Rn+1,mw=32,Bl=42,_f=69,Ul=73,$l=91,Hl=103,Na=113,cs=666,pr=1,fs=2,Ba=3,bo=4,yw=3,ca=o((e,t)=>(e.msg=Oa[t],t),"err"),mp=o(e=>(e<<1)-(e>4?9:0),"rank"),fa=o(e=>{let t=e.length;for(;--t>=0;)e[t]=0},"zero");let da=o((e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,"HASH_ZLIB");const ha=o(e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},"flush_pending"),br=o((e,t)=>{Jy(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ha(e.strm)},"flush_block_only"),Bn=o((e,t)=>{e.pending_buf[e.pending++]=t},"put_byte"),ds=o((e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},"putShortMSB"),ww=o((e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=us(e.adler,t,i,n):e.state.wrap===2&&(e.adler=yr(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},"read_buf"),yp=o((e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-ci?e.strstart-(e.w_size-ci):0,u=e.window,f=e.w_mask,y=e.prev,v=e.strstart+ua;let S=u[r+s-1],H=u[r+s];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(u[i+s]!==H||u[i+s-1]!==S||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<v);if(a=ua-(v-r),r=v-ua,a>s){if(e.match_start=t,s=a,a>=l)break;S=u[r+s-1],H=u[r+s]}}while((t=y[t&f])>c&&--n!=0);return s<=e.lookahead?s:e.lookahead},"longest_match"),Ua=o(e=>{const t=e.w_size;let n,r,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ci)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);a+=t}if(e.strm.avail_in===0)break;if(r=ww(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=Rn)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=da(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=da(e,e.ins_h,e.window[s+Rn-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Rn)););}while(e.lookahead<ci&&e.strm.avail_in!==0)},"fill_window"),_w=o((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ua(e),e.lookahead===0&&t===La)return pr;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,br(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-ci&&(br(e,!1),e.strm.avail_out===0))return pr}return e.insert=0,t===la?(br(e,!0),e.strm.avail_out===0?Ba:bo):(e.strstart>e.block_start&&(br(e,!1),e.strm.avail_out===0),pr)},"deflate_stored"),xf=o((e,t)=>{let n,r;for(;;){if(e.lookahead<ci){if(Ua(e),e.lookahead<ci&&t===La)return pr;if(e.lookahead===0)break}if(n=0,e.lookahead>=Rn&&(e.ins_h=da(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ci&&(e.match_length=yp(e,n)),e.match_length>=Rn)if(r=sa(e,e.strstart-e.match_start,e.match_length-Rn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Rn){e.match_length--;do e.strstart++,e.ins_h=da(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=da(e,e.ins_h,e.window[e.strstart+1]);else r=sa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(br(e,!1),e.strm.avail_out===0))return pr}return e.insert=e.strstart<Rn-1?e.strstart:Rn-1,t===la?(br(e,!0),e.strm.avail_out===0?Ba:bo):e.last_lit&&(br(e,!1),e.strm.avail_out===0)?pr:fs},"deflate_fast"),Eo=o((e,t)=>{let n,r,i;for(;;){if(e.lookahead<ci){if(Ua(e),e.lookahead<ci&&t===La)return pr;if(e.lookahead===0)break}if(n=0,e.lookahead>=Rn&&(e.ins_h=da(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Rn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ci&&(e.match_length=yp(e,n),e.match_length<=5&&(e.strategy===iw||e.match_length===Rn&&e.strstart-e.match_start>4096)&&(e.match_length=Rn-1)),e.prev_length>=Rn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Rn,r=sa(e,e.strstart-1-e.prev_match,e.prev_length-Rn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=da(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=Rn-1,e.strstart++,r&&(br(e,!1),e.strm.avail_out===0))return pr}else if(e.match_available){if(r=sa(e,0,e.window[e.strstart-1]),r&&br(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return pr}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=sa(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Rn-1?e.strstart:Rn-1,t===la?(br(e,!0),e.strm.avail_out===0?Ba:bo):e.last_lit&&(br(e,!1),e.strm.avail_out===0)?pr:fs},"deflate_slow"),xw=o((e,t)=>{let n,r,i,a;const s=e.window;for(;;){if(e.lookahead<=ua){if(Ua(e),e.lookahead<=ua&&t===La)return pr;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Rn&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+ua;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=ua-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Rn?(n=sa(e,1,e.match_length-Rn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=sa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(br(e,!1),e.strm.avail_out===0))return pr}return e.insert=0,t===la?(br(e,!0),e.strm.avail_out===0?Ba:bo):e.last_lit&&(br(e,!1),e.strm.avail_out===0)?pr:fs},"deflate_rle"),bw=o((e,t)=>{let n;for(;;){if(e.lookahead===0&&(Ua(e),e.lookahead===0)){if(t===La)return pr;break}if(e.match_length=0,n=sa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(br(e,!1),e.strm.avail_out===0))return pr}return e.insert=0,t===la?(br(e,!0),e.strm.avail_out===0?Ba:bo):e.last_lit&&(br(e,!1),e.strm.avail_out===0)?pr:fs},"deflate_huff");function Ii(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}o(Ii,"Config");const hs=[new Ii(0,0,0,0,_w),new Ii(4,4,8,4,xf),new Ii(4,5,16,8,xf),new Ii(4,6,32,32,xf),new Ii(4,4,16,16,Eo),new Ii(8,16,32,32,Eo),new Ii(8,16,128,128,Eo),new Ii(8,32,128,256,Eo),new Ii(32,128,258,1024,Eo),new Ii(32,258,258,4096,Eo)],Ew=o(e=>{e.window_size=2*e.w_size,fa(e.head),e.max_lazy_match=hs[e.level].max_lazy,e.good_match=hs[e.level].good_length,e.nice_match=hs[e.level].nice_length,e.max_chain_length=hs[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Rn-1,e.match_available=0,e.ins_h=0},"lm_init");function Sw(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Nl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(pw*2),this.dyn_dtree=new Uint16Array((2*hw+1)*2),this.bl_tree=new Uint16Array((2*gw+1)*2),fa(this.dyn_ltree),fa(this.dyn_dtree),fa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vw+1),this.heap=new Uint16Array(2*wf+1),fa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*wf+1),fa(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}o(Sw,"DeflateState");const wp=o(e=>{if(!e||!e.state)return ca(e,Xr);e.total_in=e.total_out=0,e.data_type=lw;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Bl:Na,e.adler=t.wrap===2?0:1,t.last_flush=La,Qy(t),Ti},"deflateResetKeep"),_p=o(e=>{const t=wp(e);return t===Ti&&Ew(e.state),t},"deflateReset"),Cw=o((e,t)=>!e||!e.state||e.state.wrap!==2?Xr:(e.state.gzhead=t,Ti),"deflateSetHeader"),xp=o((e,t,n,r,i,a)=>{if(!e)return Xr;let s=1;if(t===rw&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>uw||n!==Nl||r<8||r>15||t<0||t>9||a<0||a>ow)return ca(e,Xr);r===8&&(r=9);const l=new Sw;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Rn-1)/Rn),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,_p(e)},"deflateInit2"),Tw=o((e,t)=>xp(e,t,Nl,cw,fw,sw),"deflateInit"),Iw=o((e,t)=>{let n,r;if(!e||!e.state||t>pp||t<0)return e?ca(e,Xr):Xr;const i=e.state;if(!e.output||!e.input&&e.avail_in!==0||i.status===cs&&t!==la)return ca(e,e.avail_out===0?yf:Xr);i.strm=e;const a=i.last_flush;if(i.last_flush=t,i.status===Bl)if(i.wrap===2)e.adler=0,Bn(i,31),Bn(i,139),Bn(i,8),i.gzhead?(Bn(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Bn(i,i.gzhead.time&255),Bn(i,i.gzhead.time>>8&255),Bn(i,i.gzhead.time>>16&255),Bn(i,i.gzhead.time>>24&255),Bn(i,i.level===9?2:i.strategy>=Ll||i.level<2?4:0),Bn(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Bn(i,i.gzhead.extra.length&255),Bn(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=yr(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=_f):(Bn(i,0),Bn(i,0),Bn(i,0),Bn(i,0),Bn(i,0),Bn(i,i.level===9?2:i.strategy>=Ll||i.level<2?4:0),Bn(i,yw),i.status=Na);else{let s=Nl+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=Ll||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,s|=l<<6,i.strstart!==0&&(s|=mw),s+=31-s%31,i.status=Na,ds(i,s),i.strstart!==0&&(ds(i,e.adler>>>16),ds(i,e.adler&65535)),e.adler=1}if(i.status===_f)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=yr(e.adler,i.pending_buf,i.pending-n,n)),ha(e),n=i.pending,i.pending===i.pending_buf_size));)Bn(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=yr(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Ul)}else i.status=Ul;if(i.status===Ul)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=yr(e.adler,i.pending_buf,i.pending-n,n)),ha(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.name.length?r=i.gzhead.name.charCodeAt(i.gzindex++)&255:r=0,Bn(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=yr(e.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.gzindex=0,i.status=$l)}else i.status=$l;if(i.status===$l)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=yr(e.adler,i.pending_buf,i.pending-n,n)),ha(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.comment.length?r=i.gzhead.comment.charCodeAt(i.gzindex++)&255:r=0,Bn(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=yr(e.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.status=Hl)}else i.status=Hl;if(i.status===Hl&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ha(e),i.pending+2<=i.pending_buf_size&&(Bn(i,e.adler&255),Bn(i,e.adler>>8&255),e.adler=0,i.status=Na)):i.status=Na),i.pending!==0){if(ha(e),e.avail_out===0)return i.last_flush=-1,Ti}else if(e.avail_in===0&&mp(t)<=mp(a)&&t!==la)return ca(e,yf);if(i.status===cs&&e.avail_in!==0)return ca(e,yf);if(e.avail_in!==0||i.lookahead!==0||t!==La&&i.status!==cs){let s=i.strategy===Ll?bw(i,t):i.strategy===aw?xw(i,t):hs[i.level].func(i,t);if((s===Ba||s===bo)&&(i.status=cs),s===pr||s===Ba)return e.avail_out===0&&(i.last_flush=-1),Ti;if(s===fs&&(t===ew?Yy(i):t!==pp&&(Xy(i,0,0,!1),t===tw&&(fa(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),ha(e),e.avail_out===0))return i.last_flush=-1,Ti}return t!==la?Ti:i.wrap<=0?vp:(i.wrap===2?(Bn(i,e.adler&255),Bn(i,e.adler>>8&255),Bn(i,e.adler>>16&255),Bn(i,e.adler>>24&255),Bn(i,e.total_in&255),Bn(i,e.total_in>>8&255),Bn(i,e.total_in>>16&255),Bn(i,e.total_in>>24&255)):(ds(i,e.adler>>>16),ds(i,e.adler&65535)),ha(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Ti:vp)},"deflate$2"),Aw=o(e=>{if(!e||!e.state)return Xr;const t=e.state.status;return t!==Bl&&t!==_f&&t!==Ul&&t!==$l&&t!==Hl&&t!==Na&&t!==cs?ca(e,Xr):(e.state=null,t===Na?ca(e,nw):Ti)},"deflateEnd"),Rw=o((e,t)=>{let n=t.length;if(!e||!e.state)return Xr;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Bl||r.lookahead)return Xr;if(i===1&&(e.adler=us(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(fa(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const a=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ua(r);r.lookahead>=Rn;){let c=r.strstart,u=r.lookahead-(Rn-1);do r.ins_h=da(r,r.ins_h,r.window[c+Rn-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Rn-1,Ua(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Rn-1,r.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,r.wrap=i,Ti},"deflateSetDictionary");var Dw=Tw,Fw=xp,kw=_p,Pw=wp,Ow=Cw,Mw=Iw,Lw=Aw,Nw=Rw,Bw="pako deflate (from Nodeca project)",gs={deflateInit:Dw,deflateInit2:Fw,deflateReset:kw,deflateResetKeep:Pw,deflateSetHeader:Ow,deflate:Mw,deflateEnd:Lw,deflateSetDictionary:Nw,deflateInfo:Bw};const Uw=o((e,t)=>Object.prototype.hasOwnProperty.call(e,t),"_has");var $w=o(function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Uw(n,r)&&(e[r]=n[r])}}return e},"pako_esm_assign"),Hw=o(e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];n.set(s,i),i+=s.length}return n},"flattenChunks"),zl={assign:$w,flattenChunks:Hw};let bp=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){bp=!1}const ps=new Uint8Array(256);for(let e=0;e<256;e++)ps[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ps[254]=ps[254]=1;var zw=o(e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,s=e.length,l=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t},"string2buf");const Ww=o((e,t)=>{if(t<65534&&e.subarray&&bp)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},"buf2binstring");var jw=o((e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){a[i++]=s;continue}let l=ps[s];if(l>4){a[i++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<n;)s=s<<6|e[r++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Ww(a,i)},"buf2string"),Kw=o((e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)==128;)n--;return n<0||n===0?t:n+ps[e[n]]>t?n:t},"utf8border"),vs={string2buf:zw,buf2string:jw,utf8border:Kw};function qw(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}o(qw,"ZStream");var Ep=qw;const Sp=Object.prototype.toString,{Z_NO_FLUSH:Vw,Z_SYNC_FLUSH:Gw,Z_FULL_FLUSH:Zw,Z_FINISH:Qw,Z_OK:Wl,Z_STREAM_END:Xw,Z_DEFAULT_COMPRESSION:Jw,Z_DEFAULT_STRATEGY:Yw,Z_DEFLATED:e_}=Ma;function ms(e){this.options=zl.assign({level:Jw,method:e_,chunkSize:16384,windowBits:15,memLevel:8,strategy:Yw},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ep,this.strm.avail_out=0;let n=gs.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Wl)throw new Error(Oa[n]);if(t.header&&gs.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=vs.string2buf(t.dictionary):Sp.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=gs.deflateSetDictionary(this.strm,r),n!==Wl)throw new Error(Oa[n]);this._dict_set=!0}}o(ms,"Deflate$1"),ms.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Qw:Vw,typeof e=="string"?n.input=vs.string2buf(e):Sp.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===Gw||a===Zw)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=gs.deflate(n,a),i===Xw)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=gs.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Wl;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},ms.prototype.onData=function(e){this.chunks.push(e)},ms.prototype.onEnd=function(e){e===Wl&&(this.result=zl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function bf(e,t){const n=new ms(t);if(n.push(e,!0),n.err)throw n.msg||Oa[n.err];return n.result}o(bf,"deflate$1");function t_(e,t){return t=t||{},t.raw=!0,bf(e,t)}o(t_,"deflateRaw$1");function n_(e,t){return t=t||{},t.gzip=!0,bf(e,t)}o(n_,"gzip$1");var r_=ms,i_=bf,a_=t_,o_=n_,s_=Ma,l_={Deflate:r_,deflate:i_,deflateRaw:a_,gzip:o_,constants:s_};const jl=30,u_=12;var c_=o(function(t,n){let r,i,a,s,l,c,u,f,y,v,S,H,Z,U,q,ne,fe,se,be,rt,Ue,ke,wt,Fe;const Ct=t.state;r=t.next_in,wt=t.input,i=r+(t.avail_in-5),a=t.next_out,Fe=t.output,s=a-(n-t.avail_out),l=a+(t.avail_out-257),c=Ct.dmax,u=Ct.wsize,f=Ct.whave,y=Ct.wnext,v=Ct.window,S=Ct.hold,H=Ct.bits,Z=Ct.lencode,U=Ct.distcode,q=(1<<Ct.lenbits)-1,ne=(1<<Ct.distbits)-1;e:do{H<15&&(S+=wt[r++]<<H,H+=8,S+=wt[r++]<<H,H+=8),fe=Z[S&q];t:for(;;){if(se=fe>>>24,S>>>=se,H-=se,se=fe>>>16&255,se===0)Fe[a++]=fe&65535;else if(se&16){be=fe&65535,se&=15,se&&(H<se&&(S+=wt[r++]<<H,H+=8),be+=S&(1<<se)-1,S>>>=se,H-=se),H<15&&(S+=wt[r++]<<H,H+=8,S+=wt[r++]<<H,H+=8),fe=U[S&ne];n:for(;;){if(se=fe>>>24,S>>>=se,H-=se,se=fe>>>16&255,se&16){if(rt=fe&65535,se&=15,H<se&&(S+=wt[r++]<<H,H+=8,H<se&&(S+=wt[r++]<<H,H+=8)),rt+=S&(1<<se)-1,rt>c){t.msg="invalid distance too far back",Ct.mode=jl;break e}if(S>>>=se,H-=se,se=a-s,rt>se){if(se=rt-se,se>f&&Ct.sane){t.msg="invalid distance too far back",Ct.mode=jl;break e}if(Ue=0,ke=v,y===0){if(Ue+=u-se,se<be){be-=se;do Fe[a++]=v[Ue++];while(--se);Ue=a-rt,ke=Fe}}else if(y<se){if(Ue+=u+y-se,se-=y,se<be){be-=se;do Fe[a++]=v[Ue++];while(--se);if(Ue=0,y<be){se=y,be-=se;do Fe[a++]=v[Ue++];while(--se);Ue=a-rt,ke=Fe}}}else if(Ue+=y-se,se<be){be-=se;do Fe[a++]=v[Ue++];while(--se);Ue=a-rt,ke=Fe}for(;be>2;)Fe[a++]=ke[Ue++],Fe[a++]=ke[Ue++],Fe[a++]=ke[Ue++],be-=3;be&&(Fe[a++]=ke[Ue++],be>1&&(Fe[a++]=ke[Ue++]))}else{Ue=a-rt;do Fe[a++]=Fe[Ue++],Fe[a++]=Fe[Ue++],Fe[a++]=Fe[Ue++],be-=3;while(be>2);be&&(Fe[a++]=Fe[Ue++],be>1&&(Fe[a++]=Fe[Ue++]))}}else if((se&64)==0){fe=U[(fe&65535)+(S&(1<<se)-1)];continue n}else{t.msg="invalid distance code",Ct.mode=jl;break e}break}}else if((se&64)==0){fe=Z[(fe&65535)+(S&(1<<se)-1)];continue t}else if(se&32){Ct.mode=u_;break e}else{t.msg="invalid literal/length code",Ct.mode=jl;break e}break}}while(r<i&&a<l);be=H>>3,r-=be,H-=be<<3,S&=(1<<H)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<l?257+(l-a):257-(a-l),Ct.hold=S,Ct.bits=H},"inflate_fast");const So=15,Cp=852,Tp=592,Ip=0,Ef=1,Ap=2,f_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),d_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),h_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),g_=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ys=o((e,t,n,r,i,a,s,l)=>{const c=l.bits;let u=0,f=0,y=0,v=0,S=0,H=0,Z=0,U=0,q=0,ne=0,fe,se,be,rt,Ue,ke=null,wt=0,Fe;const Ct=new Uint16Array(So+1),on=new Uint16Array(So+1);let Mn=null,Se=0,ft,bt,Et;for(u=0;u<=So;u++)Ct[u]=0;for(f=0;f<r;f++)Ct[t[n+f]]++;for(S=c,v=So;v>=1&&Ct[v]===0;v--);if(S>v&&(S=v),v===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(y=1;y<v&&Ct[y]===0;y++);for(S<y&&(S=y),U=1,u=1;u<=So;u++)if(U<<=1,U-=Ct[u],U<0)return-1;if(U>0&&(e===Ip||v!==1))return-1;for(on[1]=0,u=1;u<So;u++)on[u+1]=on[u]+Ct[u];for(f=0;f<r;f++)t[n+f]!==0&&(s[on[t[n+f]]++]=f);if(e===Ip?(ke=Mn=s,Fe=19):e===Ef?(ke=f_,wt-=257,Mn=d_,Se-=257,Fe=256):(ke=h_,Mn=g_,Fe=-1),ne=0,f=0,u=y,Ue=a,H=S,Z=0,be=-1,q=1<<S,rt=q-1,e===Ef&&q>Cp||e===Ap&&q>Tp)return 1;for(;;){ft=u-Z,s[f]<Fe?(bt=0,Et=s[f]):s[f]>Fe?(bt=Mn[Se+s[f]],Et=ke[wt+s[f]]):(bt=32+64,Et=0),fe=1<<u-Z,se=1<<H,y=se;do se-=fe,i[Ue+(ne>>Z)+se]=ft<<24|bt<<16|Et|0;while(se!==0);for(fe=1<<u-1;ne&fe;)fe>>=1;if(fe!==0?(ne&=fe-1,ne+=fe):ne=0,f++,--Ct[u]==0){if(u===v)break;u=t[n+s[f]]}if(u>S&&(ne&rt)!==be){for(Z===0&&(Z=S),Ue+=y,H=u-Z,U=1<<H;H+Z<v&&(U-=Ct[H+Z],!(U<=0));)H++,U<<=1;if(q+=1<<H,e===Ef&&q>Cp||e===Ap&&q>Tp)return 1;be=ne&rt,i[be]=S<<24|H<<16|Ue-a|0}}return ne!==0&&(i[Ue+ne]=u-Z<<24|64<<16|0),l.bits=S,0},"inflate_table");const p_=0,Rp=1,Dp=2,{Z_FINISH:Fp,Z_BLOCK:v_,Z_TREES:Kl,Z_OK:$a,Z_STREAM_END:m_,Z_NEED_DICT:y_,Z_STREAM_ERROR:Jr,Z_DATA_ERROR:kp,Z_MEM_ERROR:Pp,Z_BUF_ERROR:w_,Z_DEFLATED:Op}=Ma,Mp=1,Lp=2,Np=3,Bp=4,Up=5,$p=6,Hp=7,zp=8,Wp=9,jp=10,ql=11,Wi=12,Sf=13,Kp=14,Cf=15,qp=16,Vp=17,Gp=18,Zp=19,Vl=20,Gl=21,Qp=22,Xp=23,Jp=24,Yp=25,e0=26,Tf=27,t0=28,n0=29,ir=30,r0=31,__=32,x_=852,b_=592,E_=15,i0=o(e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24),"zswap32");function S_(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}o(S_,"InflateState");const a0=o(e=>{if(!e||!e.state)return Jr;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Mp,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(x_),t.distcode=t.distdyn=new Int32Array(b_),t.sane=1,t.back=-1,$a},"inflateResetKeep"),o0=o(e=>{if(!e||!e.state)return Jr;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,a0(e)},"inflateReset"),s0=o((e,t)=>{let n;if(!e||!e.state)return Jr;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?Jr:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,o0(e))},"inflateReset2"),l0=o((e,t)=>{if(!e)return Jr;const n=new S_;e.state=n,n.window=null;const r=s0(e,t);return r!==$a&&(e.state=null),r},"inflateInit2"),C_=o(e=>l0(e,E_),"inflateInit");let u0=!0,If,Af;const T_=o(e=>{if(u0){If=new Int32Array(512),Af=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ys(Rp,e.lens,0,288,If,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ys(Dp,e.lens,0,32,Af,0,e.work,{bits:5}),u0=!1}e.lencode=If,e.lenbits=9,e.distcode=Af,e.distbits=5},"fixedtables"),c0=o((e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},"updatewindow"),I_=o((e,t)=>{let n,r,i,a,s,l,c,u,f,y,v,S,H,Z,U=0,q,ne,fe,se,be,rt,Ue,ke;const wt=new Uint8Array(4);let Fe,Ct;const on=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Jr;n=e.state,n.mode===Wi&&(n.mode=Sf),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,f=n.bits,y=l,v=c,ke=$a;e:for(;;)switch(n.mode){case Mp:if(n.wrap===0){n.mode=Sf;break}for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.wrap&2&&u===35615){n.check=0,wt[0]=u&255,wt[1]=u>>>8&255,n.check=yr(n.check,wt,2,0),u=0,f=0,n.mode=Lp;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=ir;break}if((u&15)!==Op){e.msg="unknown compression method",n.mode=ir;break}if(u>>>=4,f-=4,Ue=(u&15)+8,n.wbits===0)n.wbits=Ue;else if(Ue>n.wbits){e.msg="invalid window size",n.mode=ir;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=u&512?jp:Wi,u=0,f=0;break;case Lp:for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==Op){e.msg="unknown compression method",n.mode=ir;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=ir;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&(wt[0]=u&255,wt[1]=u>>>8&255,n.check=yr(n.check,wt,2,0)),u=0,f=0,n.mode=Np;case Np:for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&(wt[0]=u&255,wt[1]=u>>>8&255,wt[2]=u>>>16&255,wt[3]=u>>>24&255,n.check=yr(n.check,wt,4,0)),u=0,f=0,n.mode=Bp;case Bp:for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&(wt[0]=u&255,wt[1]=u>>>8&255,n.check=yr(n.check,wt,2,0)),u=0,f=0,n.mode=Up;case Up:if(n.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&(wt[0]=u&255,wt[1]=u>>>8&255,n.check=yr(n.check,wt,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=$p;case $p:if(n.flags&1024&&(S=n.length,S>l&&(S=l),S&&(n.head&&(Ue=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+S),Ue)),n.flags&512&&(n.check=yr(n.check,r,S,a)),l-=S,a+=S,n.length-=S),n.length))break e;n.length=0,n.mode=Hp;case Hp:if(n.flags&2048){if(l===0)break e;S=0;do Ue=r[a+S++],n.head&&Ue&&n.length<65536&&(n.head.name+=String.fromCharCode(Ue));while(Ue&&S<l);if(n.flags&512&&(n.check=yr(n.check,r,S,a)),l-=S,a+=S,Ue)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=zp;case zp:if(n.flags&4096){if(l===0)break e;S=0;do Ue=r[a+S++],n.head&&Ue&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ue));while(Ue&&S<l);if(n.flags&512&&(n.check=yr(n.check,r,S,a)),l-=S,a+=S,Ue)break e}else n.head&&(n.head.comment=null);n.mode=Wp;case Wp:if(n.flags&512){for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=ir;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Wi;break;case jp:for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}e.adler=n.check=i0(u),u=0,f=0,n.mode=ql;case ql:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,y_;e.adler=n.check=1,n.mode=Wi;case Wi:if(t===v_||t===Kl)break e;case Sf:if(n.last){u>>>=f&7,f-=f&7,n.mode=Tf;break}for(;f<3;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=Kp;break;case 1:if(T_(n),n.mode=Vl,t===Kl){u>>>=2,f-=2;break e}break;case 2:n.mode=Vp;break;case 3:e.msg="invalid block type",n.mode=ir}u>>>=2,f-=2;break;case Kp:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if((u&65535)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ir;break}if(n.length=u&65535,u=0,f=0,n.mode=Cf,t===Kl)break e;case Cf:n.mode=qp;case qp:if(S=n.length,S){if(S>l&&(S=l),S>c&&(S=c),S===0)break e;i.set(r.subarray(a,a+S),s),l-=S,a+=S,c-=S,s+=S,n.length-=S;break}n.mode=Wi;break;case Vp:for(;f<14;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ir;break}n.have=0,n.mode=Gp;case Gp:for(;n.have<n.ncode;){for(;f<3;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.lens[on[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[on[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Fe={bits:n.lenbits},ke=ys(p_,n.lens,0,19,n.lencode,0,n.work,Fe),n.lenbits=Fe.bits,ke){e.msg="invalid code lengths set",n.mode=ir;break}n.have=0,n.mode=Zp;case Zp:for(;n.have<n.nlen+n.ndist;){for(;U=n.lencode[u&(1<<n.lenbits)-1],q=U>>>24,ne=U>>>16&255,fe=U&65535,!(q<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(fe<16)u>>>=q,f-=q,n.lens[n.have++]=fe;else{if(fe===16){for(Ct=q+2;f<Ct;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(u>>>=q,f-=q,n.have===0){e.msg="invalid bit length repeat",n.mode=ir;break}Ue=n.lens[n.have-1],S=3+(u&3),u>>>=2,f-=2}else if(fe===17){for(Ct=q+3;f<Ct;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=q,f-=q,Ue=0,S=3+(u&7),u>>>=3,f-=3}else{for(Ct=q+7;f<Ct;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=q,f-=q,Ue=0,S=11+(u&127),u>>>=7,f-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ir;break}for(;S--;)n.lens[n.have++]=Ue}}if(n.mode===ir)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=ir;break}if(n.lenbits=9,Fe={bits:n.lenbits},ke=ys(Rp,n.lens,0,n.nlen,n.lencode,0,n.work,Fe),n.lenbits=Fe.bits,ke){e.msg="invalid literal/lengths set",n.mode=ir;break}if(n.distbits=6,n.distcode=n.distdyn,Fe={bits:n.distbits},ke=ys(Dp,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Fe),n.distbits=Fe.bits,ke){e.msg="invalid distances set",n.mode=ir;break}if(n.mode=Vl,t===Kl)break e;case Vl:n.mode=Gl;case Gl:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,c_(e,v),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,f=n.bits,n.mode===Wi&&(n.back=-1);break}for(n.back=0;U=n.lencode[u&(1<<n.lenbits)-1],q=U>>>24,ne=U>>>16&255,fe=U&65535,!(q<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(ne&&(ne&240)==0){for(se=q,be=ne,rt=fe;U=n.lencode[rt+((u&(1<<se+be)-1)>>se)],q=U>>>24,ne=U>>>16&255,fe=U&65535,!(se+q<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=se,f-=se,n.back+=se}if(u>>>=q,f-=q,n.back+=q,n.length=fe,ne===0){n.mode=e0;break}if(ne&32){n.back=-1,n.mode=Wi;break}if(ne&64){e.msg="invalid literal/length code",n.mode=ir;break}n.extra=ne&15,n.mode=Qp;case Qp:if(n.extra){for(Ct=n.extra;f<Ct;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Xp;case Xp:for(;U=n.distcode[u&(1<<n.distbits)-1],q=U>>>24,ne=U>>>16&255,fe=U&65535,!(q<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if((ne&240)==0){for(se=q,be=ne,rt=fe;U=n.distcode[rt+((u&(1<<se+be)-1)>>se)],q=U>>>24,ne=U>>>16&255,fe=U&65535,!(se+q<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=se,f-=se,n.back+=se}if(u>>>=q,f-=q,n.back+=q,ne&64){e.msg="invalid distance code",n.mode=ir;break}n.offset=fe,n.extra=ne&15,n.mode=Jp;case Jp:if(n.extra){for(Ct=n.extra;f<Ct;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ir;break}n.mode=Yp;case Yp:if(c===0)break e;if(S=v-c,n.offset>S){if(S=n.offset-S,S>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ir;break}S>n.wnext?(S-=n.wnext,H=n.wsize-S):H=n.wnext-S,S>n.length&&(S=n.length),Z=n.window}else Z=i,H=s-n.offset,S=n.length;S>c&&(S=c),c-=S,n.length-=S;do i[s++]=Z[H++];while(--S);n.length===0&&(n.mode=Gl);break;case e0:if(c===0)break e;i[s++]=n.length,c--,n.mode=Gl;break;case Tf:if(n.wrap){for(;f<32;){if(l===0)break e;l--,u|=r[a++]<<f,f+=8}if(v-=c,e.total_out+=v,n.total+=v,v&&(e.adler=n.check=n.flags?yr(n.check,i,v,s-v):us(n.check,i,v,s-v)),v=c,(n.flags?u:i0(u))!==n.check){e.msg="incorrect data check",n.mode=ir;break}u=0,f=0}n.mode=t0;case t0:if(n.wrap&&n.flags){for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=ir;break}u=0,f=0}n.mode=n0;case n0:ke=m_;break e;case ir:ke=kp;break e;case r0:return Pp;case __:default:return Jr}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,(n.wsize||v!==e.avail_out&&n.mode<ir&&(n.mode<Tf||t!==Fp))&&c0(e,e.output,e.next_out,v-e.avail_out),y-=e.avail_in,v-=e.avail_out,e.total_in+=y,e.total_out+=v,n.total+=v,n.wrap&&v&&(e.adler=n.check=n.flags?yr(n.check,i,v,e.next_out-v):us(n.check,i,v,e.next_out-v)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Wi?128:0)+(n.mode===Vl||n.mode===Cf?256:0),(y===0&&v===0||t===Fp)&&ke===$a&&(ke=w_),ke},"inflate$2"),A_=o(e=>{if(!e||!e.state)return Jr;let t=e.state;return t.window&&(t.window=null),e.state=null,$a},"inflateEnd"),R_=o((e,t)=>{if(!e||!e.state)return Jr;const n=e.state;return(n.wrap&2)==0?Jr:(n.head=t,t.done=!1,$a)},"inflateGetHeader"),D_=o((e,t)=>{const n=t.length;let r,i,a;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==ql)?Jr:r.mode===ql&&(i=1,i=us(i,t,n,0),i!==r.check)?kp:(a=c0(e,t,n,n),a?(r.mode=r0,Pp):(r.havedict=1,$a))},"inflateSetDictionary");var F_=o0,k_=s0,P_=a0,O_=C_,M_=l0,L_=I_,N_=A_,B_=R_,U_=D_,$_="pako inflate (from Nodeca project)",ji={inflateReset:F_,inflateReset2:k_,inflateResetKeep:P_,inflateInit:O_,inflateInit2:M_,inflate:L_,inflateEnd:N_,inflateGetHeader:B_,inflateSetDictionary:U_,inflateInfo:$_};function H_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}o(H_,"GZheader");var z_=H_;const f0=Object.prototype.toString,{Z_NO_FLUSH:W_,Z_FINISH:j_,Z_OK:ws,Z_STREAM_END:Rf,Z_NEED_DICT:Df,Z_STREAM_ERROR:K_,Z_DATA_ERROR:d0,Z_MEM_ERROR:q_}=Ma;function _s(e){this.options=zl.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ep,this.strm.avail_out=0;let n=ji.inflateInit2(this.strm,t.windowBits);if(n!==ws)throw new Error(Oa[n]);if(this.header=new z_,ji.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=vs.string2buf(t.dictionary):f0.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ji.inflateSetDictionary(this.strm,t.dictionary),n!==ws)))throw new Error(Oa[n])}o(_s,"Inflate$1"),_s.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?j_:W_,f0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=ji.inflate(n,s),a===Df&&i&&(a=ji.inflateSetDictionary(n,i),a===ws?a=ji.inflate(n,s):a===d0&&(a=Df));n.avail_in>0&&a===Rf&&n.state.wrap>0&&e[n.next_in]!==0;)ji.inflateReset(n),a=ji.inflate(n,s);switch(a){case K_:case d0:case Df:case q_:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===Rf))if(this.options.to==="string"){let c=vs.utf8border(n.output,n.next_out),u=n.next_out-c,f=vs.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===ws&&l===0)){if(a===Rf)return a=ji.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},_s.prototype.onData=function(e){this.chunks.push(e)},_s.prototype.onEnd=function(e){e===ws&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ff(e,t){const n=new _s(t);if(n.push(e),n.err)throw n.msg||Oa[n.err];return n.result}o(Ff,"inflate$1");function V_(e,t){return t=t||{},t.raw=!0,Ff(e,t)}o(V_,"inflateRaw$1");var G_=_s,Z_=Ff,Q_=V_,X_=Ff,J_=Ma,Y_={Inflate:G_,inflate:Z_,inflateRaw:Q_,ungzip:X_,constants:J_};const{Deflate:ex,deflate:tx,deflateRaw:nx,gzip:rx}=l_,{Inflate:ix,inflate:ax,inflateRaw:ox,ungzip:sx}=Y_;var lx=ex,ux=tx,cx=nx,fx=rx,dx=ix,hx=ax,gx=ox,h0=sx,px=Ma,N1={Deflate:lx,deflate:ux,deflateRaw:cx,gzip:fx,Inflate:dx,inflate:hx,inflateRaw:gx,ungzip:h0,constants:px},xs;(function(e){e.HasVirtualFolders="remoteHub:hasVirtualFolders",e.VirtualFolderProviders="remoteHub:virtualFolderProviders",e.HasRecentRepositories="remoteHub:hasRecentRepositories",e.HasSearchIndexes="gitHub:hasSearchIndexes",e.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",e.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",e.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(xs||(xs={}));const g0=new Map;function B1(e){return e==="isWeb"?isWeb:e==="remoteName"?env.remoteName:e==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():e.startsWith("config.")?configuration.getAny(e.substring(7)):g0.get(e)}o(B1,"getContext");function U1(e){return e==="isWeb"||e==="remoteName"||e==="virtualWorkspace"||e.startsWith("config.")||e.startsWith("remoteHub:")||e.startsWith("continueOn:")}o(U1,"isSupportedContextKey");async function kf(e,t){g0.set(e,t),!e.startsWith("continueOn:")&&await d.commands.executeCommand("setContext",e,t)}o(kf,"setContext");class Pf{constructor(t){this.bytes=t,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(t){const n=this.byteIndexCurrent;return this.byteIndexCurrent+=t,this.bytes.slice(n,this.byteIndexCurrent)}readByte(){const t=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,t}readString(t){const n=[],r=this.byteIndexCurrent+t;let i=this.byteIndexCurrent;for(;i<r;){const a=this.bytes[i++];if(a===0)break;let s=0,l=0;if((a&128)==0)s=a,l=0;else if((a&224)==192)s=a&31,l=1;else if((a&240)==224)s=a&15,l=2;else if((a&248)==240)s=a&7,l=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${a.toString(2)} at offset ${i}`);for(;l>0;){const c=this.bytes[i++];if((c&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${c.toString(2)} at offset ${i}`);s=s<<6|c&63,l--}n.push(String.fromCodePoint(s))}return this.byteIndexCurrent=r,n.join("")}}o(Pf,"ByteStream");class Ir{constructor(t,n){this.value=t,this.id=`_${this.value}`,this.name=n}static Instances(){return Ir._instances==null&&(Ir._instances=new p0),Ir._instances}}o(Ir,"TarFileTypeFlag");class p0{constructor(){this.Normal=new Ir("0","Normal"),this.HardLink=new Ir("1","Hard Link"),this.SymbolicLink=new Ir("2","Symbolic Link"),this.CharacterSpecial=new Ir("3","Character Special"),this.BlockSpecial=new Ir("4","Block Special"),this.Directory=new Ir("5","Directory"),this.FIFO=new Ir("6","FIFO"),this.ContiguousFile=new Ir("7","Contiguous File"),this.LongFilePath=new Ir("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let t=0;t<this._All.length;t++){const n=this._All[t];this._All[n.id]=n}}}o(p0,"TarFileTypeFlag_Instances");class Zl{constructor(t,n,r,i,a,s,l,c,u,f,y,v,S,H,Z,U){this.fileName=t,this.fileMode=n,this.userIDOfOwner=r,this.userIDOfGroup=i,this.fileSizeInBytes=a,this.timeModifiedInUnixFormat=s,this.checksum=l,this.typeFlag=c,this.nameOfLinkedFile=u,this.uStarIndicator=f,this.uStarVersion=y,this.userNameOfOwner=v,this.groupNameOfOwner=S,this.deviceNumberMajor=H,this.deviceNumberMinor=Z,this.filenamePrefix=U,this.fullFileName=U.length?U.endsWith("/")?U+t:`${U}/${t}`:t}static fromBytes(t){const n=new Pf(t),r=n.readString(100).trim(),i=n.readString(8),a=n.readString(8),s=n.readString(8),l=n.readString(12),c=n.readBytes(12),u=n.readString(8),f=n.readString(1),y=n.readString(100),v=n.readString(6),S=n.readString(2),H=n.readString(32),Z=n.readString(32),U=n.readString(8),q=n.readString(8),ne=n.readString(155),fe=n.readBytes(12),se=parseInt(l.trim(),8),be=parseInt(u,8),rt=Ir.Instances()._All,Ue=`_${f}`,ke=rt[Ue];return new Zl(r,i,a,s,se,c,be,ke,y,v,S,H,Z,U,q,ne)}}o(Zl,"TarFileEntryHeader");const v0=512;class Ql{constructor(t,n){this.header=t,this.dataAsBytes=n}static fromBytes(t,n){const r=v0,i=Zl.fromBytes(t),a=i.fileSizeInBytes,l=Math.ceil(a/r)*r,c=n.readBytes(l).slice(0,a);return new Ql(i,c)}}o(Ql,"TarFileEntry");class Xl{constructor(t){var n;this.entries=t,this.consolidateLongPathEntries();for(const r of this.entries)((n=r.header.typeFlag)==null?void 0:n.name)==="Normal"&&(r.header.fullFileName=r.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const r of this.entries)this.entryMap.set(r.header.fullFileName,r)}static async fromBytes(t){const n=new Pf(t),r=[],i=v0;let a=0,s=0;for(;n.hasMoreBytes()==!0;){++a%1e3==0&&await new Promise(u=>setTimeout(u,10));const l=n.readBytes(i);let c=!0;for(let u=0;u<l.length;u++)if(l[u]!=0){c=!1;break}if(c==!0){if(s++,s==2)break}else{s=0;const u=Ql.fromBytes(l,n);r.push(u)}}return new Xl(r)}consolidateLongPathEntries(){var t;const n=Ir.Instances().LongFilePath.name,r=this.entries;for(let i=0;i<r.length;i++){const a=r[i];if(((t=a.header.typeFlag)==null?void 0:t.name)==n){const s=r[i+1];s.header.fileName=a.dataAsBytes.reduce((l,c)=>l+=String.fromCharCode(c),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),r.splice(i,1),i--}}}}o(Xl,"TarFile");const vx=o(e=>Xl.fromBytes(e),"readTar"),Jl=new TextDecoder,Of=new TextEncoder;class m0{constructor(t,n=0){this.retainFor=n;try{this.weakRef=new WeakRef(t)}catch{}this.retain(t)}retain(t){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=t,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var t,n;const r=(n=this.strongRef)!=null?n:(t=this.weakRef)==null?void 0:t.deref();return r&&this.retain(r),r}}o(m0,"TimedRetainingRef");class y0{constructor(t,n){this.root=t,this.providerService=n,this._onDidChangeIndexingEnablement=new d.EventEmitter,this._onDidDownloadTar=new d.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=d.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=d.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=d.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await kf(xs.HasSearchIndexes,(await this.listTars()).length>0);const t=this.providerService.repositories.map(i=>i.name),n=await this.getIndexingEnabledRepos(),r=n.has("*")||t.every(i=>n.has(i));await kf(xs.EnabledSomeSearchIndexes,n.size>0),await kf(xs.EnabledAllSearchIndexes,r)}dispose(){this._disposable.dispose()}registerCommands(){return[d.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),d.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),d.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),d.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const t=o(i=>{const a=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of a)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),n=await this.listTars();if(n.length===0){await d.window.showInformationMessage("No Repository Indexes Found");return}const r=d.window.createQuickPick();r.canSelectMany=!0,r.items=n.map(({name:i,size:a,path:s})=>({label:i,path:s,description:a?t(a):void 0})),r.show(),r.onDidAccept(async()=>{r.hide();for(const{label:i,path:a}of r.selectedItems){const s=d.workspace.fs.delete(a),l=d.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,l.dispose()}this.updateContext()}),r.onDidHide(()=>r.dispose())}),d.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>d.window.withProgress({location:d.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([d.workspace.fs.delete(this.root,{recursive:!0})])}catch(t){xe.error(t)}finally{this.updateContext()}}))]}getTarFromMemory(t){var n;if(xe.debug(`TarPit.getTarFromMemory(key=${t})`),t===this.lastReadKey){const r=(n=this.lastReadValue)==null?void 0:n.deref();if(r)return r;xe.log("Weakref deallocated.")}}async getTarFromDisk(t){try{const n=await d.workspace.fs.readFile(t);return!n||!n.length?void 0:n}catch(n){(!(n instanceof d.FileSystemError)||n.code!==d.FileSystemError.FileNotFound.name)&&(d.window.showWarningMessage(d.l10n.t("Unexpected error reading index from disk, attempting to reload from network")),xe.error(n,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(t,n,r){try{const i=await this.isIndexingEnabledForRepo(t);try{if(i){const a=await this.providerService.getTarGz(t,n);if(a)return a}else if(i===void 0){const a=Ye.get("indexing.maxIndexSize");if(a===null)throw new d.CancellationError;if(a){const s=await this.providerService.getTarGz(t,n,a*1024*1024);if(s)return s}}}catch(a){if(a instanceof d.CancellationError)throw await this.markIndexingEnablementForRepos(!1),a;if(a instanceof Error&&a.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw a}if(!r){const a={id:"configure",title:d.l10n.t("Configure Limit")},s={id:"continue",title:d.l10n.t("Continue"),isCloseAffordance:!0};d.window.showInformationMessage(d.l10n.t("Repository exceeds download size limit! Continuing with partial text services."),a,s).then(async l=>{l===a&&await d.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(r){const a={id:"no",title:d.l10n.t("Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:d.l10n.t("Configure")},l={id:"repo",title:d.l10n.t("Download Full Contents")},c=Ye.get("indexing.maxIndexSize"),u=c!==null?`${c.toString()}\xA0MB`:"null";switch(await d.window.showWarningMessage(d.l10n.t("This repository exceeds the download size limit ({0}).",u),{modal:!0,detail:d.l10n.t("Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",u)},a,l,s)){case l:{await this.markIndexingEnablementForRepos(!0);try{const y=await this.providerService.getTarGz(t,n);if(y)return y}catch(y){y instanceof d.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await d.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case a:await this.markIndexingEnablementForRepos(!1)}}throw new d.CancellationError}finally{this.updateContext()}}async getTar(t,n,r){r===void 0&&({HEAD:{sha:r}}=await this.providerService.getMetadata(t));const i=this.getTarStorageUri(t,r),a=await this.getTarCacheKey(t,r);try{let s=this.ongoingNetworkRequests.get(a);return s===void 0&&(s=this.getTarCore(t,r,i,{blocking:n}),this.ongoingNetworkRequests.set(a,s),this.ongoingDiskRequests.set(a,s)),await s}finally{this.ongoingNetworkRequests.delete(a),this.ongoingDiskRequests.delete(a)}}async getInMemoryTar(t,n){return xe.debug(`TarPit.getInMemoryTar(rootUri=${t.toString()}, ref=${n==null?void 0:n.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(t,n))}async getCachedTar(t,n){var r;const i=await this.getTarCacheKey(t,n),a=this.getTarStorageUri(t,n);try{let s=(r=this.ongoingDiskRequests.get(i))!=null?r:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(t,n,a,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(t,n,r,i){const a=this.providerService.getCanonicalUri(t),s=`${I(a,{excludeScheme:!0})}/${n}`,l=new j(`TarPit.getTar(${s})`),c=await this.getTarCacheKey(t,n),u=Date.now();let f,y;try{if(l.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),y=this.getTarFromMemory(c),y)return f=" \u2022 Got .tar from memory",y;l.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let v=!1,S=await this.getTarFromDisk(r);if(S==null?void 0:S.length)f=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){f=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(t)===!1)throw f=" \u2022 Downloading disabled",new d.CancellationError;l.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),S=await this.getTarFromNetwork(t,n,i.blocking),v=!0,f=" \u2022 Got .tar from network",d.workspace.fs.writeFile(r,S).then(()=>xe.debug(`Sucessfully wrote tarball to disk in ${Date.now()-u}ms`),Z=>xe.error(Z,`Error writing tarball to disk in ${Date.now()-u}ms`))}if(!(S==null?void 0:S.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");l.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const H=h0(S);return y=await vx(H),l.stop({message:"Finished getting tar"}),this.lastReadValue=new m0(y,10*(Date.now()-u)),this.lastReadKey=c,v&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:t,sha:n}),0),y}catch(v){throw f=` \u2022 Failed; ${String(v)}`,v}finally{y&&(this.markCacheEntryUsed(`${s}`).catch(v=>xe.log(`Error marking entry used: ${v}`)),this.cleanUpCache().catch(v=>xe.log(`Error cleaning cache: ${v}`))),l.stop(f?{suffix:f}:void 0)}}async getTarCacheKey(t,n){return n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(t)),this.getTarStorageUri(t,n).toString()}getTarStorageUri(t,n){return d.Uri.joinPath(this.root,"tars",I(this.providerService.getCanonicalUri(t),{excludeScheme:!0}),n)}async readDir(t){try{return(await d.workspace.fs.readDirectory(t)).map(n=>d.Uri.joinPath(t,n[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(t){if(this.indexingDisabled)return!1;const n=await this.getIndexingEnabledRepos();if(n.has("*"))return!0;const{name:r}=this.providerService.getVirtualUriMetadata(t);if(!!r){if(n.has(r))return!0;if(n.has(`-${r}`))return!1}}async configureIndexingAllowedRepos(){const t=[...(await this.getIndexingEnabledRepos()).values()],n=await d.window.showQuickPick(t.map(r=>({picked:!0,label:r.startsWith("-")?`${d.l10n.t("Disallowed:")} ${r.slice(1)}`:`${d.l10n.t("Allowed:")} ${r}`})),{canPickMany:!0,title:d.l10n.t("Repository index allowance overrides")});n&&await this.writeIndexEnablementData(n.map(r=>r.label))}async getIndexingEnabledRepos(){let t;try{t=JSON.parse(Jl.decode(await d.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(n){n instanceof d.FileSystemError&&n.code!==d.FileSystemError.FileNotFound().code&&xe.error(n,"Error reading index allowance data."),t=[]}return new Set(t)}async listTars(){const t=await this.readDir(d.Uri.joinPath(this.root,"tars")).catch(()=>[]),n=(await Promise.all(t.map(a=>this.readDir(a)))).flat(),r=(await Promise.all(n.map(a=>this.readDir(a)))).flat(),i=(await Promise.all(r.map(a=>this.readDir(a)))).flat();return Promise.all(i.map(async a=>({name:a.path.replace(/^.*\/tars\//,""),path:a,size:(await d.workspace.fs.stat(a)).size})))}async markIndexingEnablementForRepos(t){let n;try{n=JSON.parse(Jl.decode(await d.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(a){a instanceof d.FileSystemError&&a.code!==d.FileSystemError.FileNotFound().code&&xe.error(a,"Error reading index allowance data."),n=[]}const r=t?this.providerService.repositories.map(a=>a.name):[],i=t?[]:this.providerService.repositories.map(a=>a.name);n=[...n,...r].filter(a=>a.startsWith("-")?!r.includes(a.slice(1)):!i.includes(a));for(const a of i)n.push(`-${a}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(n)}async writeIndexEnablementData(t){await d.workspace.fs.writeFile(this.indexingAllowanceFile,Of.encode(JSON.stringify(t))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(t){let n;try{n=JSON.parse(Jl.decode(await d.workspace.fs.readFile(this.usageFile)))}catch(r){r instanceof d.FileSystemError&&r.code!==d.FileSystemError.FileNotFound().code&&xe.error(r,"Error reading usage data."),n={}}n[t]=Number(Date.now()),await d.workspace.fs.writeFile(this.usageFile,Of.encode(JSON.stringify(n)))}async cleanUpCache(){var t,n;xe.log("Cleaning up search cache...");const r=await this.listTars();let i;try{i=JSON.parse(Jl.decode(await d.workspace.fs.readFile(this.usageFile)))}catch(S){S instanceof d.FileSystemError&&S.code!==d.FileSystemError.FileNotFound().code&&xe.error(S,"Error reading usage data. All existing indexes will be discarded."),i={}}const a=[];r.forEach(S=>{var H;const Z=/^([^/]*\/[^/]*)\//.exec(S.name);if(!Z)throw Error("Unexpected repo entry");const U=Z[1],q=(H=i[S.name])!=null?H:0;a.push({...S,lastUsed:q,repo:U})}),a.sort((S,H)=>H.lastUsed-S.lastUsed);let s=0;const l=[],c=new Map,u=(t=Ye.get("indexing.cacheSizeLimit"))!=null?t:Ye.get("search.download.sizeLimit"),f=(n=Ye.get("indexing.cacheRepoLimit"))!=null?n:Ye.get("search.download.repoLimit"),y=(u!=null?u:100)*1024*1024,v=f!=null?f:4;a.forEach(S=>{var H,Z;(S.lastUsed===0||s>y||((H=c.get(S.repo))!=null?H:0)>v)&&l.push(S),s+=S.size,c.set(S.repo,((Z=c.get(S.repo))!=null?Z:0)+1)}),await Promise.all(l.map(async S=>{try{await d.workspace.fs.delete(S.path,{recursive:!0}),delete i[S.name],xe.log(`Deleted cache entry for ${S.name}`)}catch(H){xe.log(`Deleting cache entry for ${S.name} failed; ${String(H)}`)}})),await d.workspace.fs.writeFile(this.usageFile,Of.encode(JSON.stringify(i))),await this.updateContext()}}o(y0,"TarPit");async function mx(e,t,n,r,i,a,s){return Mf("provideTextSearchResults",async()=>{const l=wy(r.pattern,Boolean(r.isRegExp),{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!0});let c;try{c=await Mf("fetch tarball",()=>n.getTar(i.folder,!0,void 0))}catch(U){if(U instanceof d.CancellationError)throw U;return{limitHit:!1,message:{type:d.TextSearchCompleteMessageType.Warning,trusted:!0,text:d.l10n.t("Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:u,maxFileSize:f,includes:y,excludes:v}=i,S=await yx(i.folder,e,c,t);if(s.isCancellationRequested)return{limitHit:!0};let H=u;const Z=_y(S,y,v,f);return Mf("searchFiles",async()=>{var U,q;let ne=0;for(const fe of S){if(!Z.has(fe.path))continue;const se=xy(fe.contents,fe.path,l,{beforeContext:(U=i.beforeContext)!=null?U:0,afterContext:(q=i.afterContext)!=null?q:0,previewOptions:i.previewOptions,remainingResultQuota:H});for(const be of se)a.report({...be,uri:d.Uri.joinPath(i.folder,be.uri.path)});if(H!==void 0&&(H-=se.length,H<=0))return{limitHit:!0};if(ne++,ne%1e4==0&&(await new Promise(be=>setTimeout(be,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}o(mx,"provideTextSearchResults");async function yx(e,t,n,r){const i=n.entries,a=t.getVirtualRootUri(e),s=await r.getChanges(a,{predicate:y=>y.fileType===d.FileType.File});if(s.length===0)return i.map(y=>({contents:y.dataAsBytes,path:y.header.fullFileName,size:y.dataAsBytes.byteLength}));const l=await Promise.all(Pl(s,y=>{if(y.type===G.Created)return r.getContent(y.uri).then(v=>({path:t.getRelativeFilePath(a,y.uri),size:v.length,contents:v}))})),c=await Promise.all(Pl(s,y=>{if(y.type===G.Changed)return r.getContent(y.uri).then(v=>({path:t.getRelativeFilePath(a,y.uri),size:v.length,contents:v}))})),u=new Set(my(jg(c,y=>y.path),Pl(s,y=>{if(y.type===G.Deleted)return t.getRelativeFilePath(a,y.uri)})));return[...Pl(i,y=>{if(!u.has(y.header.fullFileName))return{contents:y.dataAsBytes,path:y.header.fullFileName,size:y.dataAsBytes.byteLength}}),...l,...c]}o(yx,"listAllFiles");function $1(e,t){const n=Date.now(),r=t();return Logger.log(`${e} time: ${Date.now()-n}`),r}o($1,"timeSync");async function Mf(e,t){const n=Date.now(),r=await t();return xe.log(`${e} time: ${Date.now()-n}`),r}o(Mf,"time");var wx=Object.defineProperty,_x=Object.getOwnPropertyDescriptor,Lf=o((e,t,n,r)=>{for(var i=r>1?void 0:r?_x(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&wx(t,n,i),i},"fs_decorateClass");const xx=d.FileSystemError.FileNotFound().code,bx=/(\/|\\)/g,w0=".vscode/.github-pull-request.rec";class bs{constructor(t,n,r,i,a){this.providerService=t,this.github=n,this.changeStore=r,this.tarPit=i,this.telemetryService=a,this._onDidChangeFile=new d.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=d.Disposable.from(d.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),d.workspace.registerFileSearchProvider(this.scheme,this),d.workspace.registerTextSearchProvider(this.scheme,this),t.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),t.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var t;(t=this.disposable)==null||t.dispose()}onRefreshOrRepositoryChanged(t){if(t=t.filter(n=>D.getProviderId(n)===this.scheme).map(n=>D.getProviderUri(n)),t.length!==0){xe.log(`GitHubFS.onRefreshOrRepositoryChanged(${t.map(n=>n.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[n,r]of[...this.pendingUriRequests])t.some(i=>P(r.uri,i))&&(this.pendingUriRequests.delete(n),r.outdated=!0);this.updateOpenOrWatchedUris(t)}}updateOpenOrWatchedUris(t){const n=D.getOpenUris(this.scheme,t);for(const[i,a]of[...this.watchedUris,...this.implicitlyWatchedUris])t.some(s=>P(a,s))&&(this.implicitlyWatchedUris.delete(i),n.set(i,a));xe.debug(`GitHubFS.updateOpenOrWatchedUris(${t.map(i=>i.toString()).join(", ")}): uris=${n.size}`);for(const i of t)n.set(C(i),i);const r=[...n.values()].map(i=>({type:d.FileChangeType.Changed,uri:i}));setTimeout(()=>{xe.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${r.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(t,n){const r=C(t);return this.watchedUris.set(r,t),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(t){var n,r;const i=C(t);this.implicitlyWatchedUris.set(i,t);const{hasRepoWithOwner:a}=_0(t);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(t))||a){const s=this.providerService.getRelativeFilePath(t),l={uri:t,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,l);const c=await this.github.getFileTree(t),u=await c.get(s);if(u==null?void 0:u.stat)return u==null?void 0:u.stat;if(this.implicitlyWatchedUris.delete(i),t.query==="~")return{type:d.FileType.File,size:0,ctime:0,mtime:(n=c.timestamp)!=null?n:Date.now(),permissions:d.FilePermission.Readonly};if(s===w0){const{ref:f}=this.providerService.getVirtualUriMetadata(t);if((f==null?void 0:f.type)===oe.PullRequest)return{type:d.FileType.File,size:0,ctime:0,mtime:(r=c.timestamp)!=null?r:Date.now(),permissions:d.FilePermission.Readonly}}throw d.FileSystemError.FileNotFound(t)}finally{this.pendingUriRequests.delete(`stat:${i}`),(l==null?void 0:l.outdated)&&setTimeout(()=>{xe.log(`GitHubFS.stat(${t.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:t}])},this.pendingUriRequestsEventDelay)}}return{type:d.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:d.FilePermission.Readonly}}async readDirectory(t,n){var r;this.implicitlyWatchedUris.set(C(t),t);const{pathQuery:i,hasRepoWithOwner:a}=_0(t);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(t))||a){let s;const l=this.providerService.getRelativeFilePath(t);let c;try{return s=await this.github.getFileTree(t),(await s.getChildren(l,n)).map(([f,{stat:{type:y}}])=>[f,y])}catch(u){throw c=u,l===""&&u instanceof Error&&this.telemetryService.sendErrorEvent("fs.readRootDirectory.error",{errorName:u.name,errorMessage:u.message,errorStack:(r=u.stack)!=null?r:""},void 0),u}finally{l===""&&(j.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:c===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:c}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(c=>c.owner===i).map(c=>c.repo):[...new Set(s.map(c=>c.owner))]).map(c=>[c,d.FileType.Directory])}}createDirectory(t){throw d.FileSystemError.NoPermissions()}async readFile(t){const n=C(t);this.implicitlyWatchedUris.set(n,t);const r={uri:t,outdated:!1};try{return this.pendingUriRequests.set(n,r),await this.github.getFileContent(t)}catch(i){if(this.implicitlyWatchedUris.delete(n),i instanceof d.FileSystemError&&i.code===xx){if(t.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(t)===w0){const{ref:s}=this.providerService.getVirtualUriMetadata(t);if((s==null?void 0:s.type)===oe.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(n),(r==null?void 0:r.outdated)&&setTimeout(()=>{xe.log(`GitHubFS.readFile(${t.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:t}])},this.pendingUriRequestsEventDelay)}}writeFile(t,n,r){throw d.FileSystemError.NoPermissions()}delete(t,n){throw d.FileSystemError.NoPermissions()}rename(t,n,r){throw d.FileSystemError.NoPermissions()}copy(t,n,r){throw d.FileSystemError.NoPermissions()}async provideFileSearchResults(t,{folder:n,maxResults:r,includes:i,excludes:a},s){const l=`${C(n)}|${JSON.stringify({includes:i,excludes:a})}`;let c=this.fileSearchCache.get(l);if(c===void 0){const f=this.providerService.getRelativeFilePath(n);let y;await this.github.hasFileTree(n)&&(y=await this.github.getFileTree(n));let v;if(y===void 0||y.loading||!y.hasEntireTree?v=await this.github.getFileList(n,f):v=(await y.getChildren(f,{filter:d.FileType.File,recursive:!0})).map(([S])=>S),v.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(a==null?void 0:a.length))&&(v=[...af(v,i,a)]),c=v.map(S=>nf.prepareSlow(S)),this.fileSearchCache.set(l,c)}let u;return t.pattern===""?u=c.map(f=>d.Uri.joinPath(n,f.target)):(u=nf.go(t.pattern.replace(bx,"/"),c,{allowTypo:!0,limit:r}).map(f=>d.Uri.joinPath(n,f.target)),nf.cleanup()),r!==void 0&&r!==0&&r<u.length&&(u=u.slice(0,r)),u}async provideTextSearchResults(t,n,r,i){const a=[];if(await this.tarPit.isIndexingEnabledForRepo(n.folder)!==!1)try{return await mx(this.providerService,this.changeStore,this.tarPit,t,n,r,i)}catch(u){u instanceof d.CancellationError||a.push({text:d.l10n.t("Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:d.TextSearchCompleteMessageType.Warning})}t.isCaseSensitive||t.isRegExp||t.isWordMatch?a.push({text:d.l10n.t("Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:d.TextSearchCompleteMessageType.Warning,trusted:!0}):a.push({text:d.l10n.t("Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:d.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(t.pattern,n.folder,{maxResults:n.maxResults,context:{before:n.beforeContext,after:n.afterContext}});if(s.warnings&&s.warnings.forEach(u=>{a.push({text:u,trusted:!0,type:d.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:a};const l=new Set(af(s.matches.map(u=>u.path),n.includes,n.excludes));let c;for(const u of s.matches)l.has(u.path)&&(c=d.Uri.joinPath(n.folder,u.path),r.report({uri:c,ranges:u.ranges,preview:{text:u.preview,matches:u.matches}}));return{limitHit:!1,message:a}}}o(bs,"GitHubFS"),Lf([of()],bs.prototype,"stat",1),Lf([of()],bs.prototype,"readDirectory",1),Lf([of()],bs.prototype,"readFile",1);function _0(e){let t=e.path;return t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),{pathQuery:t,hasRepoWithOwner:t.includes("/")}}o(_0,"getRepoWithOwnerFromUri");var Ex=__webpack_require__(6470);const Sx=globalThis.fetch;async function x0(e,t,n){const r=new AbortController;n.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(e,{...t,signal:r.signal})}catch(i){throw n.isCancellationRequested?new d.CancellationError:i}}o(x0,"fetchWithCancellation");async function b0(e,t,n,r,i){if(n===0)throw new d.CancellationError;const a=new d.CancellationTokenSource;r.onCancellationRequested(()=>a.cancel());try{const s=await x0(e,t,a.token);if(s.body){const l=[];let c=0;const u=s.body.getReader();let f=3;for(;;){let{done:y,value:v}=await u.read();if(y){const H=l.reduce((q,ne)=>q+ne.length,0),Z=new Uint8Array(H);let U=0;for(const q of l)Z.set(q,U),U+=q.length;return Z}v&&(l.push(v),c+=v.length);const S=Math.floor(c/(1024*1024));if(f<S){f=S;const H={message:S+" MB"};i.report(H)}if(n!==void 0&&c>n)throw u.cancel(),a.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw r.isCancellationRequested?new d.CancellationError:s}throw new d.CancellationError}o(b0,"fetchUInt8ArrayWithMaxSizeAndCancellation");var Es=__webpack_require__(4155);function Yl(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Es=="object"&&"version"in Es?`Node.js/${Es.version.substr(1)} (${Es.platform}; ${Es.arch})`:"<environment undetectable>"}o(Yl,"getUserAgent");var Cx=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function E0(e){return Object.prototype.toString.call(e)==="[object Object]"}o(E0,"isObject");function S0(e){var t,n;return E0(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(E0(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}o(S0,"isPlainObject");function Tx(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}o(Tx,"lowercaseKeys");function C0(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{S0(t[r])?r in e?n[r]=C0(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}o(C0,"mergeDeep");function T0(e){for(const t in e)e[t]===void 0&&delete e[t];return e}o(T0,"removeUndefinedProperties");function Nf(e,t,n){if(typeof t=="string"){let[i,a]=t.split(" ");n=Object.assign(a?{method:i,url:a}:{url:i},n)}else n=Object.assign({},t);n.headers=Tx(n.headers),T0(n),T0(n.headers);const r=C0(e||{},n);return e&&e.mediaType.previews.length&&(r.mediaType.previews=e.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(i=>i.replace(/-preview/,"")),r}o(Nf,"dist_web_merge");function Ix(e,t){const n=/\?/.test(e)?"&":"?",r=Object.keys(t);return r.length===0?e:e+n+r.map(i=>i==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(t[i])}`).join("&")}o(Ix,"addQueryParameters");const Ax=/\{[^}]+\}/g;function Rx(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}o(Rx,"removeNonChars");function Dx(e){const t=e.match(Ax);return t?t.map(Rx).reduce((n,r)=>n.concat(r),[]):[]}o(Dx,"extractUrlVariableNames");function I0(e,t){return Object.keys(e).filter(n=>!t.includes(n)).reduce((n,r)=>(n[r]=e[r],n),{})}o(I0,"omit");function A0(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}o(A0,"encodeReserved");function Co(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}o(Co,"encodeUnreserved");function Ss(e,t,n){return t=e==="+"||e==="#"?A0(t):Co(t),n?Co(n)+"="+t:t}o(Ss,"encodeValue");function To(e){return e!=null}o(To,"isDefined");function Bf(e){return e===";"||e==="&"||e==="?"}o(Bf,"isKeyOperator");function Fx(e,t,n,r){var i=e[n],a=[];if(To(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),r&&r!=="*"&&(i=i.substring(0,parseInt(r,10))),a.push(Ss(t,i,Bf(t)?n:""));else if(r==="*")Array.isArray(i)?i.filter(To).forEach(function(s){a.push(Ss(t,s,Bf(t)?n:""))}):Object.keys(i).forEach(function(s){To(i[s])&&a.push(Ss(t,i[s],s))});else{const s=[];Array.isArray(i)?i.filter(To).forEach(function(l){s.push(Ss(t,l))}):Object.keys(i).forEach(function(l){To(i[l])&&(s.push(Co(l)),s.push(Ss(t,i[l].toString())))}),Bf(t)?a.push(Co(n)+"="+s.join(",")):s.length!==0&&a.push(s.join(","))}else t===";"?To(i)&&a.push(Co(n)):i===""&&(t==="&"||t==="?")?a.push(Co(n)+"="):i===""&&a.push("");return a}o(Fx,"getValues");function kx(e){return{expand:Px.bind(null,e)}}o(kx,"parseUrl");function Px(e,t){var n=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,i,a){if(i){let l="";const c=[];if(n.indexOf(i.charAt(0))!==-1&&(l=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(u){var f=/([^:\*]*)(?::(\d+)|(\*))?/.exec(u);c.push(Fx(t,l,f[1],f[2]||f[3]))}),l&&l!=="+"){var s=",";return l==="?"?s="&":l!=="#"&&(s=l),(c.length!==0?l:"")+c.join(s)}else return c.join(",")}else return A0(a)})}o(Px,"expand");function R0(e){let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),i,a=I0(e,["method","baseUrl","url","headers","request","mediaType"]);const s=Dx(n);n=kx(n).expand(a),/^http/.test(n)||(n=e.baseUrl+n);const l=Object.keys(e).filter(f=>s.includes(f)).concat("baseUrl"),c=I0(a,l);if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map(f=>f.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const f=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=f.concat(e.mediaType.previews).map(y=>{const v=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${y}-preview${v}`}).join(",")}return["GET","HEAD"].includes(t)?n=Ix(n,c):"data"in c?i=c.data:Object.keys(c).length?i=c:r["content-length"]=0,!r["content-type"]&&typeof i!="undefined"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof i=="undefined"&&(i=""),Object.assign({method:t,url:n,headers:r},typeof i!="undefined"?{body:i}:null,e.request?{request:e.request}:null)}o(R0,"parse");function Ox(e,t,n){return R0(Nf(e,t,n))}o(Ox,"endpointWithDefaults");function D0(e,t){const n=Nf(e,t),r=Ox.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:D0.bind(null,n),merge:Nf.bind(null,n),parse:R0})}o(D0,"withDefaults");const Mx=`octokit-endpoint.js/6.0.12 ${Yl()}`,Lx=D0(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Mx},mediaType:{format:"",previews:[]}});var Nx=__webpack_require__(3300),Bx=__webpack_require__.n(Nx);class Uf extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}o(Uf,"Deprecation");var Ux=__webpack_require__(447),F0=__webpack_require__.n(Ux);const $x=F0()(e=>console.warn(e)),Hx=F0()(e=>console.warn(e));class Ki extends Error{constructor(t,n,r){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let i;"headers"in r&&typeof r.headers!="undefined"&&(i=r.headers),"response"in r&&(this.response=r.response,i=r.response.headers);const a=Object.assign({},r.request);r.request.headers.authorization&&(a.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a,Object.defineProperty(this,"code",{get(){return $x(new Uf("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return Hx(new Uf("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}o(Ki,"RequestError");const zx="5.6.3";function Wx(e){return e.arrayBuffer()}o(Wx,"getBufferResponse");function k0(e){const t=e.request&&e.request.log?e.request.log:console;(S0(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let n={},r,i;return(e.request&&e.request.fetch||Bx())(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async s=>{i=s.url,r=s.status;for(const l of s.headers)n[l[0]]=l[1];if("deprecation"in n){const l=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),c=l&&l.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${c?`. See ${c}`:""}`)}if(!(r===204||r===205)){if(e.method==="HEAD"){if(r<400)return;throw new Ki(s.statusText,r,{response:{url:i,status:r,headers:n,data:void 0},request:e})}if(r===304)throw new Ki("Not modified",r,{response:{url:i,status:r,headers:n,data:await $f(s)},request:e});if(r>=400){const l=await $f(s);throw new Ki(jx(l),r,{response:{url:i,status:r,headers:n,data:l},request:e})}return $f(s)}}).then(s=>({status:r,url:i,headers:n,data:s})).catch(s=>{throw s instanceof Ki?s:new Ki(s.message,500,{request:e})})}o(k0,"fetchWrapper");async function $f(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():Wx(e)}o($f,"getResponseData");function jx(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}o(jx,"toErrorMessage");function Hf(e,t){const n=e.defaults(t);return Object.assign(o(function(i,a){const s=n.merge(i,a);if(!s.request||!s.request.hook)return k0(n.parse(s));const l=o((c,u)=>k0(n.parse(n.merge(c,u))),"request");return Object.assign(l,{endpoint:n,defaults:Hf.bind(null,n)}),s.request.hook(l,s)},"newApi"),{endpoint:n,defaults:Hf.bind(null,n)})}o(Hf,"dist_web_withDefaults");const eu=Hf(Lx,{headers:{"user-agent":`octokit-request.js/${zx} ${Yl()}`}}),Kx="4.8.0";function qx(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}o(qx,"_buildMessageForResponseErrors");class ga extends Error{constructor(t,n,r){super(qx(r));this.request=t,this.headers=n,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}o(ga,"GraphqlResponseError");const Vx=["method","baseUrl","url","headers","request","query","mediaType"],Gx=["query","method","url"],P0=/\/api\/v3\/?$/;function Zx(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(!!Gx.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const r=typeof t=="string"?Object.assign({query:t},n):t,i=Object.keys(r).reduce((s,l)=>Vx.includes(l)?(s[l]=r[l],s):(s.variables||(s.variables={}),s.variables[l]=r[l],s),{}),a=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return P0.test(a)&&(i.url=a.replace(P0,"/api/graphql")),e(i).then(s=>{if(s.data.errors){const l={};for(const c of Object.keys(s.headers))l[c]=s.headers[c];throw new ga(i,l,s.data)}return s.data.data})}o(Zx,"graphql");function zf(e,t){const n=e.defaults(t);return Object.assign(o((i,a)=>Zx(n,i,a),"newApi"),{defaults:zf.bind(null,n),endpoint:eu.endpoint})}o(zf,"graphql_dist_web_withDefaults");const W1=zf(eu,{headers:{"user-agent":`octokit-graphql.js/${Kx} ${Yl()}`},method:"POST",url:"/graphql"});function Qx(e){return zf(e,{method:"POST",url:"/graphql"})}o(Qx,"withCustomRequest");const Xx=/^v1\./,Jx=/^ghs_/,Yx=/^ghu_/;async function e1(e){const t=e.split(/\./).length===3,n=Xx.test(e)||Jx.test(e),r=Yx.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":r?"user-to-server":"oauth"}}o(e1,"auth");function t1(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}o(t1,"withAuthorizationPrefix");async function n1(e,t,n,r){const i=t.endpoint.merge(n,r);return i.headers.authorization=t1(e),t(i)}o(n1,"hook");const r1=o(function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(e1.bind(null,t),{hook:n1.bind(null,t)})},"createTokenAuth"),O0="3.5.1";class Cs{constructor(t={}){const n=new Cx.Collection,r={baseUrl:eu.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=[t.userAgent,`octokit-core.js/${O0} ${Yl()}`].filter(Boolean).join(" "),t.baseUrl&&(r.baseUrl=t.baseUrl),t.previews&&(r.mediaType.previews=t.previews),t.timeZone&&(r.headers["time-zone"]=t.timeZone),this.request=eu.defaults(r),this.graphql=Qx(this.request).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=n,t.authStrategy){const{authStrategy:a,...s}=t,l=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",l.hook),this.auth=l}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=r1(t.auth);n.wrap("request",a.hook),this.auth=a}this.constructor.plugins.forEach(a=>{Object.assign(this,a(this,t))})}static defaults(t){return o(class extends this{constructor(...r){const i=r[0]||{};if(typeof t=="function"){super(t(i));return}super(Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...t){var n;const r=this.plugins;return n=o(class extends this{},"_a"),n.plugins=r.concat(t.filter(a=>!r.includes(a))),n}}o(Cs,"Octokit"),Cs.VERSION=O0,Cs.plugins=[];var M0;(function(e){e[e.Force=0]="Force",e[e.ForceWithLease=1]="ForceWithLease"})(M0||(M0={}));var qi;(function(e){e[e.Head=0]="Head",e[e.RemoteHead=1]="RemoteHead",e[e.Tag=2]="Tag"})(qi||(qi={}));var Ts;(function(e){e[e.INDEX_MODIFIED=0]="INDEX_MODIFIED",e[e.INDEX_ADDED=1]="INDEX_ADDED",e[e.INDEX_DELETED=2]="INDEX_DELETED",e[e.INDEX_RENAMED=3]="INDEX_RENAMED",e[e.INDEX_COPIED=4]="INDEX_COPIED",e[e.MODIFIED=5]="MODIFIED",e[e.DELETED=6]="DELETED",e[e.UNTRACKED=7]="UNTRACKED",e[e.IGNORED=8]="IGNORED",e[e.INTENT_TO_ADD=9]="INTENT_TO_ADD",e[e.ADDED_BY_US=10]="ADDED_BY_US",e[e.ADDED_BY_THEM=11]="ADDED_BY_THEM",e[e.DELETED_BY_US=12]="DELETED_BY_US",e[e.DELETED_BY_THEM=13]="DELETED_BY_THEM",e[e.BOTH_ADDED=14]="BOTH_ADDED",e[e.BOTH_DELETED=15]="BOTH_DELETED",e[e.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(Ts||(Ts={}));var L0;(function(e){e.BadConfigFile="BadConfigFile",e.AuthenticationFailed="AuthenticationFailed",e.NoUserNameConfigured="NoUserNameConfigured",e.NoUserEmailConfigured="NoUserEmailConfigured",e.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",e.NotAGitRepository="NotAGitRepository",e.NotAtRepositoryRoot="NotAtRepositoryRoot",e.Conflict="Conflict",e.StashConflict="StashConflict",e.UnmergedChanges="UnmergedChanges",e.PushRejected="PushRejected",e.RemoteConnectionError="RemoteConnectionError",e.DirtyWorkTree="DirtyWorkTree",e.CantOpenResource="CantOpenResource",e.GitNotFound="GitNotFound",e.CantCreatePipe="CantCreatePipe",e.PermissionDenied="PermissionDenied",e.CantAccessRemote="CantAccessRemote",e.RepositoryNotFound="RepositoryNotFound",e.RepositoryIsLocked="RepositoryIsLocked",e.BranchNotFullyMerged="BranchNotFullyMerged",e.NoRemoteReference="NoRemoteReference",e.InvalidBranchName="InvalidBranchName",e.BranchAlreadyExists="BranchAlreadyExists",e.NoLocalChanges="NoLocalChanges",e.NoStashFound="NoStashFound",e.LocalChangesOverwritten="LocalChangesOverwritten",e.NoUpstreamBranch="NoUpstreamBranch",e.IsInSubmodule="IsInSubmodule",e.WrongCase="WrongCase",e.CantLockRef="CantLockRef",e.CantRebaseMultipleBranches="CantRebaseMultipleBranches",e.PatchDoesNotApply="PatchDoesNotApply",e.NoPathFound="NoPathFound",e.UnknownPath="UnknownPath"})(L0||(L0={}));class Wf{constructor(t,n){this.path=t,this.relativePath=n}}o(Wf,"TrieNode");class N0{constructor(){this.root=new Wf("","")}get(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return;r=a}return r.path===t?r.data:void 0}getChildren(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;if(t)for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return[];r=a}return r.children===void 0?[]:[...r.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;const i=[];if(t)for(const a of t.split("/")){const s=(n=r.children)==null?void 0:n.get(a);if(s===void 0)return i;r=s}if(r.children!==void 0){let a=o(function(s,l,c){for(const u of s.values()){const f=`${l?`${l}/`:""}${u.relativePath}`;u.data&&c.push([f,u.data]),u.children!==void 0&&a(u.children,f,c)}},"getDescendantsCore");a(r.children,"",i)}return i}has(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return!1;r=a}return r.path===t}set(t,n){var r;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let i=this.root,a="";for(const s of t.split("/")){let l=(r=i.children)==null?void 0:r.get(s);a=`${a?`${a}/`:""}${s}`,l===void 0&&(i.children===void 0&&(i.children=new Map),l=new Wf(a,s),i.children.set(s,l)),i=l}i.data=n}}o(N0,"Trie");var i1=__webpack_require__(5431),jf=__webpack_require__.n(i1);class Kf{constructor(t,n,r,i,a){if(this.rootUri=t,this.sha=n,this.timestamp=r,this.provider=i,this.trie=new N0,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(l=>{(!l||C(l.rootUri)===C(this.rootUri)&&l.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0)})),this._loading=this.load(a==null?void 0:a.path,a==null?void 0:a.recursive).then(l=>(this._hasEntireTree=(l==null?void 0:l.success)?l.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var c;return void((c=i.tryCachingContent)==null?void 0:c.call(i,this.trie.get.bind(this.trie)).then(u=>this._isContentCached=u,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(l==null?void 0:l.success)?l.sha:void 0,this.treeSha)),(a==null?void 0:a.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=d.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var t;return(t=this.provider)==null?void 0:t.permissions}dispose(){var t;(t=this.disposable)==null||t.dispose()}async get(t){var n;if(t==="")return{mode:"040000",sha:this.treeSha,stat:{type:d.FileType.Directory,size:0,ctime:0,mtime:(n=this.timestamp)!=null?n:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(t);return r!==void 0||(await this.ensureLoaded(t),r=this.trie.get(t)),r}async getChildren(t,n){await this.ensureLoaded(t,!0);const r=(n==null?void 0:n.recursive)?this.trie.getDescendants(t):this.trie.getChildren(t);return(n==null?void 0:n.filter)===void 0?r:r.filter(([,i])=>i.stat.type===n.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(t,n=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(n)i=this.preloading.get(t);else{const a=vy(this.preloading,([s])=>t.startsWith(s)&&t.lastIndexOf("/")===(s?s.length:-1));i=a==null?void 0:a[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||t==="")return;let r=this.trie.get(t);if(r)return n&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(t.substr(0,t.lastIndexOf("/")),!0),r=this.trie.get(t),n&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(t,n=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const i=new j(`FileTree.load(${this.sha}:${t})`);let a;try{i.logStep("Tree query");const s=await this.provider.getTree(t,n);if(s.truncated){xe.warn(`Loading file tree for path=${t} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[c,u]of this.trie.getDescendants(""))u.stat.type===d.FileType.Directory&&(u.loadChildren=jf()(()=>this.load(c).then(()=>u.loadChildren=void 0)));return a=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let l;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),l=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:c,item:u}of s.tree)if(c!==void 0){switch(c=t?`${t}/${c}`:c,u.stat.permissions=l,u.stat.type){case d.FileType.File:u.getContent=jf()(()=>this.provider.getContent(u,c));break;case d.FileType.Directory:n||(u.loadChildren=jf()(()=>this.load(c).then(()=>u.loadChildren=void 0)));break}this.trie.set(c,u)}return a=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:n,success:!0}}catch(s){return a=`\u2022 Loading for path=${t} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(a?{suffix:a}:void 0)}}}o(Kf,"FileTree");var a1=__webpack_require__(7769);const o1="github-pr-owner-number";function s1(e){return`branch.${e}.${o1}`}o(s1,"getMetadataKeyForBranch");const B0=new TextDecoder;class U0{constructor(t,n,r,i,a,s){this.providerService=t,this.rootUri=n,this.sourceControl=r,this.metadata=i,this.changeStore=a,this.github=s,this._onDidChangeSelection=new d.EventEmitter,this._onDidChangeState=new d.EventEmitter,this._objects=new Map,this.disposable=d.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(u=>{const f=C(this.rootUri);!u.some(y=>C(y)===f)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:u})=>{C(this.rootUri)===C(u.uri)&&this.updateState(await u.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return r.inputBox.value},set value(u){r.inputBox.value=u}},this._ui={get selected(){return r.selected},onDidChange:this._onDidChangeSelection.event};const{repo:{owner:l,name:c}}=i;this.remote={name:"origin",fetchUrl:`https://github.com/${l}/${c}.git`,isReadOnly:i.accessLevel<O.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(t){switch(t.HEAD.type){case J.Branch:return{type:qi.Head,commit:t.HEAD.sha,name:t.HEAD.branch.name,upstream:{name:t.HEAD.branch.name,remote:this.remote.name}};case J.RemoteBranch:{const n=t.HEAD.branch.remote.repo.owner,r=t.HEAD.branch.remote.accessLevel<O.Write,i=this.remotes.findIndex(a=>a.name===n);return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:n,fetchUrl:`https://github.com/${t.HEAD.branch.remote.repo.owner}/${t.HEAD.branch.remote.repo.name}.git`,pushUrl:r?void 0:`https://github.com/${t.HEAD.branch.remote.repo.owner}/${t.HEAD.branch.remote.repo.name}.git`,isReadOnly:r}),{type:qi.RemoteHead,commit:t.HEAD.sha,name:t.HEAD.branch.name,upstream:{name:t.HEAD.branch.name,remote:t.HEAD.branch.remote.repo.owner}}}case J.Tag:return{type:qi.Tag,name:t.HEAD.detached.name,commit:t.HEAD.sha};case J.Commit:return{type:qi.Head,commit:t.HEAD.sha}}}async updateState(t){this.metadata=t;const n=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:l=>l.fileType===d.FileType.File}),r=n.conflicts.map(l=>({uri:l.uri,status:qf(l.type),originalUri:l.uri,renameUri:l.uri})),i=n.staged.map(l=>({uri:l.uri,status:qf(l.type),originalUri:l.uri,renameUri:l.uri})),a=n.working.map(l=>({uri:l.uri,status:qf(l.type),originalUri:l.uri,renameUri:l.uri})),s=Ye.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(t),mergeChanges:r,indexChanges:s?i:[],workingTreeChanges:s?a:[...i,...a]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(t){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&t===s1(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(t,n){return Promise.resolve("")}getGlobalConfig(t){throw new Error("Method not implemented.")}async getObjectDetails(t,n){const r=new j(`IGit.getObjectDetails(${t}, ${n})`);try{return await this.github.getObjectDetails(this.rootUri,t,this.pathToRelativePath(n))}finally{r.stop()}}async detectObjectType(t){var n;const r=new j(`IGit.detectObjectType(${t})`);try{const i=await this.github.getBlobContent(this.metadata.repo,t);if(!cy(i))return{mimetype:"text/plain"};const s=await(0,a1.fromBuffer)(i);return{mimetype:(n=s==null?void 0:s.mime)!=null?n:"application/octet-stream"}}finally{r.stop()}}async buffer(t,n){const r=new j(`IGit.buffer(${t}, ${n})`);try{return await this.github.getFileContent(this.rootUri,t,this.pathToRelativePath(n))}finally{r.stop()}}async show(t,n){const r=new j(`IGit.show(${t}, ${n})`);try{const i=await this.github.getFileContent(this.rootUri,t,this.pathToRelativePath(n));return B0.decode(i)}finally{r.stop()}}async getCommit(t){const n=new j(`IGit.getCommit(${t})`);try{const r=await this.github.getCommit(this.rootUri,t);if(r===void 0)throw new Error(`Unable to find commit for ref "${t}"`);return r}finally{n.stop()}}clean(t){return this._objects.clear(),Promise.resolve()}async apply(t,n){const r=new j(`IGit.apply(reverse=${n})`);try{return await this.changeStore.applyPatch(this.rootUri,t,n?{reverse:!0}:void 0)}finally{r.stop()}}async diff(t){const n=new j(`IGit.diff(${t})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,t?{staged:!0}:void 0)}finally{n.stop()}}diffWithHEAD(t){return t?this.diffBetween("","HEAD",t):this.diffBetween("","HEAD")}diffWith(t,n){return n?this.diffBetween("",t,n):this.diffBetween("",t)}diffIndexWithHEAD(t){return t?this.diffBetween("~","HEAD",t):this.diffBetween("~","HEAD")}diffIndexWith(t,n){return n?this.diffBetween("~",t,n):this.diffBetween("~",t)}async diffBetween(t,n,r){if(!r)throw new Error("Method not implemented.");const i=new j(`IGit.diffBetween(${t}, ${n}, ${r})`);try{const a=[];for(const c of[t,n])try{a.push(await this.getContent(c,r))}catch(u){a.push(void 0)}const[s,l]=a;if(s===void 0&&l!==void 0)return Lr(r,"",l,"add");if(s!==void 0&&l===void 0)return Lr(r,s,"","delete");if(s!==void 0&&l!==void 0)return Lr(r,s,l,"modify");throw d.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(t,n){const r=new j(`IGit.diffBlobs(${t}, ${n})`);try{const i=await this.getBlobContent(t),a=await this.getBlobContent(n),s=Wr("untitled",i,a);return Promise.resolve(s)}finally{r.stop()}}async getBlobContent(t){const n=new j(`IGit.getBlobContent(${t})`);try{const r=this._objects.get(t);if(r)return this._objects.delete(t),r;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),a=await this.github.getBlobContent(i,t);return B0.decode(a)}finally{n.stop()}}async getContent(t,n){const r=new j(`IGit.getContent(${t}, ${n})`);try{const i=this.pathToRelativeUri(n);if(t===""||t==="~"){const a=await this.changeStore.getChange(i);if(a!==void 0&&(t===""||a.staged))return this.changeStore.getContent(i);t="HEAD"}return await this.show(t==="HEAD"?this.metadata.HEAD.sha:t,n)}finally{r.stop()}}async hashObject(t){const n=new j("IGit.hashObject");try{const r=w(await An(t));return this._objects.set(r,t),r}finally{n.stop()}}async createBranch(t,n,r){const i=new j(`IGit.createBranch(${t}, ${n}, ${r})`);try{r||(r=this.metadata.HEAD.sha);const a=await this.github.createBranch(this.rootUri,t,r);n&&await this.checkout(a)}finally{i.stop()}}deleteBranch(t,n){throw new Error("Method not implemented.")}async getBranch(t){const n=new j(`IGit.getBranch(${t})`);try{const r=await this.github.getBranch(this.rootUri,t);if(r===void 0)throw new Error(`Unable to find branch named "${t}"`);return{type:r.type,name:r.name,commit:r.commit,remote:this.remote.name,upstream:{name:r.name,remote:this.remote.name}}}finally{n.stop()}}async getBranches(t){var n,r;const i=(r=(n=t.contains)!=null?n:t.pattern)!=null?r:"",a=new j(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:t.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(l=>({type:l.type,name:l.name,commit:l.commit}))}finally{a.stop()}}setBranchUpstream(t,n){throw new Error("Method not implemented.")}getMergeBase(t,n){throw new Error("Method not implemented.")}async status(){}async checkout(t){const n=new j(`IGit.checkout(${t})`);try{if(await this.github.repositoryObjectExists(this.rootUri,t)){const i=await this.github.switchTo(this.rootUri,t,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const r=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(t);if(r==null?void 0:r.groups){const{num:i}=r.groups,{provider:a,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),l=this.providerService.getRemoteUri(a.id,{repo:s,pullRequest:{id:i}});if(l!==void 0){const c=await this.providerService.createWorkspaceForRemoteUrl(l.toString());c!==void 0&&await this.providerService.openWorkspace(c)}}throw new Error("User aborted")}finally{n.stop()}}addRemote(t,n){var r;let i;const a=this.remotes.findIndex(s=>s.name===t);return a!==-1&&([i]=this.remotes.splice(a,1)),this.remotes.push({name:t,fetchUrl:n,isReadOnly:(r=i==null?void 0:i.isReadOnly)!=null?r:!1}),Promise.resolve()}removeRemote(t){const n=this.remotes.findIndex(r=>r.name===t);return n!==-1&&this.remotes.splice(n,1),Promise.resolve()}renameRemote(t,n){const r=this.remotes.findIndex(a=>a.name===t);if(r===-1)return Promise.resolve();const[i]=this.remotes.splice(r,1);return this.remotes.push({...i,name:n}),Promise.resolve()}async fetch(t,n,r){const i=new j("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(t){const n=new j("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:de.Merge})}finally{n.stop()}}push(t,n,r){return Promise.resolve()}blame(t){throw new Error("Method not implemented.")}async log(t){var n;const r=(t==null?void 0:t.path)?this.pathToRelativePath(t.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:r,limit:t==null?void 0:t.maxEntries});return(n=i==null?void 0:i.commits)!=null?n:[]}async commit(t,n){const r=new j("IGit.commit");try{if((n==null?void 0:n.amend)!==void 0||(n==null?void 0:n.empty)!==void 0||(n==null?void 0:n.signCommit)!==void 0||(n==null?void 0:n.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(n==null?void 0:n.all)===!1})).filter(a=>a.fileType===d.FileType.File);if(!i.length){d.window.showInformationMessage(d.l10n.t("There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,t,i,void 0,n)}finally{r.stop()}}pathToRelativePath(t){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(t))}pathToRelativeUri(t){return L(this.rootUri,c1(t))}}o(U0,"GitHubRepository");const l1=/^\/?([a-zA-Z])(?::\/)(.*)$/,u1=/\\/g;function c1(e){e=d.Uri.file(e).fsPath.replace(u1,"/");const t=l1.exec(e);return t!==null&&([,,e]=t),e.startsWith("/")?e:`/${e}`}o(c1,"normalizePath");function qf(e){switch(e){case G.Changed:return Ts.MODIFIED;case G.Created:return Ts.INTENT_TO_ADD;case G.Deleted:return Ts.DELETED}}o(qf,"opTypeToStatus");class tu extends Error{constructor(t,n,r){super(t.message);this.original=t,this.name=n,this.id=r;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,tu)}}o(tu,"PullRequestNotFoundError");class Is extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,Is)}}o(Is,"RepositoryForbiddenError");class As extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,As)}}o(As,"RepositoryNotFoundError");class nu extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,nu)}}o(nu,"RepositoryEmptyError");var f1=Object.defineProperty,d1=Object.getOwnPropertyDescriptor,Vi=o((e,t,n,r)=>{for(var i=r>1?void 0:r?d1(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&f1(t,n,i),i},"messages_decorateClass");class fi{showGitHubStatus500Message(){return d.window.showErrorMessage(d.l10n.t("GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),d.l10n.t("OK")),Promise.resolve()}async showStatus401Message(t){if(!t)return void d.window.showErrorMessage(d.l10n.t("The provided credentials are either invalid or expired."),d.l10n.t("OK"));const n=d.l10n.t("Reauthenticate");await d.window.showErrorMessage(d.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),n)===n&&t()}async showStatus403Message(t){if(!t)return void d.window.showErrorMessage(d.l10n.t("The provided credentials do not have the required access."),d.l10n.t("OK"));const n=d.l10n.t("Reauthenticate"),r=d.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await d.window.showErrorMessage(r,n)===n&&t()}async showRepositoryEmptyMessage(t){const n=d.l10n.t("Open Repository");await d.window.showErrorMessage(d.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",t),{modal:!0},n)===n&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(t,n){const r=d.l10n.t("Open Pull Request");await d.window.showErrorMessage(d.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",t,n),r)===r&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(t,n){const r=d.l10n.t("OK");await d.window.showWarningMessage(d.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",t,n),r)}async showRepositoryForbiddenMessage(t,n){const r=d.l10n.t("Open Repository"),i=d.l10n.t("Reauthenticate"),a=await d.window.showErrorMessage(d.l10n.t("You don't have access to repository '{0}'. Would you like to open another repository or reauthenticate?",t),{modal:!0},r,i);a===r?d.commands.executeCommand("remoteHub.openRepository"):a===i&&n()}async showRepositoryNotFoundMessage(t){const n=d.l10n.t("Open Repository");await d.window.showErrorMessage(d.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",t),{modal:!0},n)===n&&d.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(t){const n=d.l10n.t("Open Repository");await d.window.showErrorMessage(d.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(t)),{modal:!0},n)===n&&d.commands.executeCommand("remoteHub.openRepository")}}o(fi,"Messages"),Vi([Pt(()=>"")],fi.prototype,"showGitHubStatus500Message",1),Vi([Pt(()=>"")],fi.prototype,"showStatus401Message",1),Vi([Pt(()=>"")],fi.prototype,"showStatus403Message",1),Vi([Pt()],fi.prototype,"showRepositoryEmptyMessage",1),Vi([Pt()],fi.prototype,"showPullRequestNotFoundMessage",1),Vi([Pt()],fi.prototype,"showPullRequestHeadNotFoundMessage",1),Vi([Pt()],fi.prototype,"showRepositoryForbiddenMessage",1),Vi([Pt()],fi.prototype,"showRepositoryNotFoundMessage",1),Vi([Pt()],fi.prototype,"showUnableToOpenRepositoryMessage",1);const Yr=new fi;var Vf=__webpack_require__(4155),h1=Object.defineProperty,g1=Object.getOwnPropertyDescriptor,$0=o((e,t,n,r)=>{for(var i=r>1?void 0:r?g1(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&h1(t,n,i),i},"provider_decorateClass");const H0=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,z0=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,W0=/^git@github\.com:(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i,p1=["repo","workflow"],ru=["repo","workflow","user:email","read:user"],iu=1,Gf=Object.freeze({id:"github",name:"GitHub"});function Ha(e){const{scheme:t,metadata:n}=D.decodeAuthority(e,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:iu,ref:{type:oe.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:iu,ref:{type:oe.Tree,id:s.ref},idx:s.idx}}),[,r,i,...a]=e.path.split("/");return{scheme:t,provider:Gf,name:`${r}/${i}`,repo:{owner:r,name:i},path:a.join("/")||"",ref:n==null?void 0:n.ref,idx:n==null?void 0:n.idx}}o(Ha,"getGitHubMetadata");function v1(e,t){const{repo:n}=t!=null?t:Ha(e);return e.with({path:`/${n.owner}/${n.name}`,query:"",fragment:""})}o(v1,"getGitHubRootUri");function Zf(e,t,n){const{repo:{owner:r,name:i}}=e instanceof d.Uri?Ha(e):e;return d.Uri.parse(`github://${D.encodeAuthority("github",{v:iu,ref:{type:oe.Commit,id:t}})}/${r}/${i}/${n}`)}o(Zf,"getGitHubRevisionUri");class j0{constructor(t){if(this.scopes=t,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!Vf.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=Vf.env.GITHUB_REMOTEHUB_TEST_PAT}}o(j0,"TestAuthenticationSession");class au{constructor(t,n){this.providerService=t,this.tarPit=n,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.disposable=d.Disposable.from(t.onDidChangeRepository(r=>{r.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([r.repository.uri])}),t.onDidRefresh(r=>this.onRefreshOrRepositoryChanged(r))),ns&&(this.tarballProxyEndpoint=d.commands.executeCommand("_workbench.getTarballProxyEndpoints").then(r=>r==null?void 0:r["github.com"])),Vf.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new j0(p1))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(Gf.id)]}getRemoteSourceProviders(){var t;const n=[];return((t=d.extensions.getExtension("vscode.github"))==null?void 0:t.isActive)||n.push({name:"GitHub",icon:"github",label:d.l10n.t("Open Repository from {0}","GitHub"),placeholder:d.l10n.t("Choose a repository"),getRemoteSources:async r=>{r=r!=null?r:"";let i;const a=r==null?void 0:r.indexOf("/");a!==-1&&(i=r.substring(0,a),r=r.substr(a+1));const{results:s}=await this.searchRepositoriesQuery(r,{user:i}),l=[];return l.push(...s.map(c=>({providerId:"github",name:c.repoWithOwner,icon:"repo",description:`${c.fork?`$(repo-forked) ${c.fork}`:""}${c.stars>0?`${c.fork?" \u2022 ":""}$(star-full) ${c.stars}`:""}`,detail:c.description,url:c.url}))),l},getRecentRemoteSources:()=>[]}),n.push({name:"GitHub",icon:"github",label:d.l10n.t("Open Pull Request from {0}","GitHub"),placeholder:d.l10n.t("Choose a pull request"),getRemoteSources:async r=>{r=r!=null?r:"";let i;const a=r==null?void 0:r.indexOf("/");a!==-1&&(i=r.substring(0,a),r=r.substr(a+1));const{results:s}=await this.searchPullRequestsQuery(r,{user:i}),l=[];return l.push(...s.map(c=>({providerId:"github",name:c.title,icon:"git-pull-request",description:c.reasons.length!==0?c.reasons.sort().join(", "):void 0,detail:`${c.repoWithOwner} #${c.number}`,url:c.url}))),l}}),n}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(t){t=t.filter(n=>D.getProviderId(n)===this.scheme),t.length!==0&&(this.fileTreeCache.forEach(n=>n.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(t=!1){const n=new j("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function r(){try{return t?await d.authentication.getSession("github",ru,{forceNewSession:t}):await d.authentication.getSession("github",ru,{createIfNone:!0})}catch(a){xe.error(a);try{const s=await d.authentication.getSession("github",ru,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function l(){const u=await d.authentication.getSession("github",ru,{createIfNone:!0});u!==void 0&&s(u)}o(l,"getSession");const c=d.authentication.onDidChangeSessions(async u=>{u.provider.id==="github"&&(c.dispose(),await l())})})}}o(r,"waitUntilAuthenticated"),this._session=await r();const i=d.authentication.onDidChangeSessions(a=>{if(this._session===void 0){i.dispose();return}a.provider.id==="github"&&(this.clearAuthenticationSession(),i.dispose())})}return this._session}finally{n.stop()}}async getAuthentication(t){const n=await this.ensureAuthenticated();return{provider:Gf,session:n,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${n.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(t){if(this._octokitDefaults===void 0){const r=await this.ensureAuthenticated();if(ns){async function i(a,s){if(s.headers!==void 0){const{"user-agent":l,...c}=s.headers;l&&(s.headers=c)}return Sx(a,s)}o(i,"fetchCore"),this._octokitDefaults=Cs.defaults({auth:`token ${r.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=Cs.defaults({auth:`token ${r.accessToken}`})}const n=new this._octokitDefaults(t);return(xe.logLevel===Je.Debug||xe.isDebugging)&&n.hook.wrap("request",async(r,i)=>{var a;const s=new j(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await r(i)}finally{let l;try{if(typeof i.query=="string"){const c=/(^[^({\n]+)/.exec(i.query);l=` ${(a=c==null?void 0:c[1].trim())!=null?a:i.query}`}}catch{}s.stop({message:l})}}),n}async graphql(t,n,r=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(t,n)}catch(i){throw r||this.handleRequestErrors(i),xe.error(i),i}}async request(t,n){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(t,n)}catch(r){throw this.handleRequestErrors(r),xe.error(r),r}}handleRequestErrors(t){var n,r;if(t instanceof Ki)switch(t.status){case 500:return t.response&&Yr.showGitHubStatus500Message(),!0;case 401:return Yr.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return Yr.showStatus403Message(()=>void this.reauthenticate()),!0}else if(t instanceof ga){if(((r=(n=t.errors)==null?void 0:n[0])==null?void 0:r.type)==="FORBIDDEN")return Yr.showStatus403Message(()=>void this.reauthenticate()),!0;if(t.headers.status==="500")return Yr.showGitHubStatus500Message(),!0}return!1}createIGitRepository(t,n,r,i){return new U0(this.providerService,t,n,r,i,this)}async createMetadata(t,n){var r,i,a,s,l,c;const u=new j(`GitHub.createMetadata(${t.toString()}, ${n})`);let f;try{let{provider:y,name:v,repo:{owner:S,name:H},ref:Z}=Ha(t);(!Z||Z.type===oe.Commit&&/HEAD/i.test(Z.id))&&(Z={type:oe.Commit,id:"HEAD"});const U=this.providerService.isInWorkspace(t),q=await this.getRepositoryInfo(S,H,U,Z.type===oe.PullRequest?{pr:Number(Z.id)}:{ref:Z.id});if(q===void 0)throw f=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get repository info`);let ne;if(n)ne=n;else if(Z.type===oe.Commit&&Z.id!=="HEAD"||Z.type===oe.Tree&&q.ref===void 0)ne=Z.id;else if(ne=(i=(r=q.ref)==null?void 0:r.sha)!=null?i:q.defaultBranch.sha,ne===void 0)throw f=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get repository revision`);let fe;if(((a=q.ref)==null?void 0:a.prefix)==="refs/heads/")fe={type:J.Branch,name:q.ref.name,sha:ne,branch:{name:q.ref.name,sha:q.ref.sha}};else if(((s=q.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!q.ref.remote)throw f=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get remote info`);fe={type:J.RemoteBranch,name:`${q.ref.remote.repo.owner}${q.ref.remote.repo.name!==H?`/${q.ref.remote.repo.name}`:""}:${q.ref.name}`,sha:ne,branch:{name:q.ref.name,sha:q.ref.sha,remote:q.ref.remote}}}else((l=q.ref)==null?void 0:l.prefix)==="refs/tags/"?fe={type:J.Tag,name:q.ref.name,sha:ne,detached:{type:J.Tag,name:q.ref.name}}:fe={type:J.Commit,name:x(ne),sha:ne,detached:{type:J.Commit,name:x(ne)}};let se,be;if(Ye.get("experimental.prefetch")&&U&&(se=ne,u.log({suffix:` \u2022 Prefetching tree for ${se}...`}),this.getFileTree(t,void 0,{recursive:!0,prefetched:{metadata:new Promise(Ue=>be=Ue),repo:{owner:S,name:H},HEAD:{sha:se},timestamp:Date.now()}})),se!==void 0&&se!==fe.sha){const Ue=this.asFileTreeKey(t,se),ke=this.fileTreeCache.get(Ue);ke&&!A(se)&&fe.sha===((c=fe.branch)==null?void 0:c.sha)?(u.log({suffix:` \u2022 Updating prefetched tree for ${se}, since HEAD was resolved; HEAD=${fe.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(t,fe.sha),ke),this.fileTreeCache.delete(Ue)):(u.log({suffix:` \u2022 Removing prefetched tree for ${se}, since the HEAD changed; HEAD=${fe.sha}`}),this.fileTreeCache.delete(Ue),ke==null||ke.dispose())}const rt={version:ks.schemaVersion,timestamp:Date.now(),provider:y,name:v,repo:q.repo,cloneUrl:q.cloneUrl,accessLevel:q.accessLevel,HEAD:fe,defaultBranch:q.defaultBranch,pullRequest:q.pullRequest};return f=` \u2022 HEAD=${fe.sha}`,be==null||be(rt),rt}finally{u.stop(f?{suffix:f}:void 0)}}getMetadata(t){return this.providerService.getMetadata(t)}canOpenRemoteUrl(t){var n;const r=(n=H0.exec(t))!=null?n:W0.exec(t);if((r==null?void 0:r.groups)===void 0)return;const{blob:i,commit:a,pull:s,tree:l}=r.groups;return s?pe.PullRequest:a?pe.Commit:l?pe.Branch:i?pe.File:pe.Repository}async createWorkspaceForRemoteUrl(t,n=le.CurrentWindow){var r;const i=(r=H0.exec(t))!=null?r:W0.exec(t);if((i==null?void 0:i.groups)===void 0)return;let{owner:a,repo:s,blob:l,commit:c,pull:u,tree:f,fragment:y}=i.groups;s=s.endsWith(".git")?s.slice(0,s.length-4):s;const v=await this.validateOwnerAndRepoAndSplitRefFromPath(a,s,f!=null?f:l);if(v===void 0)return;let S,H;if({owner:a,repo:s,ref:H,path:S}=v,f||l){if(S&&y&&l){const q=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(y);if(q==null?void 0:q.groups){const{start:ne,end:fe}=q.groups;S+=`:${ne}${fe!==void 0?`-${fe}`:""}`}}}else c?H={type:oe.Commit,id:c}:u&&(H={type:oe.PullRequest,id:u});const Z=this.providerService.createVirtualUri("github",{repo:{owner:a,name:s},ref:H}),{name:U}=Ha(D.getVirtualUri(this.getProviderRootUri(Z)));return{name:U,uri:Z,location:n,filesToOpen:S?[S]:void 0}}createVirtualUri(t,{repo:n,ref:r,idx:i},a){const s=r!==void 0||i!==void 0?{v:iu}:void 0;return s&&(r&&(s.ref={...r,type:r.type===oe.Branch||r.type===oe.Tag?oe.Tree:r.type}),i&&(s.idx=i)),t.with({authority:D.encodeAuthority("github",s),path:`/${n.owner}/${n.name}${(a==null?void 0:a.startsWith("/"))?a:a?`/${a}`:""}`})}getRemoteUri(t){const n=`https://github.com/${t.repo.owner}/${t.repo.name}`,r=t.path?"blob":"tree",i=t.path?`/${t.path}`:"";return t.pullRequest?d.Uri.parse(`${n}/pull/${t.pullRequest.id}`):t.branch?d.Uri.parse(`${n}/${r}/${t.branch}${i}`):t.tag?d.Uri.parse(`${n}/${r}/${t.tag}${i}`):t.sha?d.Uri.parse(`${n}/${r}/${t.sha}${i}`):d.Uri.parse(n)}getProviderRootUri(t){return t=D.getProviderUri(t),v1(t)}getRelativeFilePath(t,n){let{path:r}=Ha(t);const{path:i}=Ha(L(t,n));return r.length!==0&&i!==r&&i.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,i.slice(r.length)):i}getVirtualUriMetadata(t){const{provider:n,name:r,repo:i,ref:a}=Ha(t);return{provider:n,name:r,repo:i,ref:a}}async getModeRefType(t,n){const{HEAD:r,pullRequest:i}=await(n!=null?n:this.getMetadata(t));switch(r.type){case J.Branch:return i!==void 0?me.PullRequestBranch:me.Branch;case J.RemoteBranch:return i!==void 0?me.PullRequestRemoteBranch:me.RemoteBranch;case J.Tag:return me.Tag;case J.Commit:return me.Commit}}async createBranch(t,n,r,i){try{const{repo:{owner:a,name:s}}=i!=null?i:await this.getMetadata(t);return n.startsWith("refs/heads/")||(n=`refs/heads/${n}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:a,repo:s,ref:n,sha:r})).data.ref.substr(11)}catch(a){throw a instanceof Ki&&a.status===422?a.message==="Reference already exists"?W.InvalidBranchNameError(n.substring(11),!0):W.InvalidBranchNameError(n.substring(11),!1):(xe.error(a),a)}}async createAndPushCommit(t,n,r,i,a,s){var l;const c=new j(`GitHub.createAndPushCommit(${t.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(r=r.filter(f=>f.fileType===d.FileType.File),r.length===0&&!(a==null?void 0:a.empty))throw c.stop({message:"Aborted; No changes to commit"}),W.NothingToCommitError("No changes to commit");let u;try{const f=await this.getMetadata(t);let y;if(i!==void 0)y=i;else{if(f.HEAD.detached&&!f.HEAD.branch)throw W.DetachedHEADError("Unable to commit; no current branch");y=f.HEAD.branch.name}let v;if(s)v=`${s.repo.owner}/${s.repo.name}`;else if(f.HEAD.type===J.RemoteBranch&&f.HEAD.branch.remote.accessLevel>=O.Write){const{owner:ne,name:fe}=f.HEAD.branch.remote.repo;v=`${ne}/${fe}`}else v=`${f.repo.owner}/${f.repo.name}`;const S=[],H=[];for(const ne of r)switch(ne.type){case G.Created:case G.Changed:{try{const fe=await ne.content;S.push({path:ne.path,contents:Rs(fe)})}catch(fe){throw xe.error(fe),W.CommitFailedError()}break}case G.Deleted:H.push({path:ne.path});break}const Z={branch:{branchName:y,repositoryNameWithOwner:v},message:{headline:n},fileChanges:{additions:S,deletions:H},expectedHeadOid:f.HEAD.sha},U=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,q=await this.graphql(U,{commitInput:Z});if(u=q==null?void 0:q.createCommitOnBranch.commit.oid,!u)throw W.CommitFailedError();return i===void 0&&!f.HEAD.detached&&u!==void 0&&await this.fastForwardTo(t,u,f),u}catch(f){if(f instanceof ga){const y=(l=f.errors)==null?void 0:l[0];if((y==null?void 0:y.type)==="STALE_DATA"&&y.message.includes("Pull and try again"))throw W.MergeConflictError(f);if((y==null?void 0:y.type)==="BRANCH_PROTECTION_RULE_VIOLATION"&&y.message.includes("protected branch"))throw W.CommitToProtectedBranchError(y.message)}throw xe.error(f),f}finally{c.stop(u?{message:`: Created and pushed commit ${u}`}:void 0)}}async createPullRequest(t,n,r,i,a,s){var l,c,u;const f=new j(`GitHub.createPullRequest(${t.toString()}, ${n}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);try{const{repo:{owner:y,name:v},HEAD:{branch:S},defaultBranch:H}=await this.getMetadata(t),Z=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:y,repo:v,base:`refs/heads/${(l=S==null?void 0:S.name)!=null?l:H.name}`,head:s?`${s.repo.owner}:${n}`:n,title:r,body:i,draft:(c=a==null?void 0:a.draft)!=null?c:!1,maintainer_can_modify:(u=a==null?void 0:a.canMaintainerModify)!=null?u:!0});return{id:Z.data.number.toString(),uri:d.Uri.parse(Z.data.html_url)}}catch(y){throw xe.error(y),y}finally{f.stop()}}async fetch(t,n){const{fetched:r,metadata:i}=await this.fetchCore(t,!1,n);r&&await this.providerService.updateMetadata(t,i)}async fetchCore(t,n,r){var i,a,s,l,c,u,f,y,v;const{force:S,to:H}={...r,force:n||(r==null?void 0:r.force)},Z=new j(`GitHub.fetch(${t.toString()}, force=${S}, to=${H})`);let U;try{const q=await this.getMetadata(t);if(q.HEAD.detached)return U=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:q};const ne=await this.getBranchTips(t);if(!ne)throw U=" \u2022 Unable to fetch branch tips",W.SyncOrFetchError(n);if(!S&&!H&&((i=ne.defaultBranch)==null?void 0:i.sha)!==void 0&&ne.defaultBranch.sha===q.defaultBranch.sha&&((a=ne.branch)==null?void 0:a.sha)!==void 0&&ne.branch.sha===q.HEAD.branch.sha&&(q.HEAD.sha===q.HEAD.branch.sha||q.state!==void 0))return U=" \u2022 No changes detected",{fetched:!1,metadata:q};let fe;if(((s=ne.defaultBranch)==null?void 0:s.sha)!==void 0&&ne.defaultBranch.sha!==q.defaultBranch.sha&&(fe={defaultBranch:{...q.defaultBranch,sha:ne.defaultBranch.sha}}),((l=ne.branch)==null?void 0:l.sha)===void 0){if(U=" \u2022 Unable to find branch tip",S)throw W.SyncOrFetchError(n);return fe!==void 0?{fetched:!0,metadata:{...q,...fe}}:{fetched:!1,metadata:q}}if(ne.branch.sha!==q.HEAD.branch.sha&&(fe={...fe,HEAD:{...q.HEAD,branch:{...q.HEAD.branch,sha:ne.branch.sha},detached:void 0}}),ne.branch.sha===((c=r==null?void 0:r.to)!=null?c:q.HEAD.sha))return U=" \u2022 Up to date",q.state!==void 0||fe!==void 0?{fetched:!0,metadata:{...q,...fe,state:void 0}}:{fetched:!1,metadata:q};Z.logStep("Fetching upstream changes");try{const se=await this.getAheadBehindState(t,q,{base:(u=r==null?void 0:r.to)!=null?u:q.HEAD.sha,head:(v=(y=(f=fe==null?void 0:fe.HEAD)==null?void 0:f.branch)==null?void 0:y.sha)!=null?v:q.HEAD.branch.sha});return U=` \u2022 Changes detected; ${se==null?void 0:se.behind} commits behind`,{fetched:!0,metadata:{...q,...fe,state:se?{ahead:se.ahead,behind:se.behind,incomingChanges:se.incomingChanges}:void 0}}}catch(se){if(U=` \u2022 Failed fetching upstream changes; ${String(se)}`,S)throw W.SyncOrFetchError(n);return fe!==void 0?{fetched:!0,metadata:{...q,...fe}}:{fetched:!1,metadata:q}}}finally{Z.stop(U?{suffix:U}:void 0)}}async fork(t){try{const{repo:{owner:n,name:r}}=await this.getMetadata(t),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:n,repo:r});let a;for(;;){try{if(a=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),a!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(n){throw xe.error(n),n}}async getBranch(t,n){try{const{repo:{owner:r,name:i}}=await this.getMetadata(t),a=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
					}
				}
			}`,s=await this.graphql(a,{owner:r,repo:i,qualifiedName:n.startsWith("refs/heads/")?n:`refs/heads/${n}`});return(s==null?void 0:s.repository)?{type:qi.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl}:void 0}catch(r){return}}async getBranches(t,n){var r,i,a;try{const{repo:{owner:s,name:l}}=await this.getMetadata(t),c=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
					commitUrl
				}
			}
		}
	}
}`,u=await this.graphql(c,{owner:s,repo:l,branchQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(u===void 0)return{branches:[]};const f=(a=u.repository)==null?void 0:a.refs;if(f===void 0)return{branches:[]};const y=f.nodes.map(v=>({type:qi.Head,name:v.name,commit:v.target.oid,commitUrl:v.target.commitUrl}));return{paging:{cursor:f.pageInfo.endCursor,more:f.pageInfo.hasNextPage},branches:y}}catch(s){return{branches:[]}}}async getCommit(t,n){var r;try{const{HEAD:i,repo:{owner:a,name:s}}=await this.getMetadata(t),l=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;n.toUpperCase()==="HEAD"&&(n=i.sha);const c=await this.graphql(l,{owner:a,repo:s,ref:n});if(c===void 0)return;const u=(r=c.repository)==null?void 0:r.object;return u===void 0?void 0:{hash:u.oid,message:u.message,parents:u.parents.nodes.map(f=>f.oid),authorDate:new Date(u.author.date),authorEmail:u.author.email,authorName:u.author.name,commitDate:new Date(u.committer.date)}}catch(i){return}}async getCommits(t,n){var r,i,a;try{const{HEAD:s,repo:{owner:l,name:c}}=await this.getMetadata(t),u=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let f=n==null?void 0:n.ref;(f==null?void 0:f.toUpperCase())==="HEAD"&&(f=s.sha);const y=await this.graphql(u,{owner:l,repo:c,ref:f,cursor:n==null?void 0:n.cursor,path:n==null?void 0:n.path,limit:Math.min(100,(r=n==null?void 0:n.limit)!=null?r:100)});if(y===void 0)return;const v=(a=(i=y.repository)==null?void 0:i.object)==null?void 0:a.history;if(v===void 0)return;const S=v.nodes.map(H=>({hash:H.oid,message:H.message,parents:H.parents.nodes.map(Z=>Z.oid),authorDate:new Date(H.author.date),authorEmail:H.author.email,authorName:H.author.name,commitDate:new Date(H.committer.date)}));return{paging:{cursor:v.pageInfo.endCursor,more:v.pageInfo.hasNextPage},commits:S}}catch(s){return}}async getBlobContent(t,n){try{const r=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:t.owner,repo:t.name,file_sha:n});return ri(r.data.content)}catch(r){throw xe.logLevel===Je.Debug&&xe.error(r),r}}async getFileContent(t,n,r){try{let i;if(n&&r&&!this.hasFileTree(t,n)){const a=this.getProviderRootUri(t);r.startsWith("/")&&(r=r.slice(1));let s=(0,Ex.dirname)(r);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(a,n,{path:s,recursive:!1})).get(r)}else{const[a,{path:s}]=await Promise.all([this.getFileTree(t,n),r?{path:void 0}:this.providerService.getMetadata(t)]);i=await a.get(r!=null?r:s)}if((i==null?void 0:i.sha)===void 0)throw d.FileSystemError.FileNotFound(t);return await i.getContent()}catch(i){throw xe.logLevel===Je.Debug&&xe.error(i),i}}async getFileList(t,n,r){const i=new j(`GitHub.getFileList(${t.toString()}${r?`, ${r}`:""})`);try{const{repo:{owner:a,name:s},HEAD:{sha:l}}=await this.getMetadata(t),c=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:a,repo:s,treeish:`${r!=null?r:l}${n?`:${n}`:""}`});return c.status!==200?[]:c.data}catch(a){return xe.error(a),[]}finally{i.stop()}}hasFileTree(t,n){return n?this.fileTreeCache.has(this.asFileTreeKey(t,n)):this.getMetadata(t).then(r=>this.fileTreeCache.has(this.asFileTreeKey(t,r.HEAD.sha)))}async getFileTree(t,n,r){var i,a,s,l;const c=this.providerService.isInWorkspace(t);let u=c,f,y,v;if(u||!n){const U=(a=(i=r==null?void 0:r.prefetched)==null?void 0:i.metadata)!=null?a:this.getMetadata(t);f=c?this.getFileTreePermissions(t,U):void 0;let q;({repo:y,HEAD:{sha:q},timestamp:v}=(s=r==null?void 0:r.prefetched)!=null?s:await U),n||(n=q)}else({repo:y}=(l=r==null?void 0:r.prefetched)!=null?l:this.providerService.getVirtualUriMetadata(t)),v=Date.now();const S=this.asFileTreeKey(t,n);this.fileTreesToCache.has(S)&&(u=!0),this.fileTreesToCache.add(S);const H=this.getProviderRootUri(t),Z=new j(`GitHub.getFileTree(${S}): ${t.toString()}`,{log:!1,logLevel:Je.Debug});try{let U=o(function(){var ne;const fe=new j(`GitHub.createFileTree(${S})`);let se,be;u&&c&&(se=new d.EventEmitter,be=d.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>se.fire()),this.tarPit.onDidDownloadTar(Ue=>se.fire({rootUri:this.getProviderRootUri(Ue.rootUri),sha:Ue.sha}))));const rt={dispose:()=>be==null?void 0:be.dispose(),permissions:f,getContent:async(Ue,ke)=>{const wt=new j("getFileContents"),Fe=Ye.get("experimental.fs.useTars");if(Fe==="always"||Fe==="ifAvailable"){const on=await this.tarPit.getInMemoryTar(H,n);if(on){const Mn=on.entryMap.get(ke);if(Mn)return wt.stop({message:`Retrieved ${ke} from in-memory tar with rootUri=${H.toString()}, ref=${n==null?void 0:n.toString()}`}),Mn.dataAsBytes}}let Ct=!1;return new Promise((on,Mn)=>{this.getBlobContent(y,Ue.sha).then(Se=>{Ct||(wt.stop({message:`Retrieved ${ke} from web`}),Ct=!0,on(Se))},Se=>Mn(Se)),Fe!=="never"&&this.tarPit.getCachedTar(H,n).then(Se=>Se===void 0&&Fe==="always"&&!Ct?this.tarPit.getTar(H,!1,n):Se).then(Se=>{var ft;const bt=(ft=Se==null?void 0:Se.entryMap.get(ke))==null?void 0:ft.dataAsBytes;bt&&!Ct&&(wt.stop({message:`Retrieved ${ke} from tar`}),Ct=!0,on(bt))},Se=>{})})},getTree:async(Ue,ke)=>{const wt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:y.owner,repo:y.name,recursive:ke?"1":void 0,tree_sha:`${n}${Ue?`:${Ue}`:""}`});return wt.data.truncated?{sha:wt.data.sha,truncated:!0}:{sha:wt.data.sha,truncated:!1,tree:jg(wt.data.tree,Fe=>{var Ct;return{path:Fe.path,item:{mode:Fe.mode,sha:Fe.sha,stat:{type:y1(Fe.type),size:(Ct=Fe.size)!=null?Ct:0,ctime:0,mtime:v,permissions:void 0}}}})}},onDidTriggerContentCaching:se==null?void 0:se.event,tryCachingContent:u&&c?async Ue=>{const ke=Ye.get("experimental.fs.useTars");if(ke!=="always"&&ke!=="ifAvailable")return!1;const wt=new j(`FileTree.loadAllContent(${n})`);let Fe;try{let Ct;if(ke==="ifAvailable"){if(wt.logStep("Tar cache query"),Ct=await this.tarPit.getCachedTar(H,n),Ct===void 0)return Fe=" \u2022 No cached Tar",!1}else wt.logStep("Tar query"),Ct=await this.tarPit.getTar(H,!1,n);wt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const on of Ct.entries){const Mn=Ue(on.header.fullFileName);if(Mn===void 0)continue;const Se=on.dataAsBytes;Mn.getContent=()=>Se}return!0}catch(Ct){return Fe=` \u2022 Failed ${String(Ct)}`,!1}finally{wt.stop(Fe?{suffix:Fe}:void 0)}}:void 0};try{return new Kf(H,n,v,rt,{path:r==null?void 0:r.path,recursive:(ne=r==null?void 0:r.recursive)!=null?ne:u,preload:u||(r==null?void 0:r.recursive)})}catch(Ue){return xe.error(Ue),new Kf(H,n,v,void 0)}finally{fe.stop()}},"createFileTree"),q=this.fileTreeCache.get(S);return q!==void 0||(q=U.call(this),u&&this.fileTreeCache.set(S,q)),q}finally{Z.stop()}}async getFileTreePermissions(t,n){if(this.providerService.getModeConfig(t,await this.getModeRefType(t,n)).display===ve.Edit)return;const i=await this.providerService.getIndexMetadata(t);return V.isActive(i)?d.FilePermission.Readonly:void 0}async getFork(t){var n,r,i;try{const{repo:{owner:a,name:s}}=await this.getMetadata(t),l=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,c=await this.graphql(l,{owner:a,repo:s});if(c===void 0)return;const[u]=(i=(r=(n=c.repository)==null?void 0:n.forks)==null?void 0:r.nodes)!=null?i:[];return u===void 0?void 0:{name:`${u.owner.login}/${u.name}`,repo:{owner:u.owner.login,name:u.name},url:u.url}}catch(a){return}}async getIncomingChanges(t){var n,r;return(r=(n=(await this.getMetadata(t)).state)==null?void 0:n.incomingChanges)!=null?r:[]}async compareCommits(t,n){const r=await this.getMetadata(t),i=await this.getAheadBehindState(t,r,{base:n.base,head:n.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(t,n,r){var i,a,s,l,c;const{base:u,head:f}={base:n.HEAD.sha,head:(i=n.HEAD.branch)==null?void 0:i.sha,...r},y=new j(`GitHub.getAheadBehindState(${t.toString()}, base=${u}, head=${f})`);let v,S;try{if(!f){v=` \u2022 Skipped; Unsupported HEAD type (${n.HEAD.type})`;return}const H=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:n.repo.owner,repo:n.repo.name,base:u,head:f}),Z=[];for(const U of(a=H.data.files)!=null?a:[])switch(U.status){case"added":case"copied":Z.push({uri:d.Uri.joinPath(t,U.filename),type:G.Created});break;case"removed":Z.push({uri:d.Uri.joinPath(t,U.filename),type:G.Deleted});break;case"modified":Z.push({uri:d.Uri.joinPath(t,U.filename),type:G.Changed});break;case"renamed":Z.push({uri:d.Uri.joinPath(t,U.filename),type:G.Created}),Z.push({uri:d.Uri.joinPath(t,U.previous_filename),type:G.Deleted});break;default:xe.warn(`GitHub.getAheadBehindState(${t.toString()}, base=${u}, head=${f}): Unknown file status encountered '${U.status}'`);break}return S={ahead:(s=H.data.behind_by)!=null?s:0,behind:(l=H.data.ahead_by)!=null?l:0,incomingChanges:Z},S}catch(H){throw v=` \u2022 Failed; ${String(H)}`,xe.error(H),H}finally{y.stop({suffix:v!=null?v:` \u2022 ${(c=S==null?void 0:S.behind)!=null?c:0} commits behind`})}}async getObjectDetails(t,n,r){var i;try{const a=await this.getFileTree(t,n);r?r=this.providerService.getRelativeFilePath(t,this.providerService.createRelativeUri(t,r)):{path:r}=await this.providerService.getMetadata(t);const s=await a.get(r);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${r} in ${n}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(a){throw xe.error(a),a}}async getPullRequest(t,n){const{repo:{owner:r,name:i}}=await this.getMetadata(t);return this.getPullRequestCore(r,i,n)}async getPullRequestCore(t,n,r){var i,a,s,l,c,u,f;try{const y=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,v=await this.graphql(y,{owner:t,repo:n,number:Number(r)}),S=(i=v==null?void 0:v.repository)==null?void 0:i.pullRequest;return S?{author:{name:S.author.login,avatarUrl:S.author.avatarUrl,url:S.author.url},closedAt:S.closedAt?new Date(S.closedAt):void 0,mergedAt:S.mergedAt?new Date(S.mergedAt):void 0,id:S.number.toString(),repo:{name:S.repository.name,owner:S.repository.owner.login},state:Qf(S.state),title:S.title,updatedAt:new Date(S.updatedAt),url:S.permalink,refs:{base:{owner:S.baseRepository.owner.login,repo:S.baseRepository.name,branch:S.baseRefName,sha:S.baseRefOid,exists:S.baseRef!=null},head:{owner:(c=(l=(a=S.headRepository)==null?void 0:a.owner.login)!=null?l:(s=S.headRepositoryOwner)==null?void 0:s.login)!=null?c:"<unknown>",repo:(f=(u=S.headRepository)==null?void 0:u.name)!=null?f:S.baseRepository.name,branch:S.headRefName,sha:S.headRefOid,exists:S.headRef!=null}}}:void 0}catch(y){xe.error(y);return}}async getPullRequestForBranch(t,n,r){var i,a,s,l,c;try{const{repo:{owner:u,name:f}}=await this.getMetadata(t),y=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,v=await this.graphql(y,{owner:u,repo:f,branch:n,maxCount:(i=r==null?void 0:r.maxCount)!=null?i:1,states:m1(r==null?void 0:r.include)}),S=(c=(l=(s=(a=v==null?void 0:v.repository)==null?void 0:a.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:l.nodes)==null?void 0:c.filter(Z=>!Z.repository.isFork||Z.repository.owner.login===u);if(S==null||S.length===0)return;S.length>1&&S.sort((Z,U)=>(Z.repository.owner.login===u?-1:1)-(U.repository.owner.login===u?-1:1)||(Z.state==="OPEN"?-1:1)-(U.state==="OPEN"?-1:1)||new Date(U.updatedAt).getTime()-new Date(Z.updatedAt).getTime());const[H]=S;return{author:{name:H.author.login,avatarUrl:H.author.avatarUrl,url:H.author.url},closedAt:H.closedAt?new Date(H.closedAt):void 0,mergedAt:H.mergedAt?new Date(H.mergedAt):void 0,id:H.number.toString(),repo:{name:H.repository.name,owner:H.repository.owner.login},state:Qf(H.state),title:H.title,updatedAt:new Date(H.updatedAt),url:H.permalink}}catch(u){xe.error(u);return}}async getTags(t,n){var r,i,a;try{const{repo:{owner:s,name:l}}=await this.getMetadata(t),c=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,u=await this.graphql(c,{owner:s,repo:l,tagQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(u===void 0)return{tags:[]};const f=(a=u.repository)==null?void 0:a.refs;if(f===void 0)return{tags:[]};const y=f.nodes.map(v=>({type:qi.Tag,name:v.name,commit:v.target.oid,commitUrl:v.target.commitUrl}));return{paging:{cursor:f.pageInfo.endCursor,more:f.pageInfo.hasNextPage},tags:y}}catch(s){return{tags:[]}}}async loadWorkspaceContents(t){try{return await this.tarPit.getTar(t,!1,void 0),!0}catch(n){return xe.error(n),!1}}async getTarGz(t,n,r){const{repo:{owner:i,name:a}}=await this.getMetadata(t),s=await this.ensureAuthenticated(),l=Ye.get("indexing.verboseDownloadNotification");return d.window.withProgress({location:l?d.ProgressLocation.Notification:d.ProgressLocation.Window,cancellable:!0,title:d.l10n.t("Downloading repository index")},async(c,u)=>{try{if(ns){let v;try{const U=await this.tarballProxyEndpoint;U!==void 0&&(v=U.replace("{owner}",i).replace("{repo}",a).replace("{sha}",n))}catch{}if(!v)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const H=await(await x0(v,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},u)).text();return await b0(H,{},r,u,c)}const f=`https://api.github.com/repos/${i}/${a}/tarball/${n}`;return await b0(f,{headers:{Authorization:`Bearer ${s.accessToken}`}},r,u,c)}catch(f){throw xe.error(f),f}})}async queryRepositoryObject(t,n,r,i){var a,s;try{const{repo:{owner:l,name:c},HEAD:{sha:u},path:f}=await this.providerService.getMetadata(t),y=`query ${n}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${r}
		}
	}
}`,v=await this.graphql(y,{owner:l,repo:c,expression:i!=null?i:`${u}:${f}`});return(s=(a=v==null?void 0:v.repository)==null?void 0:a.object)!=null?s:void 0}catch(l){xe.error(l);return}}async repositoryObjectExists(t,n){return await this.queryRepositoryObject(t,"exists","			__typename",n)!==void 0}async searchPullRequestsQuery(t,n){var r;function i(a){function s(l,c){return{number:l.number,title:l.title,repoWithOwner:l.repository.nameWithOwner,reasons:c?[c]:[],url:l.url}}return o(s,"toResult"),ef([...a.assigned.nodes.filter(l=>l!==null).map(l=>s(l,"assigned")),...a.reviewRequested.nodes.filter(l=>l!==null).map(l=>s(l,"review requested")),...a.mentioned.nodes.filter(l=>l!==null).map(l=>s(l,"mentioned")),...a.authored.nodes.filter(l=>l!==null).map(l=>s(l,"authored")),...py(a.viewer.repositories.nodes,l=>l.pullRequests.nodes.filter(c=>c!==null).map(c=>s(c)))],l=>l.url,(l,c)=>(c.reasons.length!==0&&l.reasons.push(...c.reasons),l))}o(i,"processQueryResults");try{const a=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;t=t.trim(),(n==null?void 0:n.user)&&(t+=` user:${n.user}`);const s=await this.graphql(a,{authored:(t?`${t} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(t?`${t} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(t?`${t} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(t?`${t} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(a){return a instanceof ga?{results:i(a.data),hasSAMLProtectedResults:((r=a.errors)==null?void 0:r.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(a),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(t,n){var r;function i(a){var s,l,c;const u=ef((n==null?void 0:n.user)?[...a.search.nodes,...a.viewer.repositories.nodes]:[...a.viewer.repositories.nodes,...a.search.nodes],y=>y==null?void 0:y.url),f=[];for(const y of u)y!==null&&f.push({repoWithOwner:y.nameWithOwner,owner:y.nameWithOwner.split("/")[0],repo:y.nameWithOwner.split("/")[1],description:(s=y.description)!=null?s:void 0,url:y.url,fork:(c=(l=y.parent)==null?void 0:l.nameWithOwner)!=null?c:void 0,stars:y.stargazerCount});return f}o(i,"processQueryResults");try{const a=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(n==null?void 0:n.user)&&(t+=` user:${n.user}`),(n==null?void 0:n.owner)&&(t+=` owner:${n.owner}`),(n==null?void 0:n.sort)&&(t+=` sort:${n.sort}`),t+=" fork:true";const s=await this.graphql(a,{search:t.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(a){return a instanceof ga?{results:i(a.data),hasSAMLProtectedResults:((r=a.errors)==null?void 0:r.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(a),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(t,n,r){var i,a,s;const{repo:{owner:l,name:c},HEAD:u,defaultBranch:f}=await this.getMetadata(n),y=[];((i=u.branch)==null?void 0:i.name)!==f.name&&y.push(d.l10n.t("Unable to search {0} without index, falling back to {1}.",(s=(a=u.branch)==null?void 0:a.name)!=null?s:u.detached.name,f.name));try{const S=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${t} repo:${l}/${c}`}),H=new d.Range(0,0,0,0),Z=[];let U=0,q;for(const ne of S.data.items)for(const fe of ne.text_matches){if(U++,r.maxResults!==void 0&&U>r.maxResults)return{matches:Z,limitHit:!0};q={path:ne.path,ranges:[],preview:fe.fragment,matches:[]};for(const se of fe.matches){let be=0,rt=0,Ue=0;for(let ke=0;ke<se.indices[1];ke++)ke===se.indices[0]&&(rt=Ue),fe.fragment[ke]===`
`?(be++,Ue=0):Ue++;q.ranges.push(H),q.matches.push(new d.Range(be,rt,be,Ue))}Z.push(q)}return{matches:Z,limitHit:!1,warnings:y}}catch(v){return{matches:[],limitHit:!0}}}async switchTo(t,n,r){const{name:i,repo:a,HEAD:{branch:s}}=await this.getMetadata(t);let l;if(!(n!==void 0&&(typeof n=="string"?(n==null?void 0:n.startsWith("refs/heads/"))?(l={type:oe.Tree,id:n.substr(11)},n=n.substr(11)):(n==null?void 0:n.startsWith("refs/tags/"))?l={type:oe.Tree,id:n.substr(10)}:l={type:oe.Tree,id:n}:l={...n,type:n.type===oe.Branch||n.type===oe.Tag?oe.Tree:n.type},(s==null?void 0:s.name)===l.id)))return{name:i,uri:this.providerService.createVirtualUri(t,{repo:a,ref:l}),location:(r==null?void 0:r.openInNewWindow)?le.NewWindow:le.CurrentWindow}}async sync(t,n,r){var i,a,s,l,c,u;const f=new j(`GitHub.sync(${t.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let y;try{const{metadata:v}=await this.fetchCore(t,!0,{to:r.to});if(v.HEAD.detached){y=" \u2022 Skipped; detached HEAD";return}if(((a=(i=v==null?void 0:v.state)==null?void 0:i.behind)!=null?a:0)>0&&await n.hasChanges(t)){f.logStep("Fetching upstream changes");const S=[],H=(l=(s=v.state)==null?void 0:s.incomingChanges)!=null?l:[];if(H.length>0){const Z=await n.getChanges(t);for(const U of Z){const q=this.providerService.getRelativeFilePath(t,U.uri),ne=H.find(fe=>this.providerService.getRelativeFilePath(t,fe.uri)===q);ne!==void 0&&S.push({path:q,current:U,incomingType:ne.type})}}if(S.length>0)switch(r.conflictResolution){case de.KeepCurrent:f.logStep("Syncing (keep) upstream changes",{message:`: ${S.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const Z of S)await n.keep(Z.current.uri,{type:Z.incomingType,providerUri:Zf(v,v.HEAD.branch.sha,Z.path)});break;case de.DiscardCurrent:f.logStep("Syncing (discard) upstream changes",{message:`: ${S.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const Z of S)await n.discard(Z.current.uri);break;case de.Merge:f.logStep("Syncing (merge) upstream changes",{message:`: ${S.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const Z of S)await n.merge(Z.current.uri,{type:Z.incomingType,providerUri:Zf(v,v.HEAD.branch.sha,Z.path)},{providerUri:Zf(v,v.HEAD.sha,Z.path)});break;case de.Abort:default:throw f.logStep("Syncing (abort) upstream changes",{message:`: ${S.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(t,v),W.SyncConflictsError()}}y=` \u2022 to=${(c=r.to)!=null?c:v.HEAD.branch.sha}`,await this.fastForwardTo(t,(u=r.to)!=null?u:v.HEAD.branch.sha,v)}finally{f.stop(y?{suffix:y}:void 0)}}async fastForwardTo(t,n,r){if(r.HEAD.detached)throw W.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===n&&r.state===void 0)return;const i=this.asFileTreeKey(t,r.HEAD.sha),a=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),a==null||a.dispose(),xe.log(`Fast forward to ${n}; rootUri=${t.toString()}`),await this.providerService.updateMetadata(t,{...r,HEAD:{...r.HEAD,detached:void 0,sha:n},state:n!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),n!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(t,!1,{to:n})}async getBranchTips(t,n){try{const{repo:{owner:r,name:i},HEAD:a}=await this.getMetadata(t);n===void 0&&(a.type===J.RemoteBranch?n=`${a.branch.remote.repo.owner}/${a.branch.remote.repo.name}:refs/heads/${a.branch.name}`:n=a.branch?`refs/heads/${a.branch.name}`:"");const s=z0.exec(n);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(r,i,n);const l=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,c=await this.graphql(l,{owner:r,repo:i,ref:n});if((c==null?void 0:c.repository)==null)return;const{defaultBranchRef:u,ref:f}=c.repository;return!u&&!f?void 0:{defaultBranch:u?{sha:u.target.oid}:void 0,branch:f?{sha:f.target.oid}:void 0}}catch(r){return}}async getRemoteBranchTips(t,n,r){try{const i=z0.exec(r);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:a,remoteRepo:s,remoteRef:l}=i.groups;s||(s=n);const c=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,u=await this.graphql(c,{owner:t,repo:n,remoteOwner:a,remoteRepo:s,remoteRef:l});if((u==null?void 0:u.repository)==null||(u==null?void 0:u.remote)==null)return;const{repository:{defaultBranchRef:f},remote:{ref:y}}=u;return!f&&!y?void 0:{defaultBranch:f?{sha:f.target.oid}:void 0,branch:y?{sha:y.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(t,n,r,i){var a,s,l,c,u,f,y,v,S,H,Z,U,q,ne,fe,se;try{const be=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,rt=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${be}
		}
	}
}`;let Ue,ke;try{const on=await this.graphql(rt,{owner:t,repo:n,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(a=i==null?void 0:i.pr)!=null?a:0});if((on==null?void 0:on.repository)==null)return;({repository:ke,viewer:{login:Ue}}=on)}catch(on){if((i==null?void 0:i.pr)&&on instanceof ga&&((l=(s=on.errors)==null?void 0:s[0])==null?void 0:l.type)==="NOT_FOUND"&&((c=on.errors[0])==null?void 0:c.message.includes("Could not resolve to a PullRequest"))){({repository:ke,viewer:{login:Ue}}=on.data);try{const Mn=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${be}
			}
		}
	}
}`,{owner:t,repo:n,pr:i==null?void 0:i.pr});if(((f=(u=Mn==null?void 0:Mn.repository)==null?void 0:u.parent)==null?void 0:f.pullRequest)==null)throw on;ke.pullRequest=Mn.repository.parent.pullRequest}catch{throw on}}else throw on}const wt=(y=ke.defaultBranchRef)!=null?y:void 0;if((wt==null?void 0:wt.name)==null)return;const Fe=ke.pullRequest;let Ct;if(ke==null?void 0:ke.ref)Ct={prefix:ke.ref.prefix,name:ke.ref.name,sha:"oid"in ke.ref.target?ke.ref.target.oid:ke.ref.target.target.oid};else if(Fe==null?void 0:Fe.headRef){let on=Xf(Fe.headRepository.viewerPermission);on<O.Write&&Fe.maintainerCanModify&&Xf(ke.viewerPermission)>=O.Write&&(on=O.WriteToPullRequest),Ct=Fe.headRepository.owner.login===t?{prefix:"refs/heads/",name:Fe==null?void 0:Fe.headRef.name,sha:(S=(v=Fe.mergeCommit)==null?void 0:v.oid)!=null?S:Fe==null?void 0:Fe.headRefOid}:{prefix:"refs/remotes/",name:Fe==null?void 0:Fe.headRef.name,sha:(Z=(H=Fe.mergeCommit)==null?void 0:H.oid)!=null?Z:Fe==null?void 0:Fe.headRefOid,remote:{name:`${Fe.headRepository.owner.login}/${Fe.headRepository.name}`,accessLevel:on,repo:{owner:Fe.headRepository.owner.login,name:Fe.headRepository.name}}}}else(Fe==null?void 0:Fe.baseRef)?(Ct={prefix:"refs/heads/",name:Fe==null?void 0:Fe.baseRef.name,sha:(q=(U=Fe.mergeCommit)==null?void 0:U.oid)!=null?q:Fe==null?void 0:Fe.baseRefOid},r&&(xe.log("Did not find a headRef for PR, falling back to baseRef",Fe.baseRef),Yr.showPullRequestHeadNotFoundMessage(`${t}/${n}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(Ct={prefix:"refs/heads/",name:wt.name,sha:wt.target.oid});return{user:Ue,repo:{owner:ke.owner.login,name:ke.name},accessLevel:Xf(ke.viewerPermission),ref:Ct,defaultBranch:{name:wt.name,sha:wt.target.oid},cloneUrl:{http:ke.url,ssh:ke.sshUrl},pullRequest:Fe?{id:Fe.number.toString(),state:Qf(Fe.state),title:Fe.title}:void 0}}catch(be){if(be instanceof ga)switch((fe=(ne=be.errors)==null?void 0:ne[0])==null?void 0:fe.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&((se=be.errors[0])==null?void 0:se.message.includes("Could not resolve to a PullRequest"))){const Ue=new tu(be,`${t}/${n}`,`#${i==null?void 0:i.pr}`);throw r&&Yr.showPullRequestNotFoundMessage(Ue.name,Ue.id),Ue}const rt=new As(be,`${t}/${n}`);throw r?W.InvalidRepositoryError():rt}case"FORBIDDEN":{const rt=new Is(be,`${t}/${n}`);throw r&&Yr.showRepositoryForbiddenMessage(rt.name,()=>this.reauthenticate()),rt}}xe.error(be,`Failed to get repository info for '${t}/${n}'`),!this.handleRequestErrors(be)&&r&&Yr.showUnableToOpenRepositoryMessage(be);return}}async validateOwnerAndRepoAndSplitRefFromPath(t,n,r){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${r!=null?r:"HEAD"}`,{owner:t,repo:n});return[t,n]=i.data.name_with_owner.split("/"),r?{owner:t,repo:n,ref:{type:oe.Tree,id:i.data.ref},path:i.data.path}:{owner:t,repo:n}}catch(i){if(i instanceof Ki)switch(i.status){case 401:throw W.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw Yr.showRepositoryForbiddenMessage(`${t}/${n}`,()=>this.reauthenticate()),new Is(i,`${t}/${n}`);case 404:throw Yr.showRepositoryNotFoundMessage(`${t}/${n}`),new As(i,`${t}/${n}`);case 409:throw Yr.showRepositoryEmptyMessage(`${t}/${n}`),new nu(i,`${t}/${n}`)}return}}asFileTreeKey(t,n){return`${M(this.getProviderRootUri(t))}:${n}`}}o(au,"GitHubRepositoryProvider"),$0([Pt()],au.prototype,"ensureAuthenticated",1),$0([Pt()],au.prototype,"octokit",1);function Qf(e){switch(e){case"OPEN":return re.Open;case"CLOSED":return re.Closed;case"MERGED":return re.Merged}}o(Qf,"toPullRequestState");function m1(e){if(e!==void 0)return e.map(t=>{switch(t){case re.Open:return"OPEN";case re.Closed:return"CLOSED";case re.Merged:return"MERGED"}})}o(m1,"fromPullRequestStates");var za;(function(e){e.ADMIN="ADMIN",e.MAINTAIN="MAINTAIN",e.WRITE="WRITE",e.TRIAGE="TRIAGE",e.READ="READ",e.NONE="NONE"})(za||(za={}));function Xf(e){switch(e){case za.ADMIN:return O.Admin;case za.MAINTAIN:return O.Maintain;case za.WRITE:return O.Write;case za.TRIAGE:return O.Triage;case za.READ:return O.Read;default:return O.None}}o(Xf,"permissionToAccessLevel");function y1(e){switch(e&&(e=e.toLocaleLowerCase()),e){case"blob":return d.FileType.File;case"tree":return d.FileType.Directory;default:return d.FileType.Unknown}}o(y1,"typenameToFileType");function w1(e){return{registerVirtualProviderService:function(t){ot.configure("githubRepositories",e),xe.configure(e,"GitHub Repositories",Ye.get("logLevel")),j.start("Time to root directory",{log:!1});const n=Yc.configure(e),r=new zg(e);try{const i=new Ps(e.globalState),a=i.with(n),s=new Os(e.globalStorageUri,n),l=new ks(a),c=new Fs(t,a,s,r,n);c.getWorkspacesWithChanges();const u=new tf(t,i,c,n,e),f=new y0(e.globalStorageUri,t),y=new au(t,f),v=new bs(t,y,c,f,r);e.subscriptions.push(t.register("github","GitHub",y,v,i,c,l,u),y,v,new $e(y))}catch(i){throw xe.error(i),i}}}}o(w1,"activate")})(),module.exports=__webpack_exports__})();
